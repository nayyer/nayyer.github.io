"use strict";(self.webpackChunktest_bam=self.webpackChunktest_bam||[]).push([[179],{440:(hn,ft,D)=>{D.d(ft,{nm:()=>Xi});var m=D(6351);D(4650),D(5867);var rt=D(5861),Oe=D(9681),ae=D(4859),Me=D(2090),_e=D(1877);const fe=new Map,Ge={activated:!1,tokenObservers:[]},Se={initialized:!1,enabled:!1};function Ke(It){return fe.get(It)||Object.assign({},Ge)}function yt(){return Se}class at{constructor(Dt,Vt,ln,gn,Ln){if(this.operation=Dt,this.retryPolicy=Vt,this.getWaitDuration=ln,this.lowerBound=gn,this.upperBound=Ln,this.pending=null,this.nextErrorWaitInterval=gn,gn>Ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Dt){var Vt=this;return(0,rt.Z)(function*(){Vt.stop();try{Vt.pending=new Me.BH,yield function it(It){return new Promise(Dt=>{setTimeout(Dt,It)})}(Vt.getNextRun(Dt)),Vt.pending.resolve(),yield Vt.pending.promise,Vt.pending=new Me.BH,yield Vt.operation(),Vt.pending.resolve(),yield Vt.pending.promise,Vt.process(!0).catch(()=>{})}catch(ln){Vt.retryPolicy(ln)?Vt.process(!1).catch(()=>{}):Vt.stop()}})()}getNextRun(Dt){if(Dt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Vt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Vt}}}const Ce=new Me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xe(It){if(!Ke(It).activated)throw Ce.create("use-before-activation",{appName:It.name})}function Lt(It,Dt){return zt.apply(this,arguments)}function zt(){return(zt=(0,rt.Z)(function*({url:It,body:Dt},Vt){var ln,gn;const Ln={"Content-Type":"application/json"},fi=Vt.getImmediate({optional:!0});if(fi){const ss=yield fi.getHeartbeatsHeader();ss&&(Ln["X-Firebase-Client"]=ss)}const ir={method:"POST",body:JSON.stringify(Dt),headers:Ln};let Ui,fs;try{Ui=yield fetch(It,ir)}catch(ss){throw Ce.create("fetch-network-error",{originalErrorMessage:null===(ln=ss)||void 0===ln?void 0:ln.message})}if(200!==Ui.status)throw Ce.create("fetch-status-error",{httpStatus:Ui.status});try{fs=yield Ui.json()}catch(ss){throw Ce.create("fetch-parse-error",{originalErrorMessage:null===(gn=ss)||void 0===gn?void 0:gn.message})}const Wr=fs.ttl.match(/^([\d.]+)(s)$/);if(!Wr||!Wr[2]||isNaN(Number(Wr[1])))throw Ce.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${fs.ttl}`});const xs=1e3*Number(Wr[1]),Zo=Date.now();return{token:fs.token,expireTimeMillis:Zo+xs,issuedAtTimeMillis:Zo}})).apply(this,arguments)}function Vn(It,Dt){const{projectId:Vt,appId:ln,apiKey:gn}=It.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Vt}/apps/${ln}:exchangeDebugToken?key=${gn}`,body:{debug_token:Dt}}}const ci="firebase-app-check-store";let Fn=null;function ht(){return Fn||(Fn=new Promise((It,Dt)=>{var Vt;try{const ln=indexedDB.open("firebase-app-check-database",1);ln.onsuccess=gn=>{It(gn.target.result)},ln.onerror=gn=>{var Ln;Dt(Ce.create("storage-open",{originalErrorMessage:null===(Ln=gn.target.error)||void 0===Ln?void 0:Ln.message}))},ln.onupgradeneeded=gn=>{0===gn.oldVersion&&gn.target.result.createObjectStore(ci,{keyPath:"compositeKey"})}}catch(ln){Dt(Ce.create("storage-open",{originalErrorMessage:null===(Vt=ln)||void 0===Vt?void 0:Vt.message}))}}),Fn)}function z(){return(z=(0,rt.Z)(function*(It,Dt){const ln=(yield ht()).transaction(ci,"readwrite"),Ln=ln.objectStore(ci).put({compositeKey:It,value:Dt});return new Promise((fi,ir)=>{Ln.onsuccess=Ui=>{fi()},ln.onerror=Ui=>{var fs;ir(Ce.create("storage-set",{originalErrorMessage:null===(fs=Ui.target.error)||void 0===fs?void 0:fs.message}))}})})).apply(this,arguments)}const Pt=new _e.Yd("@firebase/app-check");function un(It,Dt){return(0,Me.hl)()?function Z(It,Dt){return function De(It,Dt){return z.apply(this,arguments)}(function mt(It){return`${It.options.appId}-${It.name}`}(It),Dt)}(It,Dt).catch(Vt=>{Pt.warn(`Failed to write token to IndexedDB. Error: ${Vt}`)}):Promise.resolve()}function ui(){return yt().enabled}function Nt(){return _t.apply(this,arguments)}function _t(){return(_t=(0,rt.Z)(function*(){const It=yt();if(It.enabled&&It.token)return It.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Tt={error:"UNKNOWN_ERROR"};function Ue(It){return Me.US.encodeString(JSON.stringify(It),!1)}function je(It){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,rt.Z)(function*(It,Dt=!1){const Vt=It.app;xe(Vt);const ln=Ke(Vt);let Ln,gn=ln.token;if(gn&&!Xe(gn)&&(ln.token=void 0,gn=void 0),!gn){const Ui=yield ln.cachedTokenPromise;Ui&&(Xe(Ui)?gn=Ui:yield un(Vt,void 0))}if(!Dt&&gn&&Xe(gn))return{token:gn.token};let ir,fi=!1;if(ui()){ln.exchangeTokenPromise||(ln.exchangeTokenPromise=Lt(Vn(Vt,yield Nt()),It.heartbeatServiceProvider).finally(()=>{ln.exchangeTokenPromise=void 0}),fi=!0);const Ui=yield ln.exchangeTokenPromise;return yield un(Vt,Ui),ln.token=Ui,{token:Ui.token}}try{ln.exchangeTokenPromise||(ln.exchangeTokenPromise=ln.provider.getToken().finally(()=>{ln.exchangeTokenPromise=void 0}),fi=!0),gn=yield Ke(Vt).exchangeTokenPromise}catch(Ui){"appCheck/throttled"===Ui.code?Pt.warn(Ui.message):Pt.error(Ui),Ln=Ui}return gn?Ln?ir=Xe(gn)?{token:gn.token,internalError:Ln}:oe(Ln):(ir={token:gn.token},ln.token=gn,yield un(Vt,gn)):ir=oe(Ln),fi&&bt(Vt,ir),ir})).apply(this,arguments)}function Rt(It,Dt){const Vt=Ke(It),ln=Vt.tokenObservers.filter(gn=>gn.next!==Dt);0===ln.length&&Vt.tokenRefresher&&Vt.tokenRefresher.isRunning()&&Vt.tokenRefresher.stop(),Vt.tokenObservers=ln}function ke(It){const{app:Dt}=It,Vt=Ke(Dt);let ln=Vt.tokenRefresher;ln||(ln=function He(It){const{app:Dt}=It;return new at((0,rt.Z)(function*(){let ln;if(ln=Ke(Dt).token?yield je(It,!0):yield je(It),ln.error)throw ln.error;if(ln.internalError)throw ln.internalError}),()=>!0,()=>{const Vt=Ke(Dt);if(Vt.token){let ln=Vt.token.issuedAtTimeMillis+.5*(Vt.token.expireTimeMillis-Vt.token.issuedAtTimeMillis)+3e5;return ln=Math.min(ln,Vt.token.expireTimeMillis-3e5),Math.max(0,ln-Date.now())}return 0},3e4,96e4)}(It),Vt.tokenRefresher=ln),!ln.isRunning()&&Vt.isTokenAutoRefreshEnabled&&ln.start()}function bt(It,Dt){const Vt=Ke(It).tokenObservers;for(const ln of Vt)try{"EXTERNAL"===ln.type&&null!=Dt.error?ln.error(Dt.error):ln.next(Dt)}catch{}}function Xe(It){return It.expireTimeMillis-Date.now()>0}function oe(It){return{token:Ue(Tt),error:It}}class Le{constructor(Dt,Vt){this.app=Dt,this.heartbeatServiceProvider=Vt}_delete(){const{tokenObservers:Dt}=Ke(this.app);for(const Vt of Dt)Rt(this.app,Vt.next);return Promise.resolve()}}const zr="app-check-internal";!function is(){(0,Oe._registerComponent)(new ae.wA("app-check",It=>function kt(It,Dt){return new Le(It,Dt)}(It.getProvider("app").getImmediate(),It.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((It,Dt,Vt)=>{It.getProvider(zr).initialize()})),(0,Oe._registerComponent)(new ae.wA(zr,It=>function pn(It){return{getToken:Dt=>je(It,Dt),addTokenListener:Dt=>function pt(It,Dt,Vt,ln){const{app:gn}=It,Ln=Ke(gn);if(Ln.tokenObservers=[...Ln.tokenObservers,{next:Vt,error:ln,type:Dt}],Ln.token&&Xe(Ln.token)){const ir=Ln.token;Promise.resolve().then(()=>{Vt({token:ir.token}),ke(It)}).catch(()=>{})}Ln.cachedTokenPromise.then(()=>ke(It))}(It,"INTERNAL",Dt),removeTokenListener:Dt=>Rt(It.app,Dt)}}(It.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oe.registerVersion)("@firebase/app-check","0.5.17")}();class Xi{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},3385:(hn,ft,D)=>{D.d(ft,{zQ:()=>Ke,ww:()=>St,rT:()=>_e,f7:()=>Ge,L6:()=>ae,_Q:()=>Me,lh:()=>fe,Qv:()=>Oe,nw:()=>Se});var m=D(4650),b=D(7579),E=D(9646),M=D(9751),de=D(8996),be=D(6451),Fe=D(5363),re=D(3900),pe=D(4004),X=D(3151),se=D(3803),ue=D(576);function Te(yt,Qt){return(0,ue.m)(Qt)?(0,re.w)(()=>yt,Qt):(0,re.w)(()=>yt)}var ze=D(9468),Re=D(9300),dt=D(6351),Ye=D(2011),Je=D(6895),$e=D(440),Ft=D(127);const Oe=new m.OlP("angularfire2.auth.use-emulator"),ae=new m.OlP("angularfire2.auth.settings"),Me=new m.OlP("angularfire2.auth.tenant-id"),_e=new m.OlP("angularfire2.auth.langugage-code"),fe=new m.OlP("angularfire2.auth.use-device-language"),Ge=new m.OlP("angularfire.auth.persistence"),Se=(yt,Qt,Jt,Sn,xt,an,ne,at)=>(0,Ye.cc)(`${yt.name}.auth`,"AngularFireAuth",yt.name,()=>{const it=Qt.runOutsideAngular(()=>yt.auth());if(Jt&&it.useEmulator(...Jt),Sn&&(it.tenantId=Sn),it.languageCode=xt,an&&it.useDeviceLanguage(),ne)for(const[Bt,Ce]of Object.entries(ne))it.settings[Bt]=Ce;return at&&it.setPersistence(at),it},[Jt,Sn,xt,an,ne,at]);let Ke=(()=>{class yt{constructor(Jt,Sn,xt,an,ne,at,it,Bt,Ce,st,xe,ve){const Ct=new b.x,Lt=(0,E.of)(void 0).pipe((0,Fe.Q)(ne.outsideAngular),(0,re.w)(()=>an.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,5881)))),(0,pe.U)(()=>(0,Ye.on)(Jt,an,Sn)),(0,pe.U)(zt=>Se(zt,an,at,Bt,Ce,st,it,xe)),(0,X.d)({bufferSize:1,refCount:!1}));if((0,Je.PM)(xt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,E.of)(null);else{Lt.pipe((0,se.P)()).subscribe();const An=Lt.pipe((0,re.w)(xn=>xn.getRedirectResult().then(ii=>ii,()=>null)),dt.iC,(0,X.d)({bufferSize:1,refCount:!1})),Pn=Lt.pipe((0,re.w)(xn=>new M.y(ii=>({unsubscribe:an.runOutsideAngular(()=>xn.onAuthStateChanged(ci=>ii.next(ci),ci=>ii.error(ci),()=>ii.complete()))})))),Vn=Lt.pipe((0,re.w)(xn=>new M.y(ii=>({unsubscribe:an.runOutsideAngular(()=>xn.onIdTokenChanged(ci=>ii.next(ci),ci=>ii.error(ci),()=>ii.complete()))}))));this.authState=An.pipe(Te(Pn),(0,ze.R)(ne.outsideAngular),(0,Fe.Q)(ne.insideAngular)),this.user=An.pipe(Te(Vn),(0,ze.R)(ne.outsideAngular),(0,Fe.Q)(ne.insideAngular)),this.idToken=this.user.pipe((0,re.w)(xn=>xn?(0,de.D)(xn.getIdToken()):(0,E.of)(null))),this.idTokenResult=this.user.pipe((0,re.w)(xn=>xn?(0,de.D)(xn.getIdTokenResult()):(0,E.of)(null))),this.credential=(0,be.T)(An,Ct,this.authState.pipe((0,Re.h)(xn=>!xn))).pipe((0,pe.U)(xn=>xn?.user?xn:null),(0,ze.R)(ne.outsideAngular),(0,Fe.Q)(ne.insideAngular))}return(0,Ye.pX)(this,Lt,an,{spy:{apply:(zt,An,Pn)=>{(zt.startsWith("signIn")||zt.startsWith("createUser"))&&Pn.then(Vn=>Ct.next(Vn))}}})}}return yt.\u0275fac=function(Jt){return new(Jt||yt)(m.LFG(Ye.Dh),m.LFG(Ye.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(dt.HU),m.LFG(Oe,8),m.LFG(ae,8),m.LFG(Me,8),m.LFG(_e,8),m.LFG(fe,8),m.LFG(Ge,8),m.LFG($e.nm,8))},yt.\u0275prov=m.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"any"}),yt})(),St=(()=>{class yt{constructor(){Ft.Z.registerVersion("angularfire",dt.q4.full,"auth-compat")}}return yt.\u0275fac=function(Jt){return new(Jt||yt)},yt.\u0275mod=m.oAB({type:yt}),yt.\u0275inj=m.cJS({providers:[Ke]}),yt})()},7407:(hn,ft,D)=>{D.d(ft,{ST:()=>Xs,yb:()=>vb});var m=D(4650),b=D(4986),E=D(9751),M=D(8996),de=D(9646),be=D(6351),Fe=D(8675),re=D(4482),pe=D(5403);function X(){return(0,re.e)((o,e)=>{let t,c=!1;o.subscribe((0,pe.x)(e,h=>{const g=t;t=h,c&&e.next([g,h]),c=!0}))})}var fe,se=D(4004),ue=D(5026),Te=D(1884),ze=D(9300),Re=D(2011),dt=D(6895),Je=(D(5881),D(3942)),$e=D(5861),Ft=D(9681),rt=D(4859),Oe=D(1877),ae=D(2090),Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_e={},Ge=Ge||{},Se=Me||self;function Ke(){}function St(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function yt(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var Jt="closure_uid_"+(1e9*Math.random()>>>0),Sn=0;function xt(o,e,t){return o.call.apply(o.bind,arguments)}function an(o,e,t){if(!o)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,c),o.apply(e,h)}}return function(){return o.apply(e,arguments)}}function ne(o,e,t){return(ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xt:an).apply(null,arguments)}function at(o,e){var t=Array.prototype.slice.call(arguments,1);return function(){var c=t.slice();return c.push.apply(c,arguments),o.apply(this,c)}}function it(o,e){function t(){}t.prototype=e.prototype,o.X=e.prototype,o.prototype=new t,o.prototype.constructor=o,o.Wb=function(c,h,g){for(var C=Array(arguments.length-2),k=2;k<arguments.length;k++)C[k-2]=arguments[k];return e.prototype[h].apply(c,C)}}function Bt(){this.s=this.s,this.o=this.o}Bt.prototype.s=!1,Bt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Qt(o){Object.prototype.hasOwnProperty.call(o,Jt)&&o[Jt]||(o[Jt]=++Sn)}(this)},Bt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const st=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let t=0;t<o.length;t++)if(t in o&&o[t]===e)return t;return-1};function xe(o){const e=o.length;if(0<e){const t=Array(e);for(let c=0;c<e;c++)t[c]=o[c];return t}return[]}function ve(o,e){for(let t=1;t<arguments.length;t++){const c=arguments[t];if(St(c)){const h=o.length||0,g=c.length||0;o.length=h+g;for(let C=0;C<g;C++)o[h+C]=c[C]}else o.push(c)}}function Ct(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var Lt=function(){if(!Se.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{Se.addEventListener("test",Ke,e),Se.removeEventListener("test",Ke,e)}catch{}return o}();function zt(o){return/^[\s\xa0]*$/.test(o)}var An=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]};function Pn(o,e){return o<e?-1:o>e?1:0}function Vn(){var o=Se.navigator;return o&&(o=o.userAgent)?o:""}function xn(o){return-1!=Vn().indexOf(o)}function ii(o){return ii[" "](o),o}ii[" "]=Ke;var De,o,Cn=xn("Opera"),Fn=xn("Trident")||xn("MSIE"),ht=xn("Edge"),j=ht||Fn,Z=xn("Gecko")&&!(-1!=Vn().toLowerCase().indexOf("webkit")&&!xn("Edge"))&&!(xn("Trident")||xn("MSIE"))&&!xn("Edge"),Ie=-1!=Vn().toLowerCase().indexOf("webkit")&&!xn("Edge");function We(){var o=Se.document;return o?o.documentMode:void 0}e:{var z="",ee=(o=Vn(),Z?/rv:([^\);]+)(\)|;)/.exec(o):ht?/Edge\/([\d\.]+)/.exec(o):Fn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):Ie?/WebKit\/(\S+)/.exec(o):Cn?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(ee&&(z=ee?ee[1]:""),Fn){var qe=We();if(null!=qe&&qe>parseFloat(z)){De=String(qe);break e}}De=z}var mt={};var un=Se.document&&Fn&&(We()||parseInt(De,10))||void 0;function Wn(o,e){if(Ct.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var t=this.type=o.type,c=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(Z){e:{try{ii(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=o.fromElement:"mouseout"==t&&(e=o.toElement);this.relatedTarget=e,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:Tn[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Wn.X.h.call(this)}}it(Wn,Ct);var Tn={2:"touch",3:"pen",4:"mouse"};Wn.prototype.h=function(){Wn.X.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ui="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function _t(o,e,t,c,h){this.listener=o,this.proxy=null,this.src=e,this.type=t,this.capture=!!c,this.ha=h,this.key=++Nt,this.ba=this.ea=!1}function ot(o){o.ba=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Tt(o,e,t){for(const c in o)e.call(t,o[c],c,o)}function Ue(o){const e={};for(const t in o)e[t]=o[t];return e}const je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(o,e){let t,c;for(let h=1;h<arguments.length;h++){for(t in c=arguments[h],c)o[t]=c[t];for(let g=0;g<je.length;g++)t=je[g],Object.prototype.hasOwnProperty.call(c,t)&&(o[t]=c[t])}}function pt(o){this.src=o,this.g={},this.h=0}function Rt(o,e){var t=e.type;if(t in o.g){var g,c=o.g[t],h=st(c,e);(g=0<=h)&&Array.prototype.splice.call(c,h,1),g&&(ot(e),0==o.g[t].length&&(delete o.g[t],o.h--))}}function ke(o,e,t,c){for(var h=0;h<o.length;++h){var g=o[h];if(!g.ba&&g.listener==e&&g.capture==!!t&&g.ha==c)return h}return-1}pt.prototype.add=function(o,e,t,c,h){var g=o.toString();(o=this.g[g])||(o=this.g[g]=[],this.h++);var C=ke(o,e,c,h);return-1<C?(e=o[C],t||(e.ea=!1)):((e=new _t(e,this.src,g,!!c,h)).ea=t,o.push(e)),e};var He="closure_lm_"+(1e6*Math.random()|0),bt={};function Xe(o,e,t,c,h){if(c&&c.once)return kt(o,e,t,c,h);if(Array.isArray(e)){for(var g=0;g<e.length;g++)Xe(o,e[g],t,c,h);return null}return t=At(t),o&&o[ui]?o.N(e,t,yt(c)?!!c.capture:!!c,h):oe(o,e,t,!1,c,h)}function oe(o,e,t,c,h,g){if(!e)throw Error("Invalid event type");var C=yt(h)?!!h.capture:!!h,k=Be(o);if(k||(o[He]=k=new pt(o)),(t=k.add(e,t,c,C,g)).proxy)return t;if(c=function Le(){const e=Ze;return function o(t){return e.call(o.src,o.listener,t)}}(),t.proxy=c,c.src=o,c.listener=t,o.addEventListener)Lt||(h=C),void 0===h&&(h=!1),o.addEventListener(e.toString(),c,h);else if(o.attachEvent)o.attachEvent(Hn(e.toString()),c);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(c)}return t}function kt(o,e,t,c,h){if(Array.isArray(e)){for(var g=0;g<e.length;g++)kt(o,e[g],t,c,h);return null}return t=At(t),o&&o[ui]?o.O(e,t,yt(c)?!!c.capture:!!c,h):oe(o,e,t,!0,c,h)}function pn(o,e,t,c,h){if(Array.isArray(e))for(var g=0;g<e.length;g++)pn(o,e[g],t,c,h);else c=yt(c)?!!c.capture:!!c,t=At(t),o&&o[ui]?(o=o.i,(e=String(e).toString())in o.g&&-1<(t=ke(g=o.g[e],t,c,h))&&(ot(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete o.g[e],o.h--))):o&&(o=Be(o))&&(e=o.g[e.toString()],o=-1,e&&(o=ke(e,t,c,h)),(t=-1<o?e[o]:null)&&zn(t))}function zn(o){if("number"!=typeof o&&o&&!o.ba){var e=o.src;if(e&&e[ui])Rt(e.i,o);else{var t=o.type,c=o.proxy;e.removeEventListener?e.removeEventListener(t,c,o.capture):e.detachEvent?e.detachEvent(Hn(t),c):e.addListener&&e.removeListener&&e.removeListener(c),(t=Be(e))?(Rt(t,o),0==t.h&&(t.src=null,e[He]=null)):ot(o)}}}function Hn(o){return o in bt?bt[o]:bt[o]="on"+o}function Ze(o,e){if(o.ba)o=!0;else{e=new Wn(e,this);var t=o.listener,c=o.ha||o.src;o.ea&&zn(o),o=t.call(c,e)}return o}function Be(o){return(o=o[He])instanceof pt?o:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(o){return"function"==typeof o?o:(o[Ne]||(o[Ne]=function(e){return o.handleEvent(e)}),o[Ne])}function Ut(){Bt.call(this),this.i=new pt(this),this.P=this,this.I=null}function In(o,e){var t,c=o.I;if(c)for(t=[];c;c=c.I)t.push(c);if(o=o.P,c=e.type||e,"string"==typeof e)e=new Ct(e,o);else if(e instanceof Ct)e.target=e.target||o;else{var h=e;Ae(e=new Ct(c,o),h)}if(h=!0,t)for(var g=t.length-1;0<=g;g--){var C=e.g=t[g];h=li(C,c,!0,e)&&h}if(h=li(C=e.g=o,c,!0,e)&&h,h=li(C,c,!1,e)&&h,t)for(g=0;g<t.length;g++)h=li(C=e.g=t[g],c,!1,e)&&h}function li(o,e,t,c){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,g=0;g<e.length;++g){var C=e[g];if(C&&!C.ba&&C.capture==t){var k=C.listener,Q=C.ha||C.src;C.ea&&Rt(o.i,C),h=!1!==k.call(Q,c)&&h}}return h&&!c.defaultPrevented}it(Ut,Bt),Ut.prototype[ui]=!0,Ut.prototype.removeEventListener=function(o,e,t,c){pn(this,o,e,t,c)},Ut.prototype.M=function(){if(Ut.X.M.call(this),this.i){var e,o=this.i;for(e in o.g){for(var t=o.g[e],c=0;c<t.length;c++)ot(t[c]);delete o.g[e],o.h--}}this.I=null},Ut.prototype.N=function(o,e,t,c){return this.i.add(String(o),e,!1,t,c)},Ut.prototype.O=function(o,e,t,c){return this.i.add(String(o),e,!0,t,c)};var pi=Se.JSON.stringify;function Ri(){var o=Sr;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var jr,Zn=new class{constructor(o,e){this.i=o,this.j=e,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}(()=>new Tr,o=>o.reset());class Tr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ts(o){Se.setTimeout(()=>{throw o},0)}function As(o,e){jr||function zi(){var o=Se.Promise.resolve(void 0);jr=function(){o.then(fr)}}(),us||(jr(),us=!0),Sr.add(o,e)}var us=!1,Sr=new class Hr{constructor(){this.h=this.g=null}add(e,t){const c=Zn.get();c.set(e,t),this.h?this.h.next=c:this.g=c,this.h=c}};function fr(){for(var o;o=Ri();){try{o.h.call(o.g)}catch(t){ts(t)}var e=Zn;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}us=!1}function tr(o,e){Ut.call(this),this.h=o||1,this.g=e||Se,this.j=ne(this.lb,this),this.l=Date.now()}function ns(o){o.ca=!1,o.R&&(o.g.clearTimeout(o.R),o.R=null)}function Ti(o,e,t){if("function"==typeof o)t&&(o=ne(o,t));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=ne(o.handleEvent,o)}return 2147483647<Number(e)?-1:Se.setTimeout(o,e||0)}function Js(o){o.g=Ti(()=>{o.g=null,o.i&&(o.i=!1,Js(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}it(tr,Ut),(fe=tr.prototype).ca=!1,fe.R=null,fe.lb=function(){if(this.ca){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-o):(this.R&&(this.g.clearTimeout(this.R),this.R=null),In(this,"tick"),this.ca&&(ns(this),this.start()))}},fe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fe.M=function(){tr.X.M.call(this),ns(this),delete this.g};class zr extends Bt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Js(this)}M(){super.M(),this.g&&(Se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(o){Bt.call(this),this.h=o,this.g={}}it(is,Bt);var rs=[];function Fr(o,e,t,c){Array.isArray(t)||(t&&(rs[0]=t.toString()),t=rs);for(var h=0;h<t.length;h++){var g=Xe(e,t[h],c||o.handleEvent,!1,o.h||o);if(!g)break;o.g[g.key]=g}}function Xi(o){Tt(o.g,function(e,t){this.g.hasOwnProperty(t)&&zn(e)},o),o.g={}}function ds(){this.g=!0}function Ki(o,e,t,c){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ws(o,e){if(!o.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(o=0;o<t.length;o++)if(Array.isArray(t[o])){var c=t[o];if(!(2>c.length)){var h=c[1];if(Array.isArray(h)&&!(1>h.length)){var g=h[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var C=1;C<h.length;C++)h[C]=""}}}return pi(t)}catch{return e}}(o,t)+(c?" "+c:"")})}is.prototype.M=function(){is.X.M.call(this),Xi(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ds.prototype.Aa=function(){this.g=!1},ds.prototype.info=function(){};var $r={},Ks=null;function Rr(){return Ks=Ks||new Ut}function lt(o){Ct.call(this,$r.Pa,o)}function en(o){const e=Rr();In(e,new lt(e))}function jt(o,e){Ct.call(this,$r.STAT_EVENT,o),this.stat=e}function Yt(o){const e=Rr();In(e,new jt(e,o))}function Nn(o,e){Ct.call(this,$r.Qa,o),this.size=e}function Mn(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return Se.setTimeout(function(){o()},e)}$r.Pa="serverreachability",it(lt,Ct),$r.STAT_EVENT="statevent",it(jt,Ct),$r.Qa="timingevent",it(Nn,Ct);var It={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Dt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Vt(){}function gn(){}Vt.prototype.h=null;var Ui,Ln={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function fi(){Ct.call(this,"d")}function ir(){Ct.call(this,"c")}function fs(){}function Wr(o,e,t,c){this.l=o,this.j=e,this.m=t,this.U=c||1,this.S=new is(this),this.O=Zo,this.T=new tr(o=j?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new xs}function xs(){this.i=null,this.g="",this.h=!1}it(fi,Ct),it(ir,Ct),it(fs,Vt),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},Ui=new fs;var Zo=45e3,ss={},Fs={};function Oo(o,e,t){o.K=1,o.v=mi(me(e)),o.s=t,o.P=!0,Ro(o,null)}function Ro(o,e){o.F=Date.now(),eo(o),o.A=me(o.v);var t=o.A,c=o.U;Array.isArray(c)||(c=[String(c)]),lo(t.i,"t",c),o.C=0,t=o.l.H,o.h=new xs,o.g=Mo(o.l,t?e:null,!o.s),0<o.N&&(o.L=new zr(ne(o.La,o,o.g),o.N)),Fr(o.S,o.g,"readystatechange",o.ib),e=o.H?Ue(o.H):{},o.s?(o.u||(o.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.da(o.A,o.u,o.s,e)):(o.u="GET",o.g.da(o.A,o.u,null,e)),en(),function ki(o,e,t,c,h,g){o.info(function(){if(o.g)if(g)for(var C="",k=g.split("&"),Q=0;Q<k.length;Q++){var ie=k[Q].split("=");if(1<ie.length){var Pe=ie[0];ie=ie[1];var wt=Pe.split("_");C=2<=wt.length&&"type"==wt[1]?C+(Pe+"=")+ie+"&":C+(Pe+"=redacted&")}}else C=null;else C=g;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+e+"\n"+t+"\n"+C})}(o.j,o.u,o.A,o.m,o.U,o.s)}function Lr(o){return!!o.g&&"GET"==o.u&&2!=o.K&&o.l.Da}function Ys(o,e,t){let h,c=!0;for(;!o.I&&o.C<t.length;){if(h=To(o,t),h==Fs){4==e&&(o.o=4,Yt(14),c=!1),Ki(o.j,o.m,null,"[Incomplete Response]");break}if(h==ss){o.o=4,Yt(15),Ki(o.j,o.m,t,"[Invalid Chunk]"),c=!1;break}Ki(o.j,o.m,h,null),xa(o,h)}Lr(o)&&h!=Fs&&h!=ss&&(o.h.g="",o.C=0),4!=e||0!=t.length||o.h.h||(o.o=1,Yt(16),c=!1),o.i=o.i&&c,c?0<t.length&&!o.$&&(o.$=!0,(e=o.l).g==o&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Zi(e),e.K=!0,Yt(11))):(Ki(o.j,o.m,t,"[Invalid Chunked Response]"),Ls(o),go(o))}function To(o,e){var t=o.C,c=e.indexOf("\n",t);return-1==c?Fs:(t=Number(e.substring(t,c)),isNaN(t)?ss:(c+=1)+t>e.length?Fs:(e=e.substr(c,t),o.C=c+t,e))}function eo(o){o.V=Date.now()+o.O,_a(o,o.O)}function _a(o,e){if(null!=o.B)throw Error("WatchDog timer not null");o.B=Mn(ne(o.gb,o),e)}function mo(o){o.B&&(Se.clearTimeout(o.B),o.B=null)}function go(o){0==o.l.G||o.I||Zr(o.l,o)}function Ls(o){mo(o);var e=o.L;e&&"function"==typeof e.na&&e.na(),o.L=null,ns(o.T),Xi(o.S),o.g&&(e=o.g,o.g=null,e.abort(),e.na())}function xa(o,e){try{var t=o.l;if(0!=t.G&&(t.g==o||_n(t.h,o)))if(!o.J&&_n(t.h,o)&&3==t.G){try{var c=t.Fa.g.parse(e)}catch{c=null}if(Array.isArray(c)&&3==c.length){var h=c;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<o.F))break e;Hi(t),F(t)}Ji(t),Yt(18)}}else t.Ba=h[1],0<t.Ba-t.T&&37500>h[2]&&t.L&&0==t.A&&!t.v&&(t.v=Mn(ne(t.cb,t),6e3));if(1>=va(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Er(t,11)}else if((o.J||t.g==o)&&Hi(t),!zt(e))for(h=t.Fa.g.parse(e),e=0;e<h.length;e++){let ie=h[e];if(t.T=ie[0],ie=ie[1],2==t.G)if("c"==ie[0]){t.I=ie[1],t.ka=ie[2];const Pe=ie[3];null!=Pe&&(t.ma=Pe,t.j.info("VER="+t.ma));const wt=ie[4];null!=wt&&(t.Ca=wt,t.j.info("SVER="+t.Ca));const qt=ie[5];null!=qt&&"number"==typeof qt&&0<qt&&(t.J=c=1.5*qt,t.j.info("backChannelRequestTimeoutMs_="+c)),c=t;const mn=o.g;if(mn){const bn=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bn){var g=c.h;g.g||-1==bn.indexOf("spdy")&&-1==bn.indexOf("quic")&&-1==bn.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(Ii(g,g.h),g.h=null))}if(c.D){const Jn=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jn&&(c.za=Jn,Bn(c.F,c.D,Jn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-o.F,t.j.info("Handshake RTT: "+t.P+"ms"));var C=o;if((c=t).sa=So(c,c.H?c.ka:null,c.V),C.J){Xl(c.h,C);var k=C,Q=c.J;Q&&k.setTimeout(Q),k.B&&(mo(k),eo(k)),c.g=C}else ei(c);0<t.i.length&&H(t)}else"stop"!=ie[0]&&"close"!=ie[0]||Er(t,7);else 3==t.G&&("stop"==ie[0]||"close"==ie[0]?"stop"==ie[0]?Er(t,7):Xa(t):"noop"!=ie[0]&&t.l&&t.l.wa(ie),t.A=0)}en()}catch{}}function Kr(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(St(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var t=function ao(o){if(o.oa&&"function"==typeof o.oa)return o.oa();if(!o.W||"function"!=typeof o.W){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(St(o)||"string"==typeof o){var e=[];o=o.length;for(var t=0;t<o;t++)e.push(t);return e}e=[],t=0;for(const c in o)e[t++]=c;return e}}}(o),c=function Os(o){if(o.W&&"function"==typeof o.W)return o.W();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(St(o)){for(var e=[],t=o.length,c=0;c<t;c++)e.push(o[c]);return e}for(c in e=[],t=0,o)e[t++]=o[c];return e}(o),h=c.length,g=0;g<h;g++)e.call(void 0,c[g],t&&t[g],o)}(fe=Wr.prototype).setTimeout=function(o){this.O=o},fe.ib=function(o){o=o.target;const e=this.L;e&&3==_o(o)?e.l():this.La(o)},fe.La=function(o){try{if(o==this.g)e:{const Pe=_o(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Pe)&&(3!=Pe||j||this.g&&(this.h.h||this.g.fa()||qs(this.g)))){this.I||4!=Pe||7==e||en(),mo(this);var t=this.g.aa();this.Y=t;t:if(Lr(this)){var c=qs(this.g);o="";var h=c.length,g=4==_o(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),go(this);var C="";break t}this.h.i=new Se.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,o+=this.h.i.decode(c[e],{stream:g&&e==h-1});c.splice(0,h),this.h.g+=o,this.C=0,C=this.h.g}else C=this.g.fa();if(this.i=200==t,function $s(o,e,t,c,h,g,C){o.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+g+" "+C})}(this.j,this.u,this.A,this.m,this.U,Pe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var k,Q=this.g;if((k=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zt(k)){var ie=k;break t}}ie=null}if(!(t=ie)){this.i=!1,this.o=3,Yt(12),Ls(this),go(this);break e}Ki(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xa(this,t)}this.P?(Ys(this,Pe,C),j&&this.i&&3==Pe&&(Fr(this.S,this.T,"tick",this.hb),this.T.start())):(Ki(this.j,this.m,C,null),xa(this,C)),4==Pe&&Ls(this),this.i&&!this.I&&(4==Pe?Zr(this.l,this):(this.i=!1,eo(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,Yt(12)):(this.o=0,Yt(13)),Ls(this),go(this)}}}catch{}},fe.hb=function(){if(this.g){var o=_o(this.g),e=this.g.fa();this.C<e.length&&(mo(this),Ys(this,o,e),this.i&&4!=o&&eo(this))}},fe.cancel=function(){this.I=!0,Ls(this)},fe.gb=function(){this.B=null;const o=Date.now();0<=o-this.V?(function hs(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(en(),Yt(17)),Ls(this),this.o=2,go(this)):_a(this,this.V-o)};var ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function G(o,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof G){this.h=void 0!==e?e:o.h,$t(this,o.j),this.s=o.s,this.g=o.g,fn(this,o.m),this.l=o.l,e=o.i;var t=new as;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Yn(this,t),this.o=o.o}else o&&(t=String(o).match(ct))?(this.h=!!e,$t(this,t[1]||"",!0),this.s=Di(t[2]||""),this.g=Di(t[3]||"",!0),fn(this,t[4]),this.l=Di(t[5]||"",!0),Yn(this,t[6]||"",!0),this.o=Di(t[7]||"")):(this.h=!!e,this.i=new as(null,this.h))}function me(o){return new G(o)}function $t(o,e,t){o.j=t?Di(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function fn(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function Yn(o,e,t){e instanceof as?(o.i=e,function ya(o,e){e&&!o.j&&(ys(o),o.i=null,o.g.forEach(function(t,c){var h=c.toLowerCase();c!=h&&(vr(this,c),lo(this,h,t))},o)),o.j=e}(o.i,o.h)):(t||(e=yi(e,Bs)),o.i=new as(e,o.h))}function Bn(o,e,t){o.i.set(e,t)}function mi(o){return Bn(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Di(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function yi(o,e,t){return"string"==typeof o?(o=encodeURI(o).replace(e,kr),t&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function kr(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}G.prototype.toString=function(){var o=[],e=this.j;e&&o.push(yi(e,os,!0),":");var t=this.g;return(t||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(yi(e,os,!0),"@"),o.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&o.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&o.push("/"),o.push(yi(t,"/"==t.charAt(0)?cl:Yi,!0))),(t=this.i.toString())&&o.push("?",t),(t=this.o)&&o.push("#",yi(t,Vs)),o.join("")};var os=/[#\/\?@]/g,Yi=/[#\?:]/g,cl=/[#\?]/g,Bs=/[#\?@]/g,Vs=/#/g;function as(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function ys(o){o.g||(o.g=new Map,o.h=0,o.i&&function Mt(o,e){if(o){o=o.split("&");for(var t=0;t<o.length;t++){var c=o[t].indexOf("="),h=null;if(0<=c){var g=o[t].substring(0,c);h=o[t].substring(c+1)}else g=o[t];e(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(o.i,function(e,t){o.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vr(o,e){ys(o),e=qo(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function di(o,e){return ys(o),e=qo(o,e),o.g.has(e)}function lo(o,e,t){vr(o,e),0<t.length&&(o.i=null,o.g.set(qo(o,e),xe(t)),o.h+=t.length)}function qo(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}function to(o){this.l=o||Zs,o=Se.PerformanceNavigationTiming?0<(o=Se.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(Se.g&&Se.g.Ga&&Se.g.Ga()&&Se.g.Ga().$b),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(fe=as.prototype).add=function(o,e){ys(this),this.i=null,o=qo(this,o);var t=this.g.get(o);return t||this.g.set(o,t=[]),t.push(e),this.h+=1,this},fe.forEach=function(o,e){ys(this),this.g.forEach(function(t,c){t.forEach(function(h){o.call(e,h,c,this)},this)},this)},fe.oa=function(){ys(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let c=0;c<e.length;c++){const h=o[c];for(let g=0;g<h.length;g++)t.push(e[c])}return t},fe.W=function(o){ys(this);let e=[];if("string"==typeof o)di(this,o)&&(e=e.concat(this.g.get(qo(this,o))));else{o=Array.from(this.g.values());for(let t=0;t<o.length;t++)e=e.concat(o[t])}return e},fe.set=function(o,e){return ys(this),this.i=null,di(this,o=qo(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},fe.get=function(o,e){return o&&0<(o=this.W(o)).length?String(o[0]):e},fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var c=e[t];const g=encodeURIComponent(String(c)),C=this.W(c);for(c=0;c<C.length;c++){var h=g;""!==C[c]&&(h+="="+encodeURIComponent(String(C[c]))),o.push(h)}}return this.i=o.join("&")};var Zs=10;function ko(o){return!!o.h||!!o.g&&o.g.size>=o.j}function va(o){return o.h?1:o.g?o.g.size:0}function _n(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function Ii(o,e){o.g?o.g.add(e):o.h=e}function Xl(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function Qo(o){if(null!=o.h)return o.i.concat(o.h.D);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const t of o.g.values())e=e.concat(t.D);return e}return xe(o.i)}function Yr(){}function K(){this.g=new Yr}function $(o,e,t){const c=t||"";try{Kr(o,function(h,g){let C=h;yt(h)&&(C=pi(h)),e.push(c+g+"="+encodeURIComponent(C))})}catch(h){throw e.push(c+"type="+encodeURIComponent("_badmap")),h}}function we(o,e,t,c,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(c)}catch{}}function tn(o){this.l=o.ac||null,this.j=o.jb||!1}function Xn(o,e){Ut.call(this),this.D=o,this.u=e,this.m=void 0,this.readyState=pr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}to.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}},Yr.prototype.stringify=function(o){return Se.JSON.stringify(o,void 0)},Yr.prototype.parse=function(o){return Se.JSON.parse(o,void 0)},it(tn,Vt),tn.prototype.g=function(){return new Xn(this.l,this.j)},tn.prototype.i=function(o){return function(){return o}}({}),it(Xn,Ut);var pr=0;function no(o){o.j.read().then(o.Ta.bind(o)).catch(o.ga.bind(o))}function Rs(o){o.readyState=4,o.l=null,o.j=null,o.A=null,br(o)}function br(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(fe=Xn.prototype).open=function(o,e){if(this.readyState!=pr)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,br(this)},fe.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.D||Se).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rs(this)),this.readyState=pr},fe.Wa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Se.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;no(this)}else o.text().then(this.Va.bind(this),this.ga.bind(this))},fe.Ta=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?Rs(this):br(this),3==this.readyState&&no(this)}},fe.Va=function(o){this.g&&(this.response=this.responseText=o,Rs(this))},fe.Ua=function(o){this.g&&(this.response=o,Rs(this))},fe.ga=function(){this.g&&Rs(this)},fe.setRequestHeader=function(o,e){this.v.append(o,e)},fe.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},fe.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var t=e.next();!t.done;)o.push((t=t.value)[0]+": "+t[1]),t=e.next();return o.join("\r\n")},Object.defineProperty(Xn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var Po=Se.JSON.parse;function Mr(o){Ut.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ya,this.K=this.L=!1}it(Mr,Ut);var Ya="",Xo=/^https?$/i,Sc=["POST","PUT"];function dl(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,Dl(o),Ra(o)}function Dl(o){o.D||(o.D=!0,In(o,"complete"),In(o,"error"))}function Oa(o){if(o.h&&typeof Ge<"u"&&(!o.C[1]||4!=_o(o)||2!=o.aa()))if(o.v&&4==_o(o))Ti(o.Ha,0,o);else if(In(o,"readystatechange"),4==_o(o)){o.h=!1;try{const k=o.aa();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var c;if(c=0===k){var h=String(o.H).match(ct)[1]||null;if(!h&&Se.self&&Se.self.location){var g=Se.self.location.protocol;h=g.substr(0,g.length-1)}c=!Xo.test(h?h.toLowerCase():"")}t=c}if(t)In(o,"complete"),In(o,"success");else{o.m=6;try{var C=2<_o(o)?o.g.statusText:""}catch{C=""}o.j=C+" ["+o.aa()+"]",Dl(o)}}finally{Ra(o)}}}function Ra(o,e){if(o.g){Za(o);const t=o.g,c=o.C[0]?Ke:null;o.g=null,o.C=null,e||In(o,"ready");try{t.onreadystatechange=c}catch{}}}function Za(o){o.g&&o.K&&(o.g.ontimeout=null),o.A&&(Se.clearTimeout(o.A),o.A=null)}function _o(o){return o.g?o.g.readyState:0}function qs(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.J){case Ya:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function qa(o){let e="";return Tt(o,function(t,c){e+=c,e+=":",e+=t,e+="\r\n"}),e}function yo(o,e,t){e:{for(c in t){var c=!1;break e}c=!0}c||(t=qa(t),"string"==typeof o?null!=t&&encodeURIComponent(String(t)):Bn(o,e,t))}function Il(o,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[o]||e}function Qa(o){this.Ca=0,this.i=[],this.j=new ds,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Il("failFast",!1,o),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Il("baseRetryDelayMs",5e3,o),this.bb=Il("retryDelaySeedMs",1e4,o),this.$a=Il("forwardChannelMaxRetries",2,o),this.ta=Il("forwardChannelRequestTimeoutMs",2e4,o),this.ra=o&&o.xmlHttpFactory||void 0,this.Da=o&&o.Zb||!1,this.J=void 0,this.H=o&&o.supportsCrossDomainXhr||!1,this.I="",this.h=new to(o&&o.concurrentRequestLimit),this.Fa=new K,this.O=o&&o.fastHandshake||!1,this.N=o&&o.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=o&&o.Xb||!1,o&&o.Aa&&this.j.Aa(),o&&o.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&o&&o.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Xa(o){if(te(o),3==o.G){var e=o.U++,t=me(o.F);Bn(t,"SID",o.I),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),Zt(o,t),(e=new Wr(o,o.j,e,void 0)).K=2,e.v=mi(me(t)),t=!1,Se.navigator&&Se.navigator.sendBeacon&&(t=Se.navigator.sendBeacon(e.v.toString(),"")),!t&&Se.Image&&((new Image).src=e.v,t=!0),t||(e.g=Mo(e.l,null),e.g.da(e.v)),e.F=Date.now(),eo(e)}Jo(o)}function F(o){o.g&&(Zi(o),o.g.cancel(),o.g=null)}function te(o){F(o),o.u&&(Se.clearTimeout(o.u),o.u=null),Hi(o),o.h.cancel(),o.m&&("number"==typeof o.m&&Se.clearTimeout(o.m),o.m=null)}function H(o){ko(o.h)||o.m||(o.m=!0,As(o.Ja,o),o.C=0)}function vt(o,e){var t;t=e?e.m:o.U++;const c=me(o.F);Bn(c,"SID",o.I),Bn(c,"RID",t),Bn(c,"AID",o.T),Zt(o,c),o.o&&o.s&&yo(c,o.o,o.s),t=new Wr(o,o.j,t,o.C+1),null===o.o&&(t.H=o.s),e&&(o.i=e.D.concat(o.i)),e=dn(o,t,1e3),t.setTimeout(Math.round(.5*o.ta)+Math.round(.5*o.ta*Math.random())),Ii(o.h,t),Oo(t,c,e)}function Zt(o,e){o.ia&&Tt(o.ia,function(t,c){Bn(e,c,t)}),o.l&&Kr({},function(t,c){Bn(e,c,t)})}function dn(o,e,t){t=Math.min(o.i.length,t);var c=o.l?ne(o.l.Ra,o.l,o):null;e:{var h=o.i;let g=-1;for(;;){const C=["count="+t];-1==g?0<t?(g=h[0].h,C.push("ofs="+g)):g=0:C.push("ofs="+g);let k=!0;for(let Q=0;Q<t;Q++){let ie=h[Q].h;const Pe=h[Q].g;if(ie-=g,0>ie)g=Math.max(0,h[Q].h-100),k=!1;else try{$(Pe,C,"req"+ie+"_")}catch{c&&c(Pe)}}if(k){c=C.join("&");break e}}}return o=o.i.splice(0,t),e.D=o,c}function ei(o){o.g||o.u||(o.Z=1,As(o.Ia,o),o.A=0)}function Ji(o){return!(o.g||o.u||3<=o.A||(o.Z++,o.u=Mn(ne(o.Ia,o),mr(o,o.A)),o.A++,0))}function Zi(o){null!=o.B&&(Se.clearTimeout(o.B),o.B=null)}function rr(o){o.g=new Wr(o,o.j,"rpc",o.Z),null===o.o&&(o.g.H=o.s),o.g.N=0;var e=me(o.sa);Bn(e,"RID","rpc"),Bn(e,"SID",o.I),Bn(e,"CI",o.L?"0":"1"),Bn(e,"AID",o.T),Bn(e,"TYPE","xmlhttp"),Zt(o,e),o.o&&o.s&&yo(e,o.o,o.s),o.J&&o.g.setTimeout(o.J);var t=o.g;o=o.ka,t.K=1,t.v=mi(me(e)),t.s=null,t.P=!0,Ro(t,o)}function Hi(o){null!=o.v&&(Se.clearTimeout(o.v),o.v=null)}function Zr(o,e){var t=null;if(o.g==e){Hi(o),Zi(o),o.g=null;var c=2}else{if(!_n(o.h,e))return;t=e.D,Xl(o.h,e),c=1}if(0!=o.G)if(o.pa=e.Y,e.i)if(1==c){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=o.C;In(c=Rr(),new Nn(c,t)),H(o)}else ei(o);else if(3==(h=e.o)||0==h&&0<o.pa||!(1==c&&function ye(o,e){return!(va(o.h)>=o.h.j-(o.m?1:0)||(o.m?(o.i=e.D.concat(o.i),0):1==o.G||2==o.G||o.C>=(o.Za?0:o.$a)||(o.m=Mn(ne(o.Ja,o,e),mr(o,o.C)),o.C++,0)))}(o,e)||2==c&&Ji(o)))switch(t&&0<t.length&&(e=o.h,e.i=e.i.concat(t)),h){case 1:Er(o,5);break;case 4:Er(o,10);break;case 3:Er(o,6);break;default:Er(o,2)}}function mr(o,e){let t=o.Xa+Math.floor(Math.random()*o.bb);return o.l||(t*=2),t*e}function Er(o,e){if(o.j.info("Error code "+e),2==e){var t=null;o.l&&(t=null);var c=ne(o.kb,o);t||(t=new G("//www.google.com/images/cleardot.gif"),Se.location&&"http"==Se.location.protocol||$t(t,"https"),mi(t)),function V(o,e){const t=new ds;if(Se.Image){const c=new Image;c.onload=at(we,t,c,"TestLoadImage: loaded",!0,e),c.onerror=at(we,t,c,"TestLoadImage: error",!1,e),c.onabort=at(we,t,c,"TestLoadImage: abort",!1,e),c.ontimeout=at(we,t,c,"TestLoadImage: timeout",!1,e),Se.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=o}else e(!1)}(t.toString(),c)}else Yt(2);o.G=0,o.l&&o.l.va(e),Jo(o),te(o)}function Jo(o){if(o.G=0,o.la=[],o.l){const e=Qo(o.h);(0!=e.length||0!=o.i.length)&&(ve(o.la,e),ve(o.la,o.i),o.h.i.length=0,xe(o.i),o.i.length=0),o.l.ua()}}function So(o,e,t){var c=t instanceof G?me(t):new G(t,void 0);if(""!=c.g)e&&(c.g=e+"."+c.g),fn(c,c.m);else{var h=Se.location;c=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var g=new G(null,void 0);c&&$t(g,c),e&&(g.g=e),h&&fn(g,h),t&&(g.l=t),c=g}return e=o.za,(t=o.D)&&e&&Bn(c,t,e),Bn(c,"VER",o.ma),Zt(o,c),c}function Mo(o,e,t){if(e&&!o.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mr(t&&o.Da&&!o.ra?new tn({jb:!0}):o.ra)).Ka(o.H),e}function ba(){}function Us(){if(Fn&&!(10<=Number(un)))throw Error("Environmental error: no available transport.")}function wr(o,e){Ut.call(this),this.g=new Qa(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(o?o["X-WebChannel-Client-Profile"]=e.ya:o={"X-WebChannel-Client-Profile":e.ya}),this.g.S=o,(o=e&&e.Yb)&&!zt(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zt(e)&&(this.g.D=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new _r(this)}function co(o){fi.call(this);var e=o.__sm__;if(e){e:{for(const t in e){o=t;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function No(){ir.call(this),this.status=1}function _r(o){this.g=o}(fe=Mr.prototype).Ka=function(o){this.L=o},fe.da=function(o,e,t,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+o);e=e?e.toUpperCase():"GET",this.H=o,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ui.g(),this.C=function ln(o){return o.h||(o.h=o.i())}(this.u?this.u:Ui),this.g.onreadystatechange=ne(this.Ha,this);try{this.F=!0,this.g.open(e,String(o),!0),this.F=!1}catch(g){return void dl(this,g)}if(o=t||"",t=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var h in c)t.set(h,c[h]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const g of c.keys())t.set(g,c.get(g))}c=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),h=Se.FormData&&o instanceof Se.FormData,!(0<=st(Sc,e))||c||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,C]of t)this.g.setRequestHeader(g,C);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Za(this),0<this.B&&((this.K=function Cl(o){return Fn&&function Pt(){return function ci(o){var e=mt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=o(9)}(function(){let o=0;const e=An(String(De)).split("."),t=An("9").split("."),c=Math.max(e.length,t.length);for(let C=0;0==o&&C<c;C++){var h=e[C]||"",g=t[C]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==h[0].length&&0==g[0].length)break;o=Pn(0==h[1].length?0:parseInt(h[1],10),0==g[1].length?0:parseInt(g[1],10))||Pn(0==h[2].length,0==g[2].length)||Pn(h[2],g[2]),h=h[3],g=g[3]}while(0==o)}return 0<=o})}()&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ne(this.qa,this)):this.A=Ti(this.qa,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(g){dl(this,g)}},fe.qa=function(){typeof Ge<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,In(this,"timeout"),this.abort(8))},fe.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,In(this,"complete"),In(this,"abort"),Ra(this))},fe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ra(this,!0)),Mr.X.M.call(this)},fe.Ha=function(){this.s||(this.F||this.v||this.l?Oa(this):this.fb())},fe.fb=function(){Oa(this)},fe.aa=function(){try{return 2<_o(this)?this.g.status:-1}catch{return-1}},fe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},fe.Sa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),Po(e)}},fe.Ea=function(){return this.m},fe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(fe=Qa.prototype).ma=8,fe.G=1,fe.Ja=function(o){if(this.m)if(this.m=null,1==this.G){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const h=new Wr(this,this.j,o,void 0);let g=this.s;if(this.S&&(g?(g=Ue(g),Ae(g,this.S)):g=this.S),null!==this.o||this.N||(h.H=g,g=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var c=this.i[t];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(e+=c)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dn(this,h,e),Bn(t=me(this.F),"RID",o),Bn(t,"CVER",22),this.D&&Bn(t,"X-HTTP-Session-Id",this.D),Zt(this,t),g&&(this.N?e="headers="+encodeURIComponent(String(qa(g)))+"&"+e:this.o&&yo(t,this.o,g)),Ii(this.h,h),this.Ya&&Bn(t,"TYPE","init"),this.O?(Bn(t,"$req",e),Bn(t,"SID","null"),h.Z=!0,Oo(h,t,null)):Oo(h,t,e),this.G=2}}else 3==this.G&&(o?vt(this,o):0==this.i.length||ko(this.h)||vt(this))},fe.Ia=function(){if(this.u=null,rr(this),this.$&&!(this.K||null==this.g||0>=this.P)){var o=2*this.P;this.j.info("BP detection timer enabled: "+o),this.B=Mn(ne(this.eb,this),o)}},fe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yt(10),F(this),rr(this))},fe.cb=function(){null!=this.v&&(this.v=null,F(this),Ji(this),Yt(19))},fe.kb=function(o){o?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))},(fe=ba.prototype).xa=function(){},fe.wa=function(){},fe.va=function(){},fe.ua=function(){},fe.Ra=function(){},Us.prototype.g=function(o,e){return new wr(o,e)},it(wr,Ut),wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var o=this.g,e=this.l,t=this.h||void 0;Yt(0),o.V=e,o.ia=t||{},o.L=o.Y,o.F=So(o,null,o.V),H(o)},wr.prototype.close=function(){Xa(this.g)},wr.prototype.u=function(o){var e=this.g;if("string"==typeof o){var t={};t.__data__=o,o=t}else this.v&&((t={}).__data__=pi(o),o=t);e.i.push(new class{constructor(o,e){this.h=o,this.g=e}}(e.ab++,o)),3==e.G&&H(e)},wr.prototype.M=function(){this.g.l=null,delete this.j,Xa(this.g),delete this.g,wr.X.M.call(this)},it(co,fi),it(No,ir),it(_r,ba),_r.prototype.xa=function(){In(this.g,"a")},_r.prototype.wa=function(o){In(this.g,new co(o))},_r.prototype.va=function(o){In(this.g,new No)},_r.prototype.ua=function(){In(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,wr.prototype.send=wr.prototype.u,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,It.NO_ERROR=0,It.TIMEOUT=8,It.HTTP_ERROR=6,Dt.COMPLETE="complete",gn.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,Mr.prototype.listenOnce=Mr.prototype.O,Mr.prototype.getLastError=Mr.prototype.Oa,Mr.prototype.getLastErrorCode=Mr.prototype.Ea,Mr.prototype.getStatus=Mr.prototype.aa,Mr.prototype.getResponseJson=Mr.prototype.Sa,Mr.prototype.getResponseText=Mr.prototype.fa,Mr.prototype.send=Mr.prototype.da,Mr.prototype.setWithCredentials=Mr.prototype.Ka;var Fo=_e.createWebChannelTransport=function(){return new Us},Jl=_e.getStatEventTarget=function(){return Rr()},Tl=_e.ErrorCode=It,io=_e.EventType=Dt,ec=_e.Event=$r,vs=_e.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Sl=_e.FetchXmlHttpFactory=tn,ka=_e.WebChannel=gn,ea=_e.XhrIo=Mr;const Qe="@firebase/firestore";class Br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");let Vr="9.14.0";const Pa=new Oe.Yd("@firebase/firestore");function Na(){return Pa.logLevel}function On(o,...e){if(Pa.logLevel<=Oe.in.DEBUG){const t=e.map(Cr);Pa.debug(`Firestore (${Vr}): ${o}`,...t)}}function Ai(o,...e){if(Pa.logLevel<=Oe.in.ERROR){const t=e.map(Cr);Pa.error(`Firestore (${Vr}): ${o}`,...t)}}function Ea(o,...e){if(Pa.logLevel<=Oe.in.WARN){const t=e.map(Cr);Pa.warn(`Firestore (${Vr}): ${o}`,...t)}}function Cr(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function si(o="Unexpected state"){const e=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: `+o;throw Ai(e),new Error(e)}function ai(o,e){o||si()}function $n(o,e){return o}const sn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wn extends ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ac{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Br.UNAUTHENTICATED))}shutdown(){}}class tc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fl{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var c=this;let h=this.i;const g=ie=>this.i!==h?(h=this.i,t(ie)):Promise.resolve();let C=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new qr,e.enqueueRetryable(()=>g(this.currentUser))};const k=()=>{const ie=C;e.enqueueRetryable((0,$e.Z)(function*(){yield ie.promise,yield g(c.currentUser)}))},Q=ie=>{On("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(ie=>Q(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?Q(ie):(On("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new qr)}},0),k()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(c=>this.i!==e?(On("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(ai("string"==typeof c.accessToken),new hl(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ai(null===e||"string"==typeof e),new Br(e)}}class Ja{constructor(e,t,c,h){this.h=e,this.l=t,this.m=c,this.g=h,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ai(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ks{constructor(e,t,c,h){this.h=e,this.l=t,this.m=c,this.g=h}getToken(){return Promise.resolve(new Ja(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ml{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ta{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const c=g=>{null!=g.error&&On("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const C=g.token!==this.A;return this.A=g.token,On("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>c(g))};const h=g=>{On("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.T.onInit(g=>h(g)),setTimeout(()=>{if(!this.appCheck){const g=this.T.getImmediate({optional:!0});g?h(g):On("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ai("string"==typeof t.token),this.A=t.token,new Ml(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nc(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let c=0;c<o;c++)t[c]=Math.floor(256*Math.random());return t}class na{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let c="";for(;c.length<20;){const h=nc(40);for(let g=0;g<h.length;++g)c.length<20&&h[g]<t&&(c+=e.charAt(h[g]%e.length))}return c}}function Ei(o,e){return o<e?-1:o>e?1:0}function Ar(o,e,t){return o.length===e.length&&o.every((c,h)=>t(c,e[h]))}function Pu(o){return o+"\0"}class ls{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wn(sn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wn(sn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wn(sn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wn(sn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ls.fromMillis(Date.now())}static fromDate(e){return ls.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),c=Math.floor(1e6*(e-1e3*t));return new ls(t,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ei(this.nanoseconds,e.nanoseconds):Ei(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gi(e)}static min(){return new gi(new ls(0,0))}static max(){return new gi(new ls(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pl{constructor(e,t,c){void 0===t?t=0:t>e.length&&si(),void 0===c?c=e.length-t:c>e.length-t&&si(),this.segments=e,this.offset=t,this.len=c}get length(){return this.len}isEqual(e){return 0===pl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pl?e.forEach(c=>{t.push(c)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,c=this.limit();t<c;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const c=Math.min(e.length,t.length);for(let h=0;h<c;h++){const g=e.get(h),C=t.get(h);if(g<C)return-1;if(g>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $i extends pl{construct(e,t,c){return new $i(e,t,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const c of e){if(c.indexOf("//")>=0)throw new wn(sn.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);t.push(...c.split("/").filter(h=>h.length>0))}return new $i(t)}static emptyPath(){return new $i([])}}const Al=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ji extends pl{construct(e,t,c){return new ji(e,t,c)}static isValidIdentifier(e){return Al.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ji.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ji(["__name__"])}static fromServerFormat(e){const t=[];let c="",h=0;const g=()=>{if(0===c.length)throw new wn(sn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(c),c=""};let C=!1;for(;h<e.length;){const k=e[h];if("\\"===k){if(h+1===e.length)throw new wn(sn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Q=e[h+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new wn(sn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=Q,h+=2}else"`"===k?(C=!C,h++):"."!==k||C?(c+=k,h++):(g(),h++)}if(g(),C)throw new wn(sn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ji(t)}static emptyPath(){return new ji([])}}class jn{constructor(e){this.path=e}static fromPath(e){return new jn($i.fromString(e))}static fromName(e){return new jn($i.fromString(e).popFirst(5))}static empty(){return new jn($i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$i.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $i.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jn(new $i(e.slice()))}}class Hs{constructor(e,t,c,h){this.indexId=e,this.collectionGroup=t,this.fields=c,this.indexState=h}}function Bo(o){return o.fields.find(e=>2===e.kind)}function Qs(o){return o.fields.filter(e=>2!==e.kind)}Hs.UNKNOWN_ID=-1;class ps{constructor(e,t){this.fieldPath=e,this.kind=t}}class yr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yr(0,Vo.min())}}function xc(o,e){const t=o.toTimestamp().seconds,c=o.toTimestamp().nanoseconds+1,h=gi.fromTimestamp(1e9===c?new ls(t+1,0):new ls(t,c));return new Vo(h,jn.empty(),e)}function iu(o){return new Vo(o.readTime,o.key,-1)}class Vo{constructor(e,t,c){this.readTime=e,this.documentKey=t,this.largestBatchId=c}static min(){return new Vo(gi.min(),jn.empty(),-1)}static max(){return new Vo(gi.max(),jn.empty(),-1)}}function Nu(o,e){let t=o.readTime.compareTo(e.readTime);return 0!==t?t:(t=jn.comparator(o.documentKey,e.documentKey),0!==t?t:Ei(o.largestBatchId,e.largestBatchId))}const Xd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ol{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ic(o){return el.apply(this,arguments)}function el(){return el=(0,$e.Z)(function*(o){if(o.code!==sn.FAILED_PRECONDITION||o.message!==Xd)throw o;On("LocalStore","Unexpectedly lost primary lease")}),el.apply(this,arguments)}class rn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&si(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rn((c,h)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(c,h)},this.catchCallback=g=>{this.wrapFailure(t,g).next(c,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof rn?t:rn.resolve(t)}catch(t){return rn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):rn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):rn.reject(t)}static resolve(e){return new rn((t,c)=>{t(e)})}static reject(e){return new rn((t,c)=>{c(e)})}static waitFor(e){return new rn((t,c)=>{let h=0,g=0,C=!1;e.forEach(k=>{++h,k.next(()=>{++g,C&&g===h&&t()},Q=>c(Q))}),C=!0,g===h&&t()})}static or(e){let t=rn.resolve(!1);for(const c of e)t=t.next(h=>h?rn.resolve(h):c());return t}static forEach(e,t){const c=[];return e.forEach((h,g)=>{c.push(t.call(this,h,g))}),this.waitFor(c)}static mapArray(e,t){return new rn((c,h)=>{const g=e.length,C=new Array(g);let k=0;for(let Q=0;Q<g;Q++){const ie=Q;t(e[ie]).next(Pe=>{C[ie]=Pe,++k,k===g&&c(C)},Pe=>h(Pe))}})}static doWhile(e,t){return new rn((c,h)=>{const g=()=>{!0===e()?t().next(()=>{g()},h):c()};g()})}}class Fu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new qr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new wa(e,t.error)):this.P.resolve()},this.transaction.onerror=c=>{const h=Rl(c.target.error);this.P.reject(new wa(e,h))}}static open(e,t,c,h){try{return new Fu(t,e.transaction(h,c))}catch(g){throw new wa(t,g)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(On("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Lu(t)}}class Li{constructor(e,t,c){this.name=e,this.version=t,this.S=c,12.2===Li.D((0,ae.z$)())&&Ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return On("SimpleDb","Removing database:",e),ms(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ae.hl)())return!1;if(Li.N())return!0;const e=(0,ae.z$)(),t=Li.D(e),c=0<t&&t<10,h=Li.k(e),g=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||c||g)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static k(e){const t=e.match(/Android ([\d.]+)/i),c=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(c)}F(e){var t=this;return(0,$e.Z)(function*(){return t.db||(On("SimpleDb","Opening database:",t.name),t.db=yield new Promise((c,h)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=C=>{c(C.target.result)},g.onblocked=()=>{h(new wa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=C=>{const k=C.target.error;h("VersionError"===k.name?new wn(sn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new wn(sn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new wa(e,k))},g.onupgradeneeded=C=>{On("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.S.$(C.target.result,g.transaction,C.oldVersion,t.version).next(()=>{On("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=c=>t.B(c)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,c,h){var g=this;return(0,$e.Z)(function*(){const C="readonly"===t;let k=0;for(;;){++k;try{g.db=yield g.F(e);const Q=Fu.open(g.db,e,C?"readonly":"readwrite",c),ie=h(Q).next(Pe=>(Q.V(),Pe)).catch(Pe=>(Q.abort(Pe),rn.reject(Pe))).toPromise();return ie.catch(()=>{}),yield Q.v,ie}catch(Q){const ie=Q,Pe="FirebaseError"!==ie.name&&k<3;if(On("SimpleDb","Transaction failed with error:",ie.message,"Retrying:",Pe),g.close(),!Pe)return Promise.reject(ie)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ml{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ms(this.U.delete())}}class wa extends wn{constructor(e,t){super(sn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ia(o){return"IndexedDbTransactionError"===o.name}class Lu{constructor(e){this.store=e}put(e,t){let c;return void 0!==t?(On("SimpleDb","PUT",this.store.name,e,t),c=this.store.put(t,e)):(On("SimpleDb","PUT",this.store.name,"<auto-key>",e),c=this.store.put(e)),ms(c)}add(e){return On("SimpleDb","ADD",this.store.name,e,e),ms(this.store.add(e))}get(e){return ms(this.store.get(e)).next(t=>(void 0===t&&(t=null),On("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return On("SimpleDb","DELETE",this.store.name,e),ms(this.store.delete(e))}count(){return On("SimpleDb","COUNT",this.store.name),ms(this.store.count())}W(e,t){const c=this.options(e,t);if(c.index||"function"!=typeof this.store.getAll){const h=this.cursor(c),g=[];return this.H(h,(C,k)=>{g.push(k)}).next(()=>g)}{const h=this.store.getAll(c.range);return new rn((g,C)=>{h.onerror=k=>{C(k.target.error)},h.onsuccess=k=>{g(k.target.result)}})}}J(e,t){const c=this.store.getAll(e,null===t?void 0:t);return new rn((h,g)=>{c.onerror=C=>{g(C.target.error)},c.onsuccess=C=>{h(C.target.result)}})}Y(e,t){On("SimpleDb","DELETE ALL",this.store.name);const c=this.options(e,t);c.X=!1;const h=this.cursor(c);return this.H(h,(g,C,k)=>k.delete())}Z(e,t){let c;t?c=e:(c={},t=e);const h=this.cursor(c);return this.H(h,t)}tt(e){const t=this.cursor({});return new rn((c,h)=>{t.onerror=g=>{const C=Rl(g.target.error);h(C)},t.onsuccess=g=>{const C=g.target.result;C?e(C.primaryKey,C.value).next(k=>{k?C.continue():c()}):c()}})}H(e,t){const c=[];return new rn((h,g)=>{e.onerror=C=>{g(C.target.error)},e.onsuccess=C=>{const k=C.target.result;if(!k)return void h();const Q=new ml(k),ie=t(k.primaryKey,k.value,Q);if(ie instanceof rn){const Pe=ie.catch(wt=>(Q.done(),rn.reject(wt)));c.push(Pe)}Q.isDone?h():null===Q.G?k.continue():k.continue(Q.G)}}).next(()=>rn.waitFor(c))}options(e,t){let c;return void 0!==e&&("string"==typeof e?c=e:t=e),{index:c,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const c=this.store.index(e.index);return e.X?c.openKeyCursor(e.range,t):c.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ms(o){return new rn((e,t)=>{o.onsuccess=c=>{e(c.target.result)},o.onerror=c=>{const h=Rl(c.target.error);t(h)}})}let Uo=!1;function Rl(o){const e=Li.D((0,ae.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(t)>=0){const c=new wn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Uo||(Uo=!0,setTimeout(()=>{throw c},0)),c}}return o}class kl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;On("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,$e.Z)(function*(){t.task=null;try{On("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(c){ia(c)?On("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield ic(c)}yield t.nt(6e4)}))}}class A{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,$e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>t.it(c,e))})()}it(e,t){const c=new Set;let h=t,g=!0;return rn.doWhile(()=>!0===g&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!c.has(C))return On("IndexBackiller",`Processing collection: ${C}`),this.rt(e,C,h).next(k=>{h-=k,c.add(C)});g=!1})).next(()=>t-h)}rt(e,t,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,c).next(g=>{const C=g.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.ot(h,g)).next(k=>(On("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(e,t,k))).next(()=>C.size)}))}ot(e,t){let c=e;return t.changes.forEach((h,g)=>{const C=iu(g);Nu(C,c)>0&&(c=C)}),new Vo(c.readTime,c.documentKey,Math.max(t.batchId,e.largestBatchId))}}class x{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=c=>this.ut(c),this.ct=c=>t.writeSequenceNumber(c))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function S(o){let e=0;for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e++;return e}function B(o,e){for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e(t,o[t])}function W(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}x.at=-1;class he{constructor(e,t){this.comparator=e,this.root=t||et.EMPTY}insert(e,t){return new he(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new he(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const c=this.comparator(e,t.key);if(0===c)return t.value;c<0?t=t.left:c>0&&(t=t.right)}return null}indexOf(e){let t=0,c=this.root;for(;!c.isEmpty();){const h=this.comparator(e,c.key);if(0===h)return t+c.left.size;h<0?c=c.left:(t+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,c)=>(e(t,c),!1))}toString(){const e=[];return this.inorderTraversal((t,c)=>(e.push(`${t}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ut(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ut(this.root,e,this.comparator,!1)}getReverseIterator(){return new ut(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ut(this.root,e,this.comparator,!0)}}class ut{constructor(e,t,c,h){this.isReverse=h,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?c(e.key,t):1,t&&h&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,t,c,h,g){this.key=e,this.value=t,this.color=c??et.RED,this.left=h??et.EMPTY,this.right=g??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,c,h,g){return new et(e??this.key,t??this.value,c??this.color,h??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,c){let h=this;const g=c(e,h.key);return h=g<0?h.copy(null,null,null,h.left.insert(e,t,c),null):0===g?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,c)),h.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let c,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return et.EMPTY;c=h.right.min(),h=h.copy(c.key,c.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw si();const e=this.left.check();if(e!==this.right.check())throw si();return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1,et.EMPTY=new class{constructor(){this.size=0}get key(){throw si()}get value(){throw si()}get color(){throw si()}get left(){throw si()}get right(){throw si()}copy(o,e,t,c,h){return this}insert(o,e,t){return new et(o,e)}remove(o,e){return this}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,c)=>(e(t),!1))}forEachInRange(e,t){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const h=c.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let c;for(c=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Un(this.data.getIterator())}getIteratorFrom(e){return new Un(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(c=>{t=t.add(c)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),c=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,g=c.getNext().key;if(0!==this.comparator(h,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class Un{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Si(o){return o.hasNext()?o.getNext():void 0}class Qn{constructor(e){this.fields=e,e.sort(ji.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new Wt(ji.comparator);for(const c of this.fields)t=t.add(c);for(const c of e)t=t.add(c);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ar(this.fields,e.fields,(t,c)=>t.isEqual(c))}}class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new nr(t)}static fromUint8Array(e){const t=function(c){let h="";for(let g=0;g<c.length;++g)h+=String.fromCharCode(c[g]);return h}(e);return new nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let c=0;c<e.length;c++)t[c]=e.charCodeAt(c);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ei(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const La=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(o){if(ai(!!o),"string"==typeof o){let e=0;const t=La.exec(o);if(ai(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const c=new Date(o);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:sr(o.seconds),nanos:sr(o.nanos)}}function sr(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function ra(o){return"string"==typeof o?nr.fromBase64String(o):nr.fromUint8Array(o)}function sa(o){var e,t;return"server_timestamp"===(null===(t=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function oa(o){const e=o.mapValue.fields.__previous_value__;return sa(e)?oa(e):e}function uo(o){const e=cs(o.mapValue.fields.__local_write_time__.timestampValue);return new ls(e.seconds,e.nanos)}class js{constructor(e,t,c,h,g,C,k,Q){this.databaseId=e,this.appId=t,this.persistenceKey=c,this.host=h,this.ssl=g,this.forceLongPolling=C,this.autoDetectLongPolling=k,this.useFetchStreams=Q}}class aa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof aa&&e.projectId===this.projectId&&e.database===this.database}}function gl(o){return null==o}function Pl(o){return 0===o&&1/o==-1/0}function _l(o){return"number"==typeof o&&Number.isInteger(o)&&!Pl(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}const Ca={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Oc={nullValue:"NULL_VALUE"};function U(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?sa(o)?4:Ba(o)?9007199254740991:10:si()}function Y(o,e){if(o===e)return!0;const t=U(o);if(t!==U(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return uo(o).isEqual(uo(e));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const g=cs(c.timestampValue),C=cs(h.timestampValue);return g.seconds===C.seconds&&g.nanos===C.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return h=e,ra(o.bytesValue).isEqual(ra(h.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(c,h){return sr(c.geoPointValue.latitude)===sr(h.geoPointValue.latitude)&&sr(c.geoPointValue.longitude)===sr(h.geoPointValue.longitude)}(o,e);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return sr(c.integerValue)===sr(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const g=sr(c.doubleValue),C=sr(h.doubleValue);return g===C?Pl(g)===Pl(C):isNaN(g)&&isNaN(C)}return!1}(o,e);case 9:return Ar(o.arrayValue.values||[],e.arrayValue.values||[],Y);case 10:return function(c,h){const g=c.mapValue.fields||{},C=h.mapValue.fields||{};if(S(g)!==S(C))return!1;for(const k in g)if(g.hasOwnProperty(k)&&(void 0===C[k]||!Y(g[k],C[k])))return!1;return!0}(o,e);default:return si()}var h}function ge(o,e){return void 0!==(o.values||[]).find(t=>Y(t,e))}function nt(o,e){if(o===e)return 0;const t=U(o),c=U(e);if(t!==c)return Ei(t,c);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ei(o.booleanValue,e.booleanValue);case 2:return function(h,g){const C=sr(h.integerValue||h.doubleValue),k=sr(g.integerValue||g.doubleValue);return C<k?-1:C>k?1:C===k?0:isNaN(C)?isNaN(k)?0:-1:1}(o,e);case 3:return Ht(o.timestampValue,e.timestampValue);case 4:return Ht(uo(o),uo(e));case 5:return Ei(o.stringValue,e.stringValue);case 6:return function(h,g){const C=ra(h),k=ra(g);return C.compareTo(k)}(o.bytesValue,e.bytesValue);case 7:return function(h,g){const C=h.split("/"),k=g.split("/");for(let Q=0;Q<C.length&&Q<k.length;Q++){const ie=Ei(C[Q],k[Q]);if(0!==ie)return ie}return Ei(C.length,k.length)}(o.referenceValue,e.referenceValue);case 8:return function(h,g){const C=Ei(sr(h.latitude),sr(g.latitude));return 0!==C?C:Ei(sr(h.longitude),sr(g.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(h,g){const C=h.values||[],k=g.values||[];for(let Q=0;Q<C.length&&Q<k.length;++Q){const ie=nt(C[Q],k[Q]);if(ie)return ie}return Ei(C.length,k.length)}(o.arrayValue,e.arrayValue);case 10:return function(h,g){if(h===Ca.mapValue&&g===Ca.mapValue)return 0;if(h===Ca.mapValue)return 1;if(g===Ca.mapValue)return-1;const C=h.fields||{},k=Object.keys(C),Q=g.fields||{},ie=Object.keys(Q);k.sort(),ie.sort();for(let Pe=0;Pe<k.length&&Pe<ie.length;++Pe){const wt=Ei(k[Pe],ie[Pe]);if(0!==wt)return wt;const qt=nt(C[k[Pe]],Q[ie[Pe]]);if(0!==qt)return qt}return Ei(k.length,ie.length)}(o.mapValue,e.mapValue);default:throw si()}}function Ht(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return Ei(o,e);const t=cs(o),c=cs(e),h=Ei(t.seconds,c.seconds);return 0!==h?h:Ei(t.nanos,c.nanos)}function nn(o){return Dn(o)}function Dn(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(c){const h=cs(c);return`time(${h.seconds},${h.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?ra(o.bytesValue).toBase64():"referenceValue"in o?jn.fromName(o.referenceValue).toString():"geoPointValue"in o?`geo(${(e=o.geoPointValue).latitude},${e.longitude})`:"arrayValue"in o?function(c){let h="[",g=!0;for(const C of c.values||[])g?g=!1:h+=",",h+=Dn(C);return h+"]"}(o.arrayValue):"mapValue"in o?function(c){const h=Object.keys(c.fields||{}).sort();let g="{",C=!0;for(const k of h)C?C=!1:g+=",",g+=`${k}:${Dn(c.fields[k])}`;return g+"}"}(o.mapValue):si();var e}function Gn(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function vi(o){return!!o&&"integerValue"in o}function xi(o){return!!o&&"arrayValue"in o}function Bi(o){return!!o&&"nullValue"in o}function wi(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Qr(o){return!!o&&"mapValue"in o}function Ps(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return B(o.mapValue.fields,(t,c)=>e.mapValue.fields[t]=Ps(c)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(o.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ps(o.arrayValue.values[t]);return e}return Object.assign({},o)}function Ba(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gs(o){return"nullValue"in o?Oc:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?Gn(aa.empty(),jn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:si()}function Va(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?Gn(aa.empty(),jn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?Ca:si()}function Rc(o,e){const t=nt(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function la(o,e){const t=nt(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class gs{constructor(e){this.value=e}static empty(){return new gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let c=0;c<e.length-1;++c)if(t=(t.mapValue.fields||{})[e.get(c)],!Qr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ps(t)}setAll(e){let t=ji.emptyPath(),c={},h=[];e.forEach((C,k)=>{if(!t.isImmediateParentOf(k)){const Q=this.getFieldsMap(t);this.applyChanges(Q,c,h),c={},h=[],t=k.popLast()}C?c[k.lastSegment()]=Ps(C):h.push(k.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,c,h)}delete(e){const t=this.field(e.popLast());Qr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Y(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let c=0;c<e.length;++c){let h=t.mapValue.fields[e.get(c)];Qr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(c)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,c){B(t,(h,g)=>e[h]=g);for(const h of c)delete e[h]}clone(){return new gs(Ps(this.value))}}function yl(o){const e=[];return B(o.fields,(t,c)=>{const h=new ji([t]);if(Qr(c)){const g=yl(c.mapValue).fields;if(0===g.length)e.push(h);else for(const C of g)e.push(h.child(C))}else e.push(h)}),new Qn(e)}class Dr{constructor(e,t,c,h,g,C){this.key=e,this.documentType=t,this.version=c,this.readTime=h,this.data=g,this.documentState=C}static newInvalidDocument(e){return new Dr(e,0,gi.min(),gi.min(),gs.empty(),0)}static newFoundDocument(e,t,c){return new Dr(e,1,t,gi.min(),c,0)}static newNoDocument(e,t){return new Dr(e,2,t,gi.min(),gs.empty(),0)}static newUnknownDocument(e,t){return new Dr(e,3,t,gi.min(),gs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ro{constructor(e,t=null,c=[],h=[],g=null,C=null,k=null){this.path=e,this.collectionGroup=t,this.orderBy=c,this.filters=h,this.limit=g,this.startAt=C,this.endAt=k,this.ht=null}}function kc(o,e=null,t=[],c=[],h=null,g=null,C=null){return new ro(o,e,t,c,h,g,C)}function ru(o){const e=$n(o);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(c=>{return(h=c).field.canonicalString()+h.op.toString()+nn(h.value);var h}).join(","),t+="|ob:",t+=e.orderBy.map(c=>{return(h=c).field.canonicalString()+h.dir;var h}).join(","),gl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(c=>nn(c)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(c=>nn(c)).join(",")),e.ht=t}return e.ht}function Bu(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<o.orderBy.length;h++)if(!Xm(o.orderBy[h],e.orderBy[h]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let h=0;h<o.filters.length;h++)if((t=o.filters[h]).op!==(c=e.filters[h]).op||!t.field.isEqual(c.field)||!Y(t.value,c.value))return!1;var t,c;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!eh(o.startAt,e.startAt)&&eh(o.endAt,e.endAt)}function su(o){return jn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function rc(o,e){return o.filters.filter(t=>t instanceof vo&&t.field.isEqual(e))}function fp(o,e,t){let c=Oc,h=!0;for(const g of rc(o,e)){let C=Oc,k=!0;switch(g.op){case"<":case"<=":C=Gs(g.value);break;case"==":case"in":case">=":C=g.value;break;case">":C=g.value,k=!1;break;case"!=":case"not-in":C=Oc}Rc({value:c,inclusive:h},{value:C,inclusive:k})<0&&(c=C,h=k)}if(null!==t)for(let g=0;g<o.orderBy.length;++g)if(o.orderBy[g].field.isEqual(e)){const C=t.position[g];Rc({value:c,inclusive:h},{value:C,inclusive:t.inclusive})<0&&(c=C,h=t.inclusive);break}return{value:c,inclusive:h}}function af(o,e,t){let c=Ca,h=!0;for(const g of rc(o,e)){let C=Ca,k=!0;switch(g.op){case">=":case">":C=Va(g.value),k=!1;break;case"==":case"in":case"<=":C=g.value;break;case"<":C=g.value,k=!1;break;case"!=":case"not-in":C=Ca}la({value:c,inclusive:h},{value:C,inclusive:k})>0&&(c=C,h=k)}if(null!==t)for(let g=0;g<o.orderBy.length;++g)if(o.orderBy[g].field.isEqual(e)){const C=t.position[g];la({value:c,inclusive:h},{value:C,inclusive:t.inclusive})>0&&(c=C,h=t.inclusive);break}return{value:c,inclusive:h}}class vo extends class{}{constructor(e,t,c){super(),this.field=e,this.op=t,this.value=c}static create(e,t,c){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,c):new ou(e,t,c):"array-contains"===t?new mp(e,c):"in"===t?new lf(e,c):"not-in"===t?new q_(e,c):"array-contains-any"===t?new Qm(e,c):new vo(e,t,c)}static lt(e,t,c){return"in"===t?new pp(e,c):new qm(e,c)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(nt(t,this.value)):null!==t&&U(this.value)===U(t)&&this.ft(nt(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return si()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ou extends vo{constructor(e,t,c){super(e,t,c),this.key=jn.fromName(c.referenceValue)}matches(e){const t=jn.comparator(e.key,this.key);return this.ft(t)}}class pp extends vo{constructor(e,t){super(e,"in",t),this.keys=Jd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qm extends vo{constructor(e,t){super(e,"not-in",t),this.keys=Jd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jd(o,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(c=>jn.fromName(c.referenceValue))}class mp extends vo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xi(t)&&ge(t.arrayValue,this.value)}}class lf extends vo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ge(this.value.arrayValue,t)}}class q_ extends vo{constructor(e,t){super(e,"not-in",t)}matches(e){if(ge(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ge(this.value.arrayValue,t)}}class Qm extends vo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(c=>ge(this.value.arrayValue,c))}}class Pc{constructor(e,t){this.position=e,this.inclusive=t}}class Nl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xm(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}function Jm(o,e,t){let c=0;for(let h=0;h<o.position.length;h++){const g=e[h],C=o.position[h];if(c=g.field.isKeyField()?jn.comparator(jn.fromName(C.referenceValue),t.key):nt(C,t.data.field(g.field)),"desc"===g.dir&&(c*=-1),0!==c)break}return c}function eh(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let t=0;t<o.position.length;t++)if(!Y(o.position[t],e.position[t]))return!1;return!0}class sc{constructor(e,t=null,c=[],h=[],g=null,C="F",k=null,Q=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=c,this.filters=h,this.limit=g,this.limitType=C,this.startAt=k,this.endAt=Q,this._t=null,this.wt=null}}function eg(o,e,t,c,h,g,C,k){return new sc(o,e,t,c,h,g,C,k)}function au(o){return new sc(o)}function tg(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function th(o){return o.explicitOrderBy.length>0?o.explicitOrderBy[0].field:null}function nh(o){for(const e of o.filters)if(e.dt())return e.field;return null}function vd(o){return null!==o.collectionGroup}function vl(o){const e=$n(o);if(null===e._t){e._t=[];const t=nh(e),c=th(e);if(null!==t&&null===c)t.isKeyField()||e._t.push(new Nl(t)),e._t.push(new Nl(ji.keyField(),"asc"));else{let h=!1;for(const g of e.explicitOrderBy)e._t.push(g),g.field.isKeyField()&&(h=!0);if(!h){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Nl(ji.keyField(),g))}}}return e._t}function ca(o){const e=$n(o);if(!e.wt)if("F"===e.limitType)e.wt=kc(e.path,e.collectionGroup,vl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of vl(e))t.push(new Nl(g.field,"desc"===g.dir?"asc":"desc"));const c=e.endAt?new Pc(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new Pc(e.startAt.position,e.startAt.inclusive):null;e.wt=kc(e.path,e.collectionGroup,t,e.filters,e.limit,c,h)}return e.wt}function Vu(o,e,t){return new sc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,t,o.startAt,o.endAt)}function bd(o,e){return Bu(ca(o),ca(e))&&o.limitType===e.limitType}function tl(o){return`${ru(ca(o))}|lt:${o.limitType}`}function cf(o){return`Query(target=${function Z_(o){let e=o.path.canonicalString();return null!==o.collectionGroup&&(e+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(e+=`, filters: [${o.filters.map(t=>{return`${(c=t).field.canonicalString()} ${c.op} ${nn(c.value)}`;var c}).join(", ")}]`),gl(o.limit)||(e+=", limit: "+o.limit),o.orderBy.length>0&&(e+=`, orderBy: [${o.orderBy.map(t=>{return`${(c=t).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),o.startAt&&(e+=", startAt: ",e+=o.startAt.inclusive?"b:":"a:",e+=o.startAt.position.map(t=>nn(t)).join(",")),o.endAt&&(e+=", endAt: ",e+=o.endAt.inclusive?"a:":"b:",e+=o.endAt.position.map(t=>nn(t)).join(",")),`Target(${e})`}(ca(o))}; limitType=${o.limitType})`}function Ed(o,e){return e.isFoundDocument()&&function(t,c){const h=c.key.path;return null!==t.collectionGroup?c.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):jn.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(o,e)&&function(t,c){for(const h of t.explicitOrderBy)if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(o,e)&&function(t,c){for(const h of t.filters)if(!h.matches(c))return!1;return!0}(o,e)&&(c=e,!((t=o).startAt&&!function(h,g,C){const k=Jm(h,g,C);return h.inclusive?k<=0:k<0}(t.startAt,vl(t),c)||t.endAt&&!function(h,g,C){const k=Jm(h,g,C);return h.inclusive?k>=0:k>0}(t.endAt,vl(t),c)));var t,c}function gp(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function ih(o){return(e,t)=>{let c=!1;for(const h of vl(o)){const g=rh(h,e,t);if(0!==g)return g;c=c||h.field.isKeyField()}return 0}}function rh(o,e,t){const c=o.field.isKeyField()?jn.comparator(e.key,t.key):function(h,g,C){const k=g.data.field(h),Q=C.data.field(h);return null!==k&&null!==Q?nt(k,Q):si()}(o.field,e,t);switch(o.dir){case"asc":return c;case"desc":return-1*c;default:return si()}}function _p(o,e){if(o.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pl(e)?"-0":e}}function uf(o){return{integerValue:""+o}}function yp(o,e){return _l(e)?uf(e):_p(o,e)}class sh{constructor(){this._=void 0}}function vp(o,e,t){return o instanceof lu?function(c,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&(g.fields.__previous_value__=h),{mapValue:g}}(t,e):o instanceof O?v(o,e):o instanceof w?P(o,e):function(c,h){const g=ua(c,h),C=Ve(g)+Ve(c.yt);return vi(g)&&vi(c.yt)?uf(C):_p(c.It,C)}(o,e)}function ng(o,e,t){return o instanceof O?v(o,e):o instanceof w?P(o,e):t}function ua(o,e){return o instanceof ce?vi(t=e)||(c=t)&&"doubleValue"in c?e:{integerValue:0}:null;var c,t}class lu extends sh{}class O extends sh{constructor(e){super(),this.elements=e}}function v(o,e){const t=Kt(e);for(const c of o.elements)t.some(h=>Y(h,c))||t.push(c);return{arrayValue:{values:t}}}class w extends sh{constructor(e){super(),this.elements=e}}function P(o,e){let t=Kt(e);for(const c of o.elements)t=t.filter(h=>!Y(h,c));return{arrayValue:{values:t}}}class ce extends sh{constructor(e,t){super(),this.It=e,this.yt=t}}function Ve(o){return sr(o.integerValue||o.doubleValue)}function Kt(o){return xi(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class vn{constructor(e,t){this.field=e,this.transform=t}}class Ci{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xr(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class Da{}function Fl(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new ac(o.key,hi.none()):new cu(o.key,o.data,hi.none());{const t=o.data,c=gs.empty();let h=new Wt(ji.comparator);for(let g of e.fields)if(!h.has(g)){let C=t.field(g);null===C&&g.length>1&&(g=g.popLast(),C=t.field(g)),null===C?c.delete(g):c.set(g,C),h=h.add(g)}return new da(o.key,c,new Qn(h.toArray()),hi.none())}}function Uu(o,e,t){o instanceof cu?function(c,h,g){const C=c.value.clone(),k=hf(c.fieldTransforms,h,g.transformResults);C.setAll(k),h.convertToFoundDocument(g.version,C).setHasCommittedMutations()}(o,e,t):o instanceof da?function(c,h,g){if(!Xr(c.precondition,h))return void h.convertToUnknownDocument(g.version);const C=hf(c.fieldTransforms,h,g.transformResults),k=h.data;k.setAll(df(c)),k.setAll(C),h.convertToFoundDocument(g.version,k).setHasCommittedMutations()}(o,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function oc(o,e,t,c){return o instanceof cu?function(h,g,C,k){if(!Xr(h.precondition,g))return C;const Q=h.value.clone(),ie=wd(h.fieldTransforms,k,g);return Q.setAll(ie),g.convertToFoundDocument(g.version,Q).setHasLocalMutations(),null}(o,e,t,c):o instanceof da?function(h,g,C,k){if(!Xr(h.precondition,g))return C;const Q=wd(h.fieldTransforms,k,g),ie=g.data;return ie.setAll(df(h)),ie.setAll(Q),g.convertToFoundDocument(g.version,ie).setHasLocalMutations(),null===C?null:C.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Pe=>Pe.field))}(o,e,t,c):(C=t,Xr(o.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):C);var g,C}function Hu(o,e){let t=null;for(const c of o.fieldTransforms){const h=e.data.field(c.field),g=ua(c.transform,h||null);null!=g&&(null===t&&(t=gs.empty()),t.set(c.field,g))}return t||null}function oh(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(t=o.fieldTransforms)&&void 0===c||t&&c&&Ar(t,c,(h,g)=>function ri(o,e){return o.field.isEqual(e.field)&&(c=e.transform,(t=o.transform)instanceof O&&c instanceof O||t instanceof w&&c instanceof w?Ar(t.elements,c.elements,Y):t instanceof ce&&c instanceof ce?Y(t.yt,c.yt):t instanceof lu&&c instanceof lu);var t,c}(h,g))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var t,c}class cu extends Da{constructor(e,t,c,h=[]){super(),this.key=e,this.value=t,this.precondition=c,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class da extends Da{constructor(e,t,c,h,g=[]){super(),this.key=e,this.data=t,this.fieldMask=c,this.precondition=h,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function df(o){const e=new Map;return o.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const c=o.data.field(t);e.set(t,c)}}),e}function hf(o,e,t){const c=new Map;ai(o.length===t.length);for(let h=0;h<t.length;h++){const g=o[h],C=g.transform,k=e.data.field(g.field);c.set(g.field,ng(C,k,t[h]))}return c}function wd(o,e,t){const c=new Map;for(const h of o){const g=h.transform,C=t.data.field(h.field);c.set(h.field,vp(g,C,e))}return c}class ac extends Da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ah extends Da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bp{constructor(e){this.count=e}}var bs,ar;function ig(o){switch(o){default:return si();case sn.CANCELLED:case sn.UNKNOWN:case sn.DEADLINE_EXCEEDED:case sn.RESOURCE_EXHAUSTED:case sn.INTERNAL:case sn.UNAVAILABLE:case sn.UNAUTHENTICATED:return!1;case sn.INVALID_ARGUMENT:case sn.NOT_FOUND:case sn.ALREADY_EXISTS:case sn.PERMISSION_DENIED:case sn.FAILED_PRECONDITION:case sn.ABORTED:case sn.OUT_OF_RANGE:case sn.UNIMPLEMENTED:case sn.DATA_LOSS:return!0}}function rg(o){if(void 0===o)return Ai("GRPC error has no .code"),sn.UNKNOWN;switch(o){case bs.OK:return sn.OK;case bs.CANCELLED:return sn.CANCELLED;case bs.UNKNOWN:return sn.UNKNOWN;case bs.DEADLINE_EXCEEDED:return sn.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return sn.RESOURCE_EXHAUSTED;case bs.INTERNAL:return sn.INTERNAL;case bs.UNAVAILABLE:return sn.UNAVAILABLE;case bs.UNAUTHENTICATED:return sn.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return sn.INVALID_ARGUMENT;case bs.NOT_FOUND:return sn.NOT_FOUND;case bs.ALREADY_EXISTS:return sn.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return sn.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return sn.FAILED_PRECONDITION;case bs.ABORTED:return sn.ABORTED;case bs.OUT_OF_RANGE:return sn.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return sn.UNIMPLEMENTED;case bs.DATA_LOSS:return sn.DATA_LOSS;default:return si()}}(ar=bs||(bs={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";class Nc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),c=this.inner[t];if(void 0!==c)for(const[h,g]of c)if(this.equalsFn(h,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const c=this.mapKeyFn(e),h=this.inner[c];if(void 0===h)return this.inner[c]=[[e,t]],void this.innerSize++;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],e))return void(h[g]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),c=this.inner[t];if(void 0===c)return!1;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],e))return 1===c.length?delete this.inner[t]:c.splice(h,1),this.innerSize--,!0;return!1}forEach(e){B(this.inner,(t,c)=>{for(const[h,g]of c)e(h,g)})}isEmpty(){return W(this.inner)}size(){return this.innerSize}}const lv=new he(jn.comparator);function Ho(){return lv}const ju=new he(jn.comparator);function ff(...o){let e=ju;for(const t of o)e=e.insert(t.key,t);return e}function cv(o){let e=ju;return o.forEach((t,c)=>e=e.insert(t,c.overlayedDocument)),e}function Ll(){return Gu()}function Ep(){return Gu()}function Gu(){return new Nc(o=>o.toString(),(o,e)=>o.isEqual(e))}const wp=new he(jn.comparator),Cp=new Wt(jn.comparator);function er(...o){let e=Cp;for(const t of o)e=e.add(t);return e}const uv=new Wt(Ei);function lh(){return uv}class Bl{constructor(e,t,c,h,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=c,this.documentUpdates=h,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,c){const h=new Map;return h.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,t,c)),new Bl(gi.min(),h,lh(),Ho(),er())}}class bl{constructor(e,t,c,h,g){this.resumeToken=e,this.current=t,this.addedDocuments=c,this.modifiedDocuments=h,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,c){return new bl(c,t,er(),er(),er())}}class Fc{constructor(e,t,c,h){this.Tt=e,this.removedTargetIds=t,this.key=c,this.Et=h}}class Dp{constructor(e,t){this.targetId=e,this.At=t}}class sg{constructor(e,t,c=nr.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=c,this.cause=h}}class pf{constructor(){this.Rt=0,this.bt=Ip(),this.Pt=nr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=er(),t=er(),c=er();return this.bt.forEach((h,g)=>{switch(g){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:c=c.add(h);break;default:si()}}),new bl(this.Pt,this.vt,e,t,c)}Nt(){this.Vt=!1,this.bt=Ip()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Lc{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ho(),this.qt=og(),this.Kt=new Wt(Ei)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const c=this.zt(t);switch(e.state){case 0:this.Ht(t)&&c.Ct(e.resumeToken);break;case 1:c.Ft(),c.St||c.Nt(),c.Ct(e.resumeToken);break;case 2:c.Ft(),c.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(c.$t(),c.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),c.Ct(e.resumeToken));break;default:si()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((c,h)=>{this.Ht(h)&&t(h)})}Yt(e){const t=e.targetId,c=e.At.count,h=this.Xt(t);if(h){const g=h.target;if(su(g))if(0===c){const C=new jn(g.path);this.jt(t,C,Dr.newNoDocument(C,gi.min()))}else ai(1===c);else this.Zt(t)!==c&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((g,C)=>{const k=this.Xt(C);if(k){if(g.current&&su(k.target)){const Q=new jn(k.target.path);null!==this.Ut.get(Q)||this.ee(C,Q)||this.jt(C,Q,Dr.newNoDocument(Q,e))}g.Dt&&(t.set(C,g.xt()),g.Nt())}});let c=er();this.qt.forEach((g,C)=>{let k=!0;C.forEachWhile(Q=>{const ie=this.Xt(Q);return!ie||2===ie.purpose||(k=!1,!1)}),k&&(c=c.add(g))}),this.Ut.forEach((g,C)=>C.setReadTime(e));const h=new Bl(e,t,this.Kt,this.Ut,c);return this.Ut=Ho(),this.qt=og(),this.Kt=new Wt(Ei),h}Qt(e,t){if(!this.Ht(e))return;const c=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,c),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,c){if(!this.Ht(e))return;const h=this.zt(e);this.ee(e,t)?h.kt(t,1):h.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),c&&(this.Ut=this.Ut.insert(t,c))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new pf,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Wt(Ei),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||On("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new pf),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function og(){return new he(jn.comparator)}function Ip(){return new he(jn.comparator)}const Ao={asc:"ASCENDING",desc:"DESCENDING"},ch={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mf{constructor(e,t){this.databaseId=e,this.gt=t}}function Ua(o,e){return o.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bo(o,e){return o.gt?e.toBase64():e.toUint8Array()}function Tp(o,e){return Ua(o,e.toTimestamp())}function so(o){return ai(!!o),gi.fromTimestamp(function(e){const t=cs(e);return new ls(t.seconds,t.nanos)}(o))}function gf(o,e){return(t=o,new $i(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vl(o){const e=$i.fromString(o);return ai(pg(e)),e}function Ia(o,e){return gf(o.databaseId,e.path)}function Eo(o,e){const t=Vl(e);if(t.get(1)!==o.databaseId.projectId)throw new wn(sn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+o.databaseId.projectId);if(t.get(3)!==o.databaseId.database)throw new wn(sn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+o.databaseId.database);return new jn(lg(t))}function ag(o,e){return gf(o.databaseId,e)}function Cd(o){const e=Vl(o);return 4===e.length?$i.emptyPath():lg(e)}function Dd(o){return new $i(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function lg(o){return ai(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function wo(o,e,t){return{name:Ia(o,e),fields:t.value.mapValue.fields}}function _f(o,e,t){const c=Eo(o,e.name),h=so(e.updateTime),g=new gs({mapValue:{fields:e.fields}}),C=Dr.newFoundDocument(c,h,g);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function lc(o,e){let t;if(e instanceof cu)t={update:wo(o,e.key,e.value)};else if(e instanceof ac)t={delete:Ia(o,e.key)};else if(e instanceof da)t={update:wo(o,e.key,e.data),updateMask:X_(e.fieldMask)};else{if(!(e instanceof ah))return si();t={verify:Ia(o,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(c=>function(h,g){const C=g.transform;if(C instanceof lu)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof O)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof w)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof ce)return{fieldPath:g.field.canonicalString(),increment:C.yt};throw si()}(0,c))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Tp(o,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:si()),t;var h}function ug(o,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?hi.updateTime(so(h.updateTime)):void 0!==h.exists?hi.exists(h.exists):hi.none():hi.none(),c=e.updateTransforms?e.updateTransforms.map(h=>function(g,C){let k=null;"setToServerValue"in C?(ai("REQUEST_TIME"===C.setToServerValue),k=new lu):"appendMissingElements"in C?k=new O(C.appendMissingElements.values||[]):"removeAllFromArray"in C?k=new w(C.removeAllFromArray.values||[]):"increment"in C?k=new ce(g,C.increment):si();const Q=ji.fromServerFormat(C.fieldPath);return new vn(Q,k)}(o,h)):[];var h;if(e.update){const h=Eo(o,e.update.name),g=new gs({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new Qn((e.updateMask.fieldPaths||[]).map(ie=>ji.fromServerFormat(ie)));return new da(h,g,C,t,c)}return new cu(h,g,t,c)}if(e.delete){const h=Eo(o,e.delete);return new ac(h,t)}if(e.verify){const h=Eo(o,e.verify);return new ah(h,t)}return si()}function dg(o,e){return{documents:[ag(o,e.path)]}}function uh(o,e){const t={structuredQuery:{}},c=e.path;null!==e.collectionGroup?(t.parent=ag(o,c),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ag(o,c.popLast()),t.structuredQuery.from=[{collectionId:c.lastSegment()}]);const h=function(Q){if(0===Q.length)return;const ie=Q.map(Pe=>function(wt){if("=="===wt.op){if(wi(wt.value))return{unaryFilter:{field:cc(wt.field),op:"IS_NAN"}};if(Bi(wt.value))return{unaryFilter:{field:cc(wt.field),op:"IS_NULL"}}}else if("!="===wt.op){if(wi(wt.value))return{unaryFilter:{field:cc(wt.field),op:"IS_NOT_NAN"}};if(Bi(wt.value))return{unaryFilter:{field:cc(wt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(wt.field),op:hg(wt.op),value:wt.value}}}(Pe));return 1===ie.length?ie[0]:{compositeFilter:{op:"AND",filters:ie}}}(e.filters);h&&(t.structuredQuery.where=h);const g=function(Q){if(0!==Q.length)return Q.map(ie=>{return{field:cc((Pe=ie).field),direction:Mp(Pe.dir)};var Pe})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const C=(ie=e.limit,o.gt||gl(ie)?ie:{value:ie});var ie,k,Q;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Q=e.endAt).inclusive,values:Q.position}),t}function uu(o){let e=Cd(o.parent);const t=o.structuredQuery,c=t.from?t.from.length:0;let h=null;if(c>0){ai(1===c);const Pe=t.from[0];Pe.allDescendants?h=Pe.collectionId:e=e.child(Pe.collectionId)}let g=[];t.where&&(g=Id(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(Pe=>{return new Nl(Bc((wt=Pe).field),function(qt){switch(qt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(wt.direction));var wt}));let k=null;t.limit&&(k=function(Pe){let wt;return wt="object"==typeof Pe?Pe.value:Pe,gl(wt)?null:wt}(t.limit));let Q=null;var Pe;t.startAt&&(Q=new Pc((Pe=t.startAt).values||[],!!Pe.before));let ie=null;return t.endAt&&(ie=function(Pe){return new Pc(Pe.values||[],!Pe.before)}(t.endAt)),eg(e,h,C,g,k,"F",Q,ie)}function Id(o){return o?void 0!==o.unaryFilter?[zu(o)]:void 0!==o.fieldFilter?[fg(o)]:void 0!==o.compositeFilter?o.compositeFilter.filters.map(e=>Id(e)).reduce((e,t)=>e.concat(t)):si():[]}function Mp(o){return Ao[o]}function hg(o){return ch[o]}function cc(o){return{fieldPath:o.canonicalString()}}function Bc(o){return ji.fromServerFormat(o.fieldPath)}function fg(o){return vo.create(Bc(o.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return si()}}(o.fieldFilter.op),o.fieldFilter.value)}function zu(o){switch(o.unaryFilter.op){case"IS_NAN":const e=Bc(o.unaryFilter.field);return vo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Bc(o.unaryFilter.field);return vo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Bc(o.unaryFilter.field);return vo.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Bc(o.unaryFilter.field);return vo.create(h,"!=",{nullValue:"NULL_VALUE"});default:return si()}}function X_(o){const e=[];return o.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pg(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}function Ta(o){let e="";for(let t=0;t<o.length;t++)e.length>0&&(e=mg(e)),e=J_(o.get(t),e);return mg(e)}function J_(o,e){let t=e;const c=o.length;for(let h=0;h<c;h++){const g=o.charAt(h);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function mg(o){return o+"\x01\x01"}function Co(o){const e=o.length;if(ai(e>=2),2===e)return ai("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),$i.emptyPath();const t=e-2,c=[];let h="";for(let g=0;g<e;){const C=o.indexOf("\x01",g);switch((C<0||C>t)&&si(),o.charAt(C+1)){case"\x01":const k=o.substring(g,C);let Q;0===h.length?Q=k:(h+=k,Q=h,h=""),c.push(Q);break;case"\x10":h+=o.substring(g,C),h+="\0";break;case"\x11":h+=o.substring(g,C+1);break;default:si()}g=C+2}return new $i(c)}const $u=["userId","batchId"];function yf(o,e){return[o,Ta(e)]}function Ap(o,e,t){return[o,Ta(e),t]}const hv={},ey=["prefixPath","collectionGroup","readTime","documentId"],fv=["prefixPath","collectionGroup","documentId"],gg=["collectionGroup","readTime","prefixPath","documentId"],xp=["canonicalId","targetId"],_g=["targetId","path"],pv=["path","targetId"],mv=["collectionId","parent"],ty=["indexId","uid"],Op=["uid","sequenceNumber"],du=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vf=["indexId","uid","orderedDocumentKey"],yg=["userId","collectionPath","documentId"],vg=["userId","collectionPath","largestBatchId"],bg=["userId","collectionGroup","largestBatchId"],gv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lb=[...gv,"documentOverlays"],_v=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rp=_v,Eg=[...Rp,"indexConfiguration","indexState","indexEntries"];class wg extends Ol{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function jo(o,e){const t=$n(o);return Li.M(t.ie,e)}class kp{constructor(e,t,c,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=c,this.mutations=h}applyToRemoteDocument(e,t){const c=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const g=this.mutations[h];g.key.isEqual(e.key)&&Uu(g,e,c[h])}}applyToLocalView(e,t){for(const c of this.baseMutations)c.key.isEqual(e.key)&&(t=oc(c,e,t,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(e.key)&&(t=oc(c,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const c=Ep();return this.mutations.forEach(h=>{const g=e.get(h.key),C=g.overlayedDocument;let k=this.applyToLocalView(C,g.mutatedFields);k=t.has(h.key)?null:k;const Q=Fl(C,k);null!==Q&&c.set(h.key,Q),C.isValidDocument()||C.convertToNoDocument(gi.min())}),c}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),er())}isEqual(e){return this.batchId===e.batchId&&Ar(this.mutations,e.mutations,(t,c)=>oh(t,c))&&Ar(this.baseMutations,e.baseMutations,(t,c)=>oh(t,c))}}class Cg{constructor(e,t,c,h){this.batch=e,this.commitVersion=t,this.mutationResults=c,this.docVersions=h}static from(e,t,c){ai(e.mutations.length===c.length);let h=wp;const g=e.mutations;for(let C=0;C<g.length;C++)h=h.insert(g[C].key,c[C].version);return new Cg(e,t,c,h)}}class Dg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ha{constructor(e,t,c,h,g=gi.min(),C=gi.min(),k=nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=c,this.sequenceNumber=h,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=k}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Pp{constructor(e){this.re=e}}function bf(o,e){const t=e.key,c={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Wu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())c.document={name:Ia(h=o.re,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:Ua(h,g.version.toTimestamp())};else if(e.isNoDocument())c.noDocument={path:t.path.toArray(),readTime:nl(e.version)};else{if(!e.isUnknownDocument())return si();c.unknownDocument={path:t.path.toArray(),version:nl(e.version)}}var h,g;return c}function Wu(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function nl(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ku(o){const e=new ls(o.seconds,o.nanoseconds);return gi.fromTimestamp(e)}function Es(o,e){const t=(e.baseMutations||[]).map(g=>ug(o.re,g));for(let g=0;g<e.mutations.length-1;++g){const C=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(C.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const c=e.mutations.map(g=>ug(o.re,g)),h=ls.fromMillis(e.localWriteTimeMs);return new kp(e.batchId,h,t,c)}function dh(o){const e=Ku(o.readTime),t=void 0!==o.lastLimboFreeSnapshotVersion?Ku(o.lastLimboFreeSnapshotVersion):gi.min();let c;var h;return void 0!==o.query.documents?(ai(1===(h=o.query).documents.length),c=ca(au(Cd(h.documents[0])))):c=ca(uu(o.query)),new Ha(c,o.targetId,0,o.lastListenSequenceNumber,e,t,nr.fromBase64String(o.resumeToken))}function iy(o,e){const t=nl(e.snapshotVersion),c=nl(e.lastLimboFreeSnapshotVersion);let h;h=su(e.target)?dg(o.re,e.target):uh(o.re,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ru(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:h}}function Ef(o){const e=uu({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Vu(e,e.limit,"L"):e}function hh(o,e){return new Dg(e.largestBatchId,ug(o.re,e.overlayMutation))}function Ig(o,e){const t=e.path.lastSegment();return[o,Ta(e.path.popLast()),t]}function ry(o,e,t,c){return{indexId:o,uid:e.uid||"",sequenceNumber:t,readTime:nl(c.readTime),documentKey:Ta(c.documentKey.path),largestBatchId:c.largestBatchId}}class sy{getBundleMetadata(e,t){return oy(e).get(t).next(c=>{if(c)return{id:(h=c).bundleId,createTime:Ku(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return oy(e).put({bundleId:(c=t).id,createTime:nl(so(c.createTime)),version:c.version});var c}getNamedQuery(e,t){return Tg(e).get(t).next(c=>{if(c)return{name:(h=c).name,query:Ef(h.bundledQuery),readTime:Ku(h.readTime)};var h})}saveNamedQuery(e,t){return Tg(e).put({name:(c=t).name,readTime:nl(so(c.readTime)),bundledQuery:c.bundledQuery});var c}}function oy(o){return jo(o,"bundles")}function Tg(o){return jo(o,"namedQueries")}class Np{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Np(e,t.uid||"")}getOverlay(e,t){return wf(e).get(Ig(this.userId,t)).next(c=>c?hh(this.It,c):null)}getOverlays(e,t){const c=Ll();return rn.forEach(t,h=>this.getOverlay(e,h).next(g=>{null!==g&&c.set(h,g)})).next(()=>c)}saveOverlays(e,t,c){const h=[];return c.forEach((g,C)=>{const k=new Dg(t,C);h.push(this.ue(e,k))}),rn.waitFor(h)}removeOverlaysForBatchId(e,t,c){const h=new Set;t.forEach(C=>h.add(Ta(C.getCollectionPath())));const g=[];return h.forEach(C=>{const k=IDBKeyRange.bound([this.userId,C,c],[this.userId,C,c+1],!1,!0);g.push(wf(e).Y("collectionPathOverlayIndex",k))}),rn.waitFor(g)}getOverlaysForCollection(e,t,c){const h=Ll(),g=Ta(t),C=IDBKeyRange.bound([this.userId,g,c],[this.userId,g,Number.POSITIVE_INFINITY],!0);return wf(e).W("collectionPathOverlayIndex",C).next(k=>{for(const Q of k){const ie=hh(this.It,Q);h.set(ie.getKey(),ie)}return h})}getOverlaysForCollectionGroup(e,t,c,h){const g=Ll();let C;const k=IDBKeyRange.bound([this.userId,t,c],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wf(e).Z({index:"collectionGroupOverlayIndex",range:k},(Q,ie,Pe)=>{const wt=hh(this.It,ie);g.size()<h||wt.largestBatchId===C?(g.set(wt.getKey(),wt),C=wt.largestBatchId):Pe.done()}).next(()=>g)}ue(e,t){return wf(e).put(function(c,h,g){const[C,k,Q]=Ig(h,g.mutation.key);return{userId:h,collectionPath:k,documentId:Q,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:lc(c.re,g.mutation)}}(this.It,this.userId,t))}}function wf(o){return jo(o,"documentOverlays")}class Ul{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(sr(e.integerValue));else if("doubleValue"in e){const c=sr(e.doubleValue);isNaN(c)?this.le(t,13):(this.le(t,15),Pl(c)?t.fe(0):t.fe(c))}else if("timestampValue"in e){const c=e.timestampValue;this.le(t,20),"string"==typeof c?t.de(c):(t.de(`${c.seconds||""}`),t.fe(c.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(ra(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const c=e.geoPointValue;this.le(t,45),t.fe(c.latitude||0),t.fe(c.longitude||0)}else"mapValue"in e?Ba(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):si()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const c=e.fields||{};this.le(t,55);for(const h of Object.keys(c))this._e(h,t),this.ae(c[h],t)}pe(e,t){const c=e.values||[];this.le(t,50);for(const h of c)this.ae(h,t)}ge(e,t){this.le(t,37),jn.fromName(e).path.forEach(c=>{this.le(t,60),this.Ie(c,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Sg(o){if(0===o)return 8;let e=0;return o>>4==0&&(e+=4,o<<=4),o>>6==0&&(e+=2,o<<=2),o>>7==0&&(e+=1),e}function Fp(o){const e=64-function(t){let c=0;for(let h=0;h<8;++h){const g=Sg(255&t[h]);if(c+=g,8!==g)break}return c}(o);return Math.ceil(e/8)}Ul.Te=new Ul;class Mg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let c=t.next();for(;!c.done;)this.Ae(c.value),c=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let c=t.next();for(;!c.done;)this.Pe(c.value),c=t.next();this.ve()}Ve(e){for(const t of e){const c=t.charCodeAt(0);if(c<128)this.Ae(c);else if(c<2048)this.Ae(960|c>>>6),this.Ae(128|63&c);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c);else{const h=t.codePointAt(0);this.Ae(240|h>>>18),this.Ae(128|63&h>>>12),this.Ae(128|63&h>>>6),this.Ae(128|63&h)}}this.Re()}Se(e){for(const t of e){const c=t.charCodeAt(0);if(c<128)this.Pe(c);else if(c<2048)this.Pe(960|c>>>6),this.Pe(128|63&c);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|c>>>12),this.Pe(128|63&c>>>6),this.Pe(128|63&c);else{const h=t.codePointAt(0);this.Pe(240|h>>>18),this.Pe(128|63&h>>>12),this.Pe(128|63&h>>>6),this.Pe(128|63&h)}}this.ve()}De(e){const t=this.Ce(e),c=Fp(t);this.xe(1+c),this.buffer[this.position++]=255&c;for(let h=t.length-c;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Ne(e){const t=this.Ce(e),c=Fp(t);this.xe(1+c),this.buffer[this.position++]=~(255&c);for(let h=t.length-c;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(h){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,h,!1),new Uint8Array(g.buffer)}(e),c=0!=(128&t[0]);t[0]^=c?255:128;for(let h=1;h<t.length;++h)t[h]^=c?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let c=2*this.buffer.length;c<t&&(c=t);const h=new Uint8Array(c);h.set(this.buffer),this.buffer=h}}class Ag{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Lp{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Td{constructor(){this.Be=new Mg,this.Le=new Ag(this.Be),this.Ue=new Lp(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class hu{constructor(e,t,c,h){this.indexId=e,this.documentKey=t,this.arrayValue=c,this.directionalValue=h}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,c=new Uint8Array(t);return c.set(this.directionalValue,0),t!==e?c.set([0],this.directionalValue.length):++c[c.length-1],new hu(this.indexId,this.documentKey,this.arrayValue,c)}}function ur(o,e){let t=o.indexId-e.indexId;return 0!==t?t:(t=Ur(o.arrayValue,e.arrayValue),0!==t?t:(t=Ur(o.directionalValue,e.directionalValue),0!==t?t:jn.comparator(o.documentKey,e.documentKey)))}function Ur(o,e){for(let t=0;t<o.length&&t<e.length;++t){const c=o[t]-e[t];if(0!==c)return c}return o.length-e.length}class lr{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const c=t;c.dt()?this.je=c:this.Qe.push(c)}}We(e){const t=Bo(e);if(void 0!==t&&!this.ze(t))return!1;const c=Qs(e);let h=0,g=0;for(;h<c.length&&this.ze(c[h]);++h);if(h===c.length)return!0;if(void 0!==this.je){const C=c[h];if(!this.He(this.je,C)||!this.Je(this.Ge[g++],C))return!1;++h}for(;h<c.length;++h){const C=c[h];if(g>=this.Ge.length||!this.Je(this.Ge[g++],C))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Vc{constructor(){this.Ye=new Jr}addToCollectionParentIndex(e,t){return this.Ye.add(t),rn.resolve()}getCollectionParents(e,t){return rn.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return rn.resolve()}deleteFieldIndex(e,t){return rn.resolve()}getDocumentsMatchingTarget(e,t){return rn.resolve(null)}getIndexType(e,t){return rn.resolve(0)}getFieldIndexes(e,t){return rn.resolve([])}getNextCollectionGroupToUpdate(e){return rn.resolve(null)}getMinOffset(e,t){return rn.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,t){return rn.resolve(Vo.min())}updateCollectionGroup(e,t,c){return rn.resolve()}updateIndexEntries(e,t){return rn.resolve()}}class Jr{constructor(){this.index={}}add(e){const t=e.lastSegment(),c=e.popLast(),h=this.index[t]||new Wt($i.comparator),g=!h.has(c);return this.index[t]=h.add(c),g}has(e){const t=e.lastSegment(),c=e.popLast(),h=this.index[t];return h&&h.has(c)}getEntries(e){return(this.index[e]||new Wt($i.comparator)).toArray()}}const Sd=new Uint8Array(0);class Md{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Jr,this.Ze=new Nc(c=>ru(c),(c,h)=>Bu(c,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const c=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const g={collectionId:c,parent:Ta(h)};return fh(e).put(g)}return rn.resolve()}getCollectionParents(e,t){const c=[],h=IDBKeyRange.bound([t,""],[Pu(t),""],!1,!0);return fh(e).W(h).next(g=>{for(const C of g){if(C.collectionId!==t)break;c.push(Co(C.parent))}return c})}addFieldIndex(e,t){const c=es(e),h={indexId:(C=t).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var C;delete h.indexId;const g=c.add(h);if(t.indexState){const C=qi(e);return g.next(k=>{C.put(ry(k,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const c=es(e),h=qi(e),g=Yu(e);return c.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const c=Yu(e);let h=!0;const g=new Map;return rn.forEach(this.tn(t),C=>this.en(e,C).next(k=>{h&&(h=!!k),g.set(C,k)})).next(()=>{if(h){let C=er();const k=[];return rn.forEach(g,(Q,ie)=>{var Pe;On("IndexedDbIndexManager",`Using index ${Pe=Q,`id=${Pe.indexId}|cg=${Pe.collectionGroup}|f=${Pe.fields.map(dr=>`${dr.fieldPath}:${dr.kind}`).join(",")}`} to execute ${ru(t)}`);const wt=function(dr,Ms){const Pr=Bo(Ms);if(void 0===Pr)return null;for(const Nr of rc(dr,Pr.fieldPath))switch(Nr.op){case"array-contains-any":return Nr.value.arrayValue.values||[];case"array-contains":return[Nr.value]}return null}(ie,Q),qt=function(dr,Ms){const Pr=new Map;for(const Nr of Qs(Ms))for(const Yo of rc(dr,Nr.fieldPath))switch(Yo.op){case"==":case"in":Pr.set(Nr.fieldPath.canonicalString(),Yo.value);break;case"not-in":case"!=":return Pr.set(Nr.fieldPath.canonicalString(),Yo.value),Array.from(Pr.values())}return null}(ie,Q),mn=function(dr,Ms){const Pr=[];let Nr=!0;for(const Yo of Qs(Ms)){const nf=0===Yo.kind?fp(dr,Yo.fieldPath,dr.startAt):af(dr,Yo.fieldPath,dr.startAt);Pr.push(nf.value),Nr&&(Nr=nf.inclusive)}return new Pc(Pr,Nr)}(ie,Q),bn=function(dr,Ms){const Pr=[];let Nr=!0;for(const Yo of Qs(Ms)){const nf=0===Yo.kind?af(dr,Yo.fieldPath,dr.endAt):fp(dr,Yo.fieldPath,dr.endAt);Pr.push(nf.value),Nr&&(Nr=nf.inclusive)}return new Pc(Pr,Nr)}(ie,Q),Jn=this.nn(Q,ie,mn),oi=this.nn(Q,ie,bn),Or=this.sn(Q,ie,qt),Ds=this.rn(Q.indexId,wt,Jn,mn.inclusive,oi,bn.inclusive,Or);return rn.forEach(Ds,dr=>c.J(dr,t.limit).next(Ms=>{Ms.forEach(Pr=>{const Nr=jn.fromSegments(Pr.documentKey);C.has(Nr)||(C=C.add(Nr),k.push(Nr))})}))}).next(()=>k)}return rn.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,c,h,g,C,k){const Q=(null!=t?t.length:1)*Math.max(c.length,g.length),ie=Q/(null!=t?t.length:1),Pe=[];for(let wt=0;wt<Q;++wt){const qt=t?this.on(t[wt/ie]):Sd,mn=this.un(e,qt,c[wt%ie],h),bn=this.cn(e,qt,g[wt%ie],C),Jn=k.map(oi=>this.un(e,qt,oi,!0));Pe.push(...this.createRange(mn,bn,Jn))}return Pe}un(e,t,c,h){const g=new hu(e,jn.empty(),t,c);return h?g:g.Ke()}cn(e,t,c,h){const g=new hu(e,jn.empty(),t,c);return h?g.Ke():g}en(e,t){const c=new lr(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(g=>{let C=null;for(const k of g)c.We(k)&&(!C||k.fields.length>C.fields.length)&&(C=k);return C})}getIndexType(e,t){let c=2;return rn.forEach(this.tn(t),h=>this.en(e,h).next(g=>{g?0!==c&&g.fields.length<function(C){let k=new Wt(ji.comparator),Q=!1;for(const ie of C.filters){const Pe=ie;Pe.field.isKeyField()||("array-contains"===Pe.op||"array-contains-any"===Pe.op?Q=!0:k=k.add(Pe.field))}for(const ie of C.orderBy)ie.field.isKeyField()||(k=k.add(ie.field));return k.size+(Q?1:0)}(h)&&(c=1):c=0})).next(()=>c)}an(e,t){const c=new Td;for(const h of Qs(e)){const g=t.data.field(h.fieldPath);if(null==g)return null;const C=c.qe(h.kind);Ul.Te.ce(g,C)}return c.$e()}on(e){const t=new Td;return Ul.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const c=new Td;return Ul.Te.ce(Gn(this.databaseId,t),c.qe(function(h){const g=Qs(h);return 0===g.length?0:g[g.length-1].kind}(e))),c.$e()}sn(e,t,c){if(null===c)return[];let h=[];h.push(new Td);let g=0;for(const C of Qs(e)){const k=c[g++];for(const Q of h)if(this.ln(t,C.fieldPath)&&xi(k))h=this.fn(h,C,k);else{const ie=Q.qe(C.kind);Ul.Te.ce(k,ie)}}return this.dn(h)}nn(e,t,c){return this.sn(e,t,c.position)}dn(e){const t=[];for(let c=0;c<e.length;++c)t[c]=e[c].$e();return t}fn(e,t,c){const h=[...e],g=[];for(const C of c.arrayValue.values||[])for(const k of h){const Q=new Td;Q.seed(k.$e()),Ul.Te.ce(C,Q.qe(t.kind)),g.push(Q)}return g}ln(e,t){return!!e.filters.find(c=>c instanceof vo&&c.field.isEqual(t)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(e,t){const c=es(e),h=qi(e);return(t?c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):c.W()).next(g=>{const C=[];return rn.forEach(g,k=>h.get([k.indexId,this.uid]).next(Q=>{C.push(function(ie,Pe){const wt=Pe?new yr(Pe.sequenceNumber,new Vo(Ku(Pe.readTime),new jn(Co(Pe.documentKey)),Pe.largestBatchId)):yr.empty(),qt=ie.fields.map(([mn,bn])=>new ps(ji.fromServerFormat(mn),bn));return new Hs(ie.indexId,ie.collectionGroup,qt,wt)}(k,Q))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((c,h)=>{const g=c.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==g?g:Ei(c.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,c){const h=es(e),g=qi(e);return this._n(e).next(C=>h.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(k=>rn.forEach(k,Q=>g.put(ry(Q.indexId,this.user,C,c)))))}updateIndexEntries(e,t){const c=new Map;return rn.forEach(t,(h,g)=>{const C=c.get(h.collectionGroup);return(C?rn.resolve(C):this.getFieldIndexes(e,h.collectionGroup)).next(k=>(c.set(h.collectionGroup,k),rn.forEach(k,Q=>this.wn(e,h,Q).next(ie=>{const Pe=this.mn(g,Q);return ie.isEqual(Pe)?rn.resolve():this.gn(e,g,Q,ie,Pe)}))))})}yn(e,t,c,h){return Yu(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.hn(c,t.key),documentKey:t.key.path.toArray()})}pn(e,t,c,h){return Yu(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.hn(c,t.key),t.key.path.toArray()])}wn(e,t,c){const h=Yu(e);let g=new Wt(ur);return h.Z({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.hn(c,t)])},(C,k)=>{g=g.add(new hu(c.indexId,t,k.arrayValue,k.directionalValue))}).next(()=>g)}mn(e,t){let c=new Wt(ur);const h=this.an(t,e);if(null==h)return c;const g=Bo(t);if(null!=g){const C=e.data.field(g.fieldPath);if(xi(C))for(const k of C.arrayValue.values||[])c=c.add(new hu(t.indexId,e.key,this.on(k),h))}else c=c.add(new hu(t.indexId,e.key,Sd,h));return c}gn(e,t,c,h,g){On("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(k,Q,ie,Pe,wt){const qt=k.getIterator(),mn=Q.getIterator();let bn=Si(qt),Jn=Si(mn);for(;bn||Jn;){let oi=!1,Or=!1;if(bn&&Jn){const Ds=ie(bn,Jn);Ds<0?Or=!0:Ds>0&&(oi=!0)}else null!=bn?Or=!0:oi=!0;oi?(Pe(Jn),Jn=Si(mn)):Or?(wt(bn),bn=Si(qt)):(bn=Si(qt),Jn=Si(mn))}}(h,g,ur,k=>{C.push(this.yn(e,t,c,k))},k=>{C.push(this.pn(e,t,c,k))}),rn.waitFor(C)}_n(e){let t=1;return qi(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,h,g)=>{g.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,c){c=c.sort((C,k)=>ur(C,k)).filter((C,k,Q)=>!k||0!==ur(C,Q[k-1]));const h=[];h.push(e);for(const C of c){const k=ur(C,e),Q=ur(C,t);if(0===k)h[0]=e.Ke();else if(k>0&&Q<0)h.push(C),h.push(C.Ke());else if(Q>0)break}h.push(t);const g=[];for(let C=0;C<h.length;C+=2)g.push(IDBKeyRange.bound([h[C].indexId,this.uid,h[C].arrayValue,h[C].directionalValue,Sd,[]],[h[C+1].indexId,this.uid,h[C+1].arrayValue,h[C+1].directionalValue,Sd,[]]));return g}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Go)}getMinOffset(e,t){return rn.mapArray(this.tn(t),c=>this.en(e,c).next(h=>h||si())).next(Go)}}function fh(o){return jo(o,"collectionParents")}function Yu(o){return jo(o,"indexEntries")}function es(o){return jo(o,"indexConfiguration")}function qi(o){return jo(o,"indexState")}function Go(o){ai(0!==o.length);let e=o[0].indexState.offset,t=e.largestBatchId;for(let c=1;c<o.length;c++){const h=o[c].indexState.offset;Nu(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new Vo(e.readTime,e.documentKey,t)}const Cf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(e,t,c){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=c}static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function il(o,e,t){const c=o.store("mutations"),h=o.store("documentMutations"),g=[],C=IDBKeyRange.only(t.batchId);let k=0;const Q=c.Z({range:C},(Pe,wt,qt)=>(k++,qt.delete()));g.push(Q.next(()=>{ai(1===k)}));const ie=[];for(const Pe of t.mutations){const wt=Ap(e,Pe.key.path,t.batchId);g.push(h.delete(wt)),ie.push(Pe.key)}return rn.waitFor(g).next(()=>ie)}function ph(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw si();e=o.noDocument}return JSON.stringify(e).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class Bp{constructor(e,t,c,h){this.userId=e,this.It=t,this.indexManager=c,this.referenceDelegate=h,this.In={}}static oe(e,t,c,h){ai(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new Bp(g,t,c,h)}checkEmpty(e){let t=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uc(e).Z({index:"userMutationsIndex",range:c},(h,g,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,c,h){const g=ha(e),C=Uc(e);return C.add({}).next(k=>{ai("number"==typeof k);const Q=new kp(k,t,c,h),ie=function(qt,mn,bn){const Jn=bn.baseMutations.map(Or=>lc(qt.re,Or)),oi=bn.mutations.map(Or=>lc(qt.re,Or));return{userId:mn,batchId:bn.batchId,localWriteTimeMs:bn.localWriteTime.toMillis(),baseMutations:Jn,mutations:oi}}(this.It,this.userId,Q),Pe=[];let wt=new Wt((qt,mn)=>Ei(qt.canonicalString(),mn.canonicalString()));for(const qt of h){const mn=Ap(this.userId,qt.key.path,k);wt=wt.add(qt.key.path.popLast()),Pe.push(C.put(ie)),Pe.push(g.put(mn,hv))}return wt.forEach(qt=>{Pe.push(this.indexManager.addToCollectionParentIndex(e,qt))}),e.addOnCommittedListener(()=>{this.In[k]=Q.keys()}),rn.waitFor(Pe).next(()=>Q)})}lookupMutationBatch(e,t){return Uc(e).get(t).next(c=>c?(ai(c.userId===this.userId),Es(this.It,c)):null)}Tn(e,t){return this.In[t]?rn.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(c=>{if(c){const h=c.keys();return this.In[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const c=t+1,h=IDBKeyRange.lowerBound([this.userId,c]);let g=null;return Uc(e).Z({index:"userMutationsIndex",range:h},(C,k,Q)=>{k.userId===this.userId&&(ai(k.batchId>=c),g=Es(this.It,k)),Q.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Uc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(h,g,C)=>{c=g.batchId,C.done()}).next(()=>c)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uc(e).W("userMutationsIndex",t).next(c=>c.map(h=>Es(this.It,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const c=yf(this.userId,t.path),h=IDBKeyRange.lowerBound(c),g=[];return ha(e).Z({range:h},(C,k,Q)=>{const[ie,Pe,wt]=C,qt=Co(Pe);if(ie===this.userId&&t.path.isEqual(qt))return Uc(e).get(wt).next(mn=>{if(!mn)throw si();ai(mn.userId===this.userId),g.push(Es(this.It,mn))});Q.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let c=new Wt(Ei);const h=[];return t.forEach(g=>{const C=yf(this.userId,g.path),k=IDBKeyRange.lowerBound(C),Q=ha(e).Z({range:k},(ie,Pe,wt)=>{const[qt,mn,bn]=ie,Jn=Co(mn);qt===this.userId&&g.path.isEqual(Jn)?c=c.add(bn):wt.done()});h.push(Q)}),rn.waitFor(h).next(()=>this.En(e,c))}getAllMutationBatchesAffectingQuery(e,t){const c=t.path,h=c.length+1,g=yf(this.userId,c),C=IDBKeyRange.lowerBound(g);let k=new Wt(Ei);return ha(e).Z({range:C},(Q,ie,Pe)=>{const[wt,qt,mn]=Q,bn=Co(qt);wt===this.userId&&c.isPrefixOf(bn)?bn.length===h&&(k=k.add(mn)):Pe.done()}).next(()=>this.En(e,k))}En(e,t){const c=[],h=[];return t.forEach(g=>{h.push(Uc(e).get(g).next(C=>{if(null===C)throw si();ai(C.userId===this.userId),c.push(Es(this.It,C))}))}),rn.waitFor(h).next(()=>c)}removeMutationBatch(e,t){return il(e.ie,this.userId,t).next(c=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),rn.forEach(c,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return rn.resolve();const c=IDBKeyRange.lowerBound([this.userId]),h=[];return ha(e).Z({range:c},(g,C,k)=>{if(g[0]===this.userId){const Q=Co(g[1]);h.push(Q)}else k.done()}).next(()=>{ai(0===h.length)})})}containsKey(e,t){return ay(e,this.userId,t)}Rn(e){return Vp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ay(o,e,t){const c=yf(e,t.path),h=c[1],g=IDBKeyRange.lowerBound(c);let C=!1;return ha(o).Z({range:g,X:!0},(k,Q,ie)=>{const[Pe,wt,qt]=k;Pe===e&&wt===h&&(C=!0),ie.done()}).next(()=>C)}function Uc(o){return jo(o,"mutations")}function ha(o){return jo(o,"documentMutations")}function Vp(o){return jo(o,"mutationQueues")}class uc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new uc(0)}static vn(){return new uc(-1)}}class yv{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const c=new uc(t.highestTargetId);return t.highestTargetId=c.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>gi.fromTimestamp(new ls(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,c){return this.Vn(e).next(h=>(h.highestListenSequenceNumber=t,c&&(h.lastRemoteSnapshotVersion=c.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.Sn(e,h)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(c=>(c.targetCount+=1,this.Cn(t,c),this.Sn(e,c))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ad(e).delete(t.targetId)).next(()=>this.Vn(e)).next(c=>(ai(c.targetCount>0),c.targetCount-=1,this.Sn(e,c)))}removeTargets(e,t,c){let h=0;const g=[];return Ad(e).Z((C,k)=>{const Q=dh(k);Q.sequenceNumber<=t&&null===c.get(Q.targetId)&&(h++,g.push(this.removeTargetData(e,Q)))}).next(()=>rn.waitFor(g)).next(()=>h)}forEachTarget(e,t){return Ad(e).Z((c,h)=>{const g=dh(h);t(g)})}Vn(e){return Up(e).get("targetGlobalKey").next(t=>(ai(null!==t),t))}Sn(e,t){return Up(e).put("targetGlobalKey",t)}Dn(e,t){return Ad(e).put(iy(this.It,t))}Cn(e,t){let c=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,c=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,c=!0),c}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const c=ru(t),h=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let g=null;return Ad(e).Z({range:h,index:"queryTargetsIndex"},(C,k,Q)=>{const ie=dh(k);Bu(t,ie.target)&&(g=ie,Q.done())}).next(()=>g)}addMatchingKeys(e,t,c){const h=[],g=Zu(e);return t.forEach(C=>{const k=Ta(C.path);h.push(g.put({targetId:c,path:k})),h.push(this.referenceDelegate.addReference(e,c,C))}),rn.waitFor(h)}removeMatchingKeys(e,t,c){const h=Zu(e);return rn.forEach(t,g=>{const C=Ta(g.path);return rn.waitFor([h.delete([c,C]),this.referenceDelegate.removeReference(e,c,g)])})}removeMatchingKeysForTargetId(e,t){const c=Zu(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return c.delete(h)}getMatchingKeysForTargetId(e,t){const c=IDBKeyRange.bound([t],[t+1],!1,!0),h=Zu(e);let g=er();return h.Z({range:c,X:!0},(C,k,Q)=>{const ie=Co(C[1]),Pe=new jn(ie);g=g.add(Pe)}).next(()=>g)}containsKey(e,t){const c=Ta(t.path),h=IDBKeyRange.bound([c],[Pu(c)],!1,!0);let g=0;return Zu(e).Z({index:"documentTargetsIndex",X:!0,range:h},([C,k],Q,ie)=>{0!==C&&(g++,ie.done())}).next(()=>g>0)}se(e,t){return Ad(e).get(t).next(c=>c?dh(c):null)}}function Ad(o){return jo(o,"targets")}function Up(o){return jo(o,"targetGlobal")}function Zu(o){return jo(o,"targetDocuments")}function xg([o,e],[t,c]){const h=Ei(o,t);return 0===h?Ei(e,c):h}class ly{constructor(e){this.xn=e,this.buffer=new Wt(xg),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const c=this.buffer.last();xg(t,c)<0&&(this.buffer=this.buffer.delete(c).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qu{constructor(e,t,c){this.garbageCollector=e,this.asyncQueue=t,this.localStore=c,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;On("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,$e.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(c){ia(c)?On("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield ic(c)}yield t.Fn(3e5)}))}}class gr{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(c=>Math.floor(t/100*c))}nthSequenceNumber(e,t){if(0===t)return rn.resolve(x.at);const c=new ly(t);return this.$n.forEachTarget(e,h=>c.On(h.sequenceNumber)).next(()=>this.$n.Ln(e,h=>c.On(h))).next(()=>c.maxValue)}removeTargets(e,t,c){return this.$n.removeTargets(e,t,c)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(On("LruGarbageCollector","Garbage collection skipped; disabled"),rn.resolve(Cf)):this.getCacheSize(e).next(c=>c<this.params.cacheSizeCollectionThreshold?(On("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cf):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let c,h,g,C,k,Q,ie;const Pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(wt=>(wt>this.params.maximumSequenceNumbersToCollect?(On("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${wt}`),h=this.params.maximumSequenceNumbersToCollect):h=wt,C=Date.now(),this.nthSequenceNumber(e,h))).next(wt=>(c=wt,k=Date.now(),this.removeTargets(e,c,t))).next(wt=>(g=wt,Q=Date.now(),this.removeOrphanedDocuments(e,c))).next(wt=>(ie=Date.now(),Na()<=Oe.in.DEBUG&&On("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-Pe}ms\n\tDetermined least recently used ${h} in `+(k-C)+`ms\n\tRemoved ${g} targets in `+(Q-k)+`ms\n\tRemoved ${wt} documents in `+(ie-Q)+`ms\nTotal Duration: ${ie-Pe}ms`),rn.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:g,documentsRemoved:wt})))}}class Hp{constructor(e,t){this.db=e,this.garbageCollector=new gr(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(c=>t.next(h=>c+h))}qn(e){let t=0;return this.Ln(e,c=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(c,h)=>t(h))}addReference(e,t,c){return dc(e,c)}removeReference(e,t,c){return dc(e,c)}removeTargets(e,t,c){return this.db.getTargetCache().removeTargets(e,t,c)}markPotentiallyOrphaned(e,t){return dc(e,t)}Gn(e,t){return function(c,h){let g=!1;return Vp(c).tt(C=>ay(c,C,h).next(k=>(k&&(g=!0),rn.resolve(!k)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let g=0;return this.Kn(e,(C,k)=>{if(k<=t){const Q=this.Gn(e,C).next(ie=>{if(!ie)return g++,c.getEntry(e,C).next(()=>(c.removeEntry(C,gi.min()),Zu(e).delete([0,Ta(C.path)])))});h.push(Q)}}).next(()=>rn.waitFor(h)).next(()=>c.apply(e)).next(()=>g)}removeTarget(e,t){const c=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,c)}updateLimboDocument(e,t){return dc(e,t)}Kn(e,t){const c=Zu(e);let h,g=x.at;return c.Z({index:"documentTargetsIndex"},([C,k],{path:Q,sequenceNumber:ie})=>{0===C?(g!==x.at&&t(new jn(Co(h)),g),g=ie,h=Q):g=x.at}).next(()=>{g!==x.at&&t(new jn(Co(h)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dc(o,e){return Zu(o).put((c=o.currentSequenceNumber,{targetId:0,path:Ta(e.path),sequenceNumber:c}));var c}class Og{constructor(){this.changes=new Nc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const c=this.changes.get(t);return void 0!==c?rn.resolve(c):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ja{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,c){return ho(e).put(c)}removeEntry(e,t,c){return ho(e).delete(function(h,g){const C=h.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],Wu(g),C[C.length-1]]}(t,c))}updateMetadata(e,t){return this.getMetadata(e).next(c=>(c.byteSize+=t,this.Qn(e,c)))}getEntry(e,t){let c=Dr.newInvalidDocument(t);return ho(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Df(t))},(h,g)=>{c=this.jn(t,g)}).next(()=>c)}Wn(e,t){let c={size:0,document:Dr.newInvalidDocument(t)};return ho(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Df(t))},(h,g)=>{c={document:this.jn(t,g),size:ph(g)}}).next(()=>c)}getEntries(e,t){let c=Ho();return this.zn(e,t,(h,g)=>{const C=this.jn(h,g);c=c.insert(h,C)}).next(()=>c)}Hn(e,t){let c=Ho(),h=new he(jn.comparator);return this.zn(e,t,(g,C)=>{const k=this.jn(g,C);c=c.insert(g,k),h=h.insert(g,ph(C))}).next(()=>({documents:c,Jn:h}))}zn(e,t,c){if(t.isEmpty())return rn.resolve();let h=new Wt(Gp);t.forEach(Q=>h=h.add(Q));const g=IDBKeyRange.bound(Df(h.first()),Df(h.last())),C=h.getIterator();let k=C.getNext();return ho(e).Z({index:"documentKeyIndex",range:g},(Q,ie,Pe)=>{const wt=jn.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;k&&Gp(k,wt)<0;)c(k,null),k=C.getNext();k&&k.isEqual(wt)&&(c(k,ie),k=C.hasNext()?C.getNext():null),k?Pe.j(Df(k)):Pe.done()}).next(()=>{for(;k;)c(k,null),k=C.hasNext()?C.getNext():null})}getAllFromCollection(e,t,c){const h=[t.popLast().toArray(),t.lastSegment(),Wu(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],g=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ho(e).W(IDBKeyRange.bound(h,g,!0)).next(C=>{let k=Ho();for(const Q of C){const ie=this.jn(jn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);k=k.insert(ie.key,ie)}return k})}getAllFromCollectionGroup(e,t,c,h){let g=Ho();const C=jp(t,c),k=jp(t,Vo.max());return ho(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,k,!0)},(Q,ie,Pe)=>{const wt=this.jn(jn.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);g=g.insert(wt.key,wt),g.size===h&&Pe.done()}).next(()=>g)}newChangeBuffer(e){return new hc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return vv(e).get("remoteDocumentGlobalKey").next(t=>(ai(!!t),t))}Qn(e,t){return vv(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const c=function ny(o,e){let t;if(e.document)t=_f(o.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const c=jn.fromSegments(e.noDocument.path),h=Ku(e.noDocument.readTime);t=Dr.newNoDocument(c,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return si();{const c=jn.fromSegments(e.unknownDocument.path),h=Ku(e.unknownDocument.version);t=Dr.newUnknownDocument(c,h)}}return e.readTime&&t.setReadTime(function(c){const h=new ls(c[0],c[1]);return gi.fromTimestamp(h)}(e.readTime)),t}(this.It,t);if(!c.isNoDocument()||!c.version.isEqual(gi.min()))return c}return Dr.newInvalidDocument(e)}}function fu(o){return new ja(o)}class hc extends Og{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Nc(c=>c.toString(),(c,h)=>c.isEqual(h))}applyChanges(e){const t=[];let c=0,h=new Wt((g,C)=>Ei(g.canonicalString(),C.canonicalString()));return this.changes.forEach((g,C)=>{const k=this.Xn.get(g);if(t.push(this.Yn.removeEntry(e,g,k.readTime)),C.isValidDocument()){const Q=bf(this.Yn.It,C);h=h.add(g.path.popLast()),c+=ph(Q)-k.size,t.push(this.Yn.addEntry(e,g,Q))}else if(c-=k.size,this.trackRemovals){const Q=bf(this.Yn.It,C.convertToNoDocument(gi.min()));t.push(this.Yn.addEntry(e,g,Q))}}),h.forEach(g=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.Yn.updateMetadata(e,c)),rn.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(c=>(this.Xn.set(t,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:c,Jn:h})=>(h.forEach((g,C)=>{this.Xn.set(g,{size:C,readTime:c.get(g).readTime})}),c))}}function vv(o){return jo(o,"remoteDocumentGlobal")}function ho(o){return jo(o,"remoteDocumentsV14")}function Df(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jp(o,e){const t=e.documentKey.path.toArray();return[o,Wu(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gp(o,e){const t=o.path.toArray(),c=e.path.toArray();let h=0;for(let g=0;g<t.length-2&&g<c.length-2;++g)if(h=Ei(t[g],c[g]),h)return h;return h=Ei(t.length,c.length),h||(h=Ei(t[t.length-2],c[c.length-2]),h||Ei(t[t.length-1],c[c.length-1]))}class cy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zp{constructor(e,t,c,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=c,this.indexManager=h}getDocument(e,t){let c=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(c=h,this.getBaseDocument(e,t,c))).next(h=>(null!==c&&oc(c.mutation,h,Qn.empty(),ls.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.getLocalViewOfDocuments(e,c,er()).next(()=>c))}getLocalViewOfDocuments(e,t,c=er()){const h=Ll();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,c).next(g=>{let C=ff();return g.forEach((k,Q)=>{C=C.insert(k,Q.overlayedDocument)}),C}))}getOverlayedDocuments(e,t){const c=Ll();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,er()))}populateOverlays(e,t,c){const h=[];return c.forEach(g=>{t.has(g)||h.push(g)}),this.documentOverlayCache.getOverlays(e,h).next(g=>{g.forEach((C,k)=>{t.set(C,k)})})}computeViews(e,t,c,h){let g=Ho();const C=Gu(),k=Gu();return t.forEach((Q,ie)=>{const Pe=c.get(ie.key);h.has(ie.key)&&(void 0===Pe||Pe.mutation instanceof da)?g=g.insert(ie.key,ie):void 0!==Pe&&(C.set(ie.key,Pe.mutation.getFieldMask()),oc(Pe.mutation,ie,Pe.mutation.getFieldMask(),ls.now()))}),this.recalculateAndSaveOverlays(e,g).next(Q=>(Q.forEach((ie,Pe)=>C.set(ie,Pe)),t.forEach((ie,Pe)=>{var wt;return k.set(ie,new cy(Pe,null!==(wt=C.get(ie))&&void 0!==wt?wt:null))}),k))}recalculateAndSaveOverlays(e,t){const c=Gu();let h=new he((C,k)=>C-k),g=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(C=>{for(const k of C)k.keys().forEach(Q=>{const ie=t.get(Q);if(null===ie)return;let Pe=c.get(Q)||Qn.empty();Pe=k.applyToLocalView(ie,Pe),c.set(Q,Pe);const wt=(h.get(k.batchId)||er()).add(Q);h=h.insert(k.batchId,wt)})}).next(()=>{const C=[],k=h.getReverseIterator();for(;k.hasNext();){const Q=k.getNext(),ie=Q.key,Pe=Q.value,wt=Ep();Pe.forEach(qt=>{if(!g.has(qt)){const mn=Fl(t.get(qt),c.get(qt));null!==mn&&wt.set(qt,mn),g=g.add(qt)}}),C.push(this.documentOverlayCache.saveOverlays(e,ie,wt))}return rn.waitFor(C)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.recalculateAndSaveOverlays(e,c))}getDocumentsMatchingQuery(e,t,c){return jn.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,c):this.getDocumentsMatchingCollectionQuery(e,t,c);var h}getNextDocuments(e,t,c,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,c,h).next(g=>{const C=h-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,c.largestBatchId,h-g.size):rn.resolve(Ll());let k=-1,Q=g;return C.next(ie=>rn.forEach(ie,(Pe,wt)=>(k<wt.largestBatchId&&(k=wt.largestBatchId),g.get(Pe)?rn.resolve():this.getBaseDocument(e,Pe,wt).next(qt=>{Q=Q.insert(Pe,qt)}))).next(()=>this.populateOverlays(e,ie,g)).next(()=>this.computeViews(e,Q,ie,er())).next(Pe=>({batchId:k,changes:cv(Pe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jn(t)).next(c=>{let h=ff();return c.isFoundDocument()&&(h=h.insert(c.key,c)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,c){const h=t.collectionGroup;let g=ff();return this.indexManager.getCollectionParents(e,h).next(C=>rn.forEach(C,k=>{const Q=(ie=t,Pe=k.child(h),new sc(Pe,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,Pe;return this.getDocumentsMatchingCollectionQuery(e,Q,c).next(ie=>{ie.forEach((Pe,wt)=>{g=g.insert(Pe,wt)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,c){let h;return this.remoteDocumentCache.getAllFromCollection(e,t.path,c).next(g=>(h=g,this.documentOverlayCache.getOverlaysForCollection(e,t.path,c.largestBatchId))).next(g=>{g.forEach((k,Q)=>{const ie=Q.getKey();null===h.get(ie)&&(h=h.insert(ie,Dr.newInvalidDocument(ie)))});let C=ff();return h.forEach((k,Q)=>{const ie=g.get(k);void 0!==ie&&oc(ie.mutation,Q,Qn.empty(),ls.now()),Ed(t,Q)&&(C=C.insert(k,Q))}),C})}getBaseDocument(e,t,c){return null===c||1===c.mutation.type?this.remoteDocumentCache.getEntry(e,t):rn.resolve(Dr.newInvalidDocument(t))}}class $p{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return rn.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var c;return this.Zn.set(t.id,{id:(c=t).id,version:c.version,createTime:so(c.createTime)}),rn.resolve()}getNamedQuery(e,t){return rn.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(c=t).name,query:Ef(c.bundledQuery),readTime:so(c.readTime)}),rn.resolve();var c}}class Wp{constructor(){this.overlays=new he(jn.comparator),this.es=new Map}getOverlay(e,t){return rn.resolve(this.overlays.get(t))}getOverlays(e,t){const c=Ll();return rn.forEach(t,h=>this.getOverlay(e,h).next(g=>{null!==g&&c.set(h,g)})).next(()=>c)}saveOverlays(e,t,c){return c.forEach((h,g)=>{this.ue(e,t,g)}),rn.resolve()}removeOverlaysForBatchId(e,t,c){const h=this.es.get(c);return void 0!==h&&(h.forEach(g=>this.overlays=this.overlays.remove(g)),this.es.delete(c)),rn.resolve()}getOverlaysForCollection(e,t,c){const h=Ll(),g=t.length+1,C=new jn(t.child("")),k=this.overlays.getIteratorFrom(C);for(;k.hasNext();){const Q=k.getNext().value,ie=Q.getKey();if(!t.isPrefixOf(ie.path))break;ie.path.length===g&&Q.largestBatchId>c&&h.set(Q.getKey(),Q)}return rn.resolve(h)}getOverlaysForCollectionGroup(e,t,c,h){let g=new he((ie,Pe)=>ie-Pe);const C=this.overlays.getIterator();for(;C.hasNext();){const ie=C.getNext().value;if(ie.getKey().getCollectionGroup()===t&&ie.largestBatchId>c){let Pe=g.get(ie.largestBatchId);null===Pe&&(Pe=Ll(),g=g.insert(ie.largestBatchId,Pe)),Pe.set(ie.getKey(),ie)}}const k=Ll(),Q=g.getIterator();for(;Q.hasNext()&&(Q.getNext().value.forEach((ie,Pe)=>k.set(ie,Pe)),!(k.size()>=h)););return rn.resolve(k)}ue(e,t,c){const h=this.overlays.get(c.key);if(null!==h){const C=this.es.get(h.largestBatchId).delete(c.key);this.es.set(h.largestBatchId,C)}this.overlays=this.overlays.insert(c.key,new Dg(t,c));let g=this.es.get(t);void 0===g&&(g=er(),this.es.set(t,g)),this.es.set(t,g.add(c.key))}}class Qu{constructor(){this.ns=new Wt(fo.ss),this.rs=new Wt(fo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const c=new fo(e,t);this.ns=this.ns.add(c),this.rs=this.rs.add(c)}us(e,t){e.forEach(c=>this.addReference(c,t))}removeReference(e,t){this.cs(new fo(e,t))}hs(e,t){e.forEach(c=>this.removeReference(c,t))}ls(e){const t=new jn(new $i([])),c=new fo(t,e),h=new fo(t,e+1),g=[];return this.rs.forEachInRange([c,h],C=>{this.cs(C),g.push(C.key)}),g}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new jn(new $i([])),c=new fo(t,e),h=new fo(t,e+1);let g=er();return this.rs.forEachInRange([c,h],C=>{g=g.add(C.key)}),g}containsKey(e){const t=new fo(e,0),c=this.ns.firstAfterOrEqual(t);return null!==c&&e.isEqual(c.key)}}class fo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return jn.comparator(e.key,t.key)||Ei(e._s,t._s)}static os(e,t){return Ei(e._s,t._s)||jn.comparator(e.key,t.key)}}class mh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Wt(fo.ss)}checkEmpty(e){return rn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,c,h){const g=this.ws;this.ws++;const C=new kp(g,t,c,h);this.mutationQueue.push(C);for(const k of h)this.gs=this.gs.add(new fo(k.key,g)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return rn.resolve(C)}lookupMutationBatch(e,t){return rn.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.ps(t+1),g=h<0?0:h;return rn.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return rn.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return rn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const c=new fo(t,0),h=new fo(t,Number.POSITIVE_INFINITY),g=[];return this.gs.forEachInRange([c,h],C=>{const k=this.ys(C._s);g.push(k)}),rn.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let c=new Wt(Ei);return t.forEach(h=>{const g=new fo(h,0),C=new fo(h,Number.POSITIVE_INFINITY);this.gs.forEachInRange([g,C],k=>{c=c.add(k._s)})}),rn.resolve(this.Is(c))}getAllMutationBatchesAffectingQuery(e,t){const c=t.path,h=c.length+1;let g=c;jn.isDocumentKey(g)||(g=g.child(""));const C=new fo(new jn(g),0);let k=new Wt(Ei);return this.gs.forEachWhile(Q=>{const ie=Q.key.path;return!!c.isPrefixOf(ie)&&(ie.length===h&&(k=k.add(Q._s)),!0)},C),rn.resolve(this.Is(k))}Is(e){const t=[];return e.forEach(c=>{const h=this.ys(c);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){ai(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let c=this.gs;return rn.forEach(t.mutations,h=>{const g=new fo(h.key,t.batchId);return c=c.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.gs=c})}An(e){}containsKey(e,t){const c=new fo(t,0),h=this.gs.firstAfterOrEqual(c);return rn.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return rn.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bv{constructor(e){this.Es=e,this.docs=new he(jn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const c=t.key,h=this.docs.get(c),g=h?h.size:0,C=this.Es(t);return this.docs=this.docs.insert(c,{document:t.mutableCopy(),size:C}),this.size+=C-g,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const c=this.docs.get(t);return rn.resolve(c?c.document.mutableCopy():Dr.newInvalidDocument(t))}getEntries(e,t){let c=Ho();return t.forEach(h=>{const g=this.docs.get(h);c=c.insert(h,g?g.document.mutableCopy():Dr.newInvalidDocument(h))}),rn.resolve(c)}getAllFromCollection(e,t,c){let h=Ho();const g=new jn(t.child("")),C=this.docs.getIteratorFrom(g);for(;C.hasNext();){const{key:k,value:{document:Q}}=C.getNext();if(!t.isPrefixOf(k.path))break;k.path.length>t.length+1||Nu(iu(Q),c)<=0||(h=h.insert(Q.key,Q.mutableCopy()))}return rn.resolve(h)}getAllFromCollectionGroup(e,t,c,h){si()}As(e,t){return rn.forEach(this.docs,c=>t(c))}newChangeBuffer(e){return new Ev(this)}getSize(e){return rn.resolve(this.size)}}class Ev extends Og{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((c,h)=>{h.isValidDocument()?t.push(this.Yn.addEntry(e,h)):this.Yn.removeEntry(c)}),rn.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class wv{constructor(e){this.persistence=e,this.Rs=new Nc(t=>ru(t),Bu),this.lastRemoteSnapshotVersion=gi.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Qu,this.targetCount=0,this.vs=uc.Pn()}forEachTarget(e,t){return this.Rs.forEach((c,h)=>t(h)),rn.resolve()}getLastRemoteSnapshotVersion(e){return rn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rn.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),rn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,c){return c&&(this.lastRemoteSnapshotVersion=c),t>this.bs&&(this.bs=t),rn.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new uc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,rn.resolve()}updateTargetData(e,t){return this.Dn(t),rn.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,rn.resolve()}removeTargets(e,t,c){let h=0;const g=[];return this.Rs.forEach((C,k)=>{k.sequenceNumber<=t&&null===c.get(k.targetId)&&(this.Rs.delete(C),g.push(this.removeMatchingKeysForTargetId(e,k.targetId)),h++)}),rn.waitFor(g).next(()=>h)}getTargetCount(e){return rn.resolve(this.targetCount)}getTargetData(e,t){const c=this.Rs.get(t)||null;return rn.resolve(c)}addMatchingKeys(e,t,c){return this.Ps.us(t,c),rn.resolve()}removeMatchingKeys(e,t,c){this.Ps.hs(t,c);const h=this.persistence.referenceDelegate,g=[];return h&&t.forEach(C=>{g.push(h.markPotentiallyOrphaned(e,C))}),rn.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),rn.resolve()}getMatchingKeysForTargetId(e,t){const c=this.Ps.ds(t);return rn.resolve(c)}containsKey(e,t){return rn.resolve(this.Ps.containsKey(t))}}class ws{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new x(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new wv(this),this.indexManager=new Vc,this.remoteDocumentCache=new bv(c=>this.referenceDelegate.xs(c)),this.It=new Pp(t),this.Ns=new $p(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let c=this.Vs[e.toKey()];return c||(c=new mh(t,this.referenceDelegate),this.Vs[e.toKey()]=c),c}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,c){On("MemoryPersistence","Starting transaction:",e);const h=new uy(this.Ss.next());return this.referenceDelegate.ks(),c(h).next(g=>this.referenceDelegate.Os(h).next(()=>g)).toPromise().then(g=>(h.raiseOnCommittedEvent(),g))}Ms(e,t){return rn.or(Object.values(this.Vs).map(c=>()=>c.containsKey(e,t)))}}class uy extends Ol{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Fs=new Qu,this.$s=null}static Bs(e){return new Kp(e)}get Ls(){if(this.$s)return this.$s;throw si()}addReference(e,t,c){return this.Fs.addReference(c,t),this.Ls.delete(c.toString()),rn.resolve()}removeReference(e,t,c){return this.Fs.removeReference(c,t),this.Ls.add(c.toString()),rn.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),rn.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(h=>this.Ls.add(h.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(g=>this.Ls.add(g.toString()))}).next(()=>c.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rn.forEach(this.Ls,c=>{const h=jn.fromPath(c);return this.Us(e,h).next(g=>{g||t.removeEntry(h,gi.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(c=>{c?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return rn.or([()=>rn.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Yp{constructor(e){this.It=e}$(e,t,c,h){const g=new Fu("createOrUpgrade",t);var k;c<1&&h>=1&&(e.createObjectStore("owner"),(k=e).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$u,{unique:!0}),k.createObjectStore("documentMutations"),pu(e),function(k){k.createObjectStore("remoteDocuments")}(e));let C=rn.resolve();return c<3&&h>=3&&(0!==c&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),pu(e)),C=C.next(()=>function(k){const Q=k.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gi.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",ie)}(g))),c<4&&h>=4&&(0!==c&&(C=C.next(()=>function(k,Q){return Q.store("mutations").W().next(ie=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$u,{unique:!0});const Pe=Q.store("mutations"),wt=ie.map(qt=>Pe.put(qt));return rn.waitFor(wt)})}(e,g))),C=C.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),c<5&&h>=5&&(C=C.next(()=>this.qs(g))),c<6&&h>=6&&(C=C.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(g)))),c<7&&h>=7&&(C=C.next(()=>this.Gs(g))),c<8&&h>=8&&(C=C.next(()=>this.Qs(e,g))),c<9&&h>=9&&(C=C.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),c<10&&h>=10&&(C=C.next(()=>this.js(g))),c<11&&h>=11&&(C=C.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),c<12&&h>=12&&(C=C.next(()=>{!function(k){const Q=k.createObjectStore("documentOverlays",{keyPath:yg});Q.createIndex("collectionPathOverlayIndex",vg,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",bg,{unique:!1})}(e)})),c<13&&h>=13&&(C=C.next(()=>function(k){const Q=k.createObjectStore("remoteDocumentsV14",{keyPath:ey});Q.createIndex("documentKeyIndex",fv),Q.createIndex("collectionGroupIndex",gg)}(e)).next(()=>this.Ws(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),c<14&&h>=14&&(C=C.next(()=>this.zs(e,g))),c<15&&h>=15&&(C=C.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:ty}).createIndex("sequenceNumberIndex",Op,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:du}).createIndex("documentKeyIndex",vf,{unique:!1})}(e))),C}Ks(e){let t=0;return e.store("remoteDocuments").Z((c,h)=>{t+=ph(h)}).next(()=>{const c={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}qs(e){const t=e.store("mutationQueues"),c=e.store("mutations");return t.W().next(h=>rn.forEach(h,g=>{const C=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return c.W("userMutationsIndex",C).next(k=>rn.forEach(k,Q=>{ai(Q.userId===g.userId);const ie=Es(this.It,Q);return il(e,g.userId,ie).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),c=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const g=[];return c.Z((C,k)=>{const Q=new $i(C),ie=[0,Ta(Q)];g.push(t.get(ie).next(Pe=>Pe?rn.resolve():t.put({targetId:0,path:Ta(Q),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>rn.waitFor(g))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:mv});const c=t.store("collectionParents"),h=new Jr,g=C=>{if(h.add(C)){const k=C.lastSegment(),Q=C.popLast();return c.put({collectionId:k,parent:Ta(Q)})}};return t.store("remoteDocuments").Z({X:!0},(C,k)=>{const Q=new $i(C);return g(Q.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([C,k,Q],ie)=>{const Pe=Co(k);return g(Pe.popLast())}))}js(e){const t=e.store("targets");return t.Z((c,h)=>{const g=dh(h),C=iy(this.It,g);return t.put(C)})}Ws(e,t){const c=t.store("remoteDocuments"),h=[];return c.Z((g,C)=>{const k=t.store("remoteDocumentsV14"),Q=(ie=C,ie.document?new jn($i.fromString(ie.document.name).popFirst(5)):ie.noDocument?jn.fromSegments(ie.noDocument.path):ie.unknownDocument?jn.fromSegments(ie.unknownDocument.path):si()).path.toArray();var ie;const Pe={prefixPath:Q.slice(0,Q.length-2),collectionGroup:Q[Q.length-2],documentId:Q[Q.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};h.push(k.put(Pe))}).next(()=>rn.waitFor(h))}zs(e,t){const c=t.store("mutations"),h=fu(this.It),g=new ws(Kp.Bs,this.It.re);return c.W().next(C=>{const k=new Map;return C.forEach(Q=>{var ie;let Pe=null!==(ie=k.get(Q.userId))&&void 0!==ie?ie:er();Es(this.It,Q).keys().forEach(wt=>Pe=Pe.add(wt)),k.set(Q.userId,Pe)}),rn.forEach(k,(Q,ie)=>{const Pe=new Br(ie),wt=Np.oe(this.It,Pe),qt=g.getIndexManager(Pe),mn=Bp.oe(Pe,this.It,qt,g.referenceDelegate);return new zp(h,mn,wt,qt).recalculateAndSaveOverlaysForDocumentKeys(new wg(t,x.at),Q).next()})})}}function pu(o){o.createObjectStore("targetDocuments",{keyPath:_g}).createIndex("documentTargetsIndex",pv,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xp,{unique:!0}),o.createObjectStore("targetGlobal")}const Sa="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fc{constructor(e,t,c,h,g,C,k,Q,ie,Pe,wt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=c,this.Hs=g,this.window=C,this.document=k,this.Js=ie,this.Ys=Pe,this.Xs=wt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=qt=>Promise.resolve(),!fc.C())throw new wn(sn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hp(this,h),this.ii=t+"main",this.It=new Pp(Q),this.ri=new Li(this.ii,this.Xs,new Yp(this.It)),this.Cs=new yv(this.referenceDelegate,this.It),this.remoteDocumentCache=fu(this.It),this.Ns=new sy,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Pe&&Ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wn(sn.FAILED_PRECONDITION,Sa);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new x(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var c=(0,$e.Z)(function*(h){if(t.started)return e(h)});return function(h){return c.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,$e.Z)(function*(c){null===c.newVersion&&(yield e())});return function(c){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,$e.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gi(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ia(e))return On("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return On("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return mu(e).get("owner").next(t=>rn.resolve(this.mi(t)))}gi(e){return Gi(e).delete(this.clientId)}yi(){var e=this;return(0,$e.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const h=jo(c,"clientMetadata");return h.W().next(g=>{const C=e.Ii(g,18e5),k=g.filter(Q=>-1===C.indexOf(Q));return rn.forEach(k,Q=>h.delete(Q.clientId)).next(()=>k)})}).catch(()=>[]);if(e.oi)for(const c of t)e.oi.removeItem(e.Ti(c.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?rn.resolve(!0):mu(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new wn(sn.FAILED_PRECONDITION,Sa);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gi(e).W().next(c=>void 0===this.Ii(c,5e3).find(h=>{if(this.clientId!==h.clientId){const C=!this.inForeground&&h.inForeground,k=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||C&&k)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&On("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,$e.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const c=new wg(t,x.at);return e._i(c).next(()=>e.gi(c))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(c=>this.pi(c.updateTimeMs,t)&&!this.Ei(c.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Gi(e).W().next(t=>this.Ii(t,18e5).map(c=>c.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Bp.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Md(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Np.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,c){On("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",g=15===(C=this.Xs)?Eg:14===C?Rp:13===C?_v:12===C?lb:11===C?gv:void si();var C;let k;return this.ri.runTransaction(e,h,g,Q=>(k=new wg(Q,this.Ss?this.Ss.next():x.at),"readwrite-primary"===t?this.fi(k).next(ie=>!!ie||this.di(k)).next(ie=>{if(!ie)throw Ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new wn(sn.FAILED_PRECONDITION,Xd);return c(k)}).next(ie=>this.wi(k).next(()=>ie)):this.Vi(k).next(()=>c(k)))).then(Q=>(k.raiseOnCommittedEvent(),Q))}Vi(e){return mu(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new wn(sn.FAILED_PRECONDITION,Sa)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mu(e).put("owner",t)}static C(){return Li.C()}_i(e){const t=mu(e);return t.get("owner").next(c=>this.mi(c)?(On("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):rn.resolve())}pi(e,t){const c=Date.now();return!(e<c-t||e>c&&(Ai(`Detected an update time that is in the future: ${e} > ${c}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ae.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const c=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return On("IndexedDbPersistence",`Client '${e}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Ai("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ai("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mu(o){return jo(o,"owner")}function Gi(o){return jo(o,"clientMetadata")}function dy(o,e){let t=o.projectId;return o.isDefaultDatabase||(t+="."+o.database),"firestore/"+e+"/"+t+"/"}class Xu{constructor(e,t,c,h){this.targetId=e,this.fromCache=t,this.Si=c,this.Di=h}static Ci(e,t){let c=er(),h=er();for(const g of t.docChanges)switch(g.type){case 0:c=c.add(g.doc.key);break;case 1:h=h.add(g.doc.key)}return new Xu(e,t.fromCache,c,h)}}class Cv{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,c,h){return this.ki(e,t).next(g=>g||this.Oi(e,t,h,c)).next(g=>g||this.Mi(e,t))}ki(e,t){if(tg(t))return rn.resolve(null);let c=ca(t);return this.indexManager.getIndexType(e,c).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=Vu(t,null,"F"),c=ca(t)),this.indexManager.getDocumentsMatchingTarget(e,c).next(g=>{const C=er(...g);return this.Ni.getDocuments(e,C).next(k=>this.indexManager.getMinOffset(e,c).next(Q=>{const ie=this.Fi(t,k);return this.$i(t,ie,C,Q.readTime)?this.ki(e,Vu(t,null,"F")):this.Bi(e,ie,t,Q)}))})))}Oi(e,t,c,h){return tg(t)||h.isEqual(gi.min())?this.Mi(e,t):this.Ni.getDocuments(e,c).next(g=>{const C=this.Fi(t,g);return this.$i(t,C,c,h)?this.Mi(e,t):(Na()<=Oe.in.DEBUG&&On("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),cf(t)),this.Bi(e,C,t,xc(h,-1)))})}Fi(e,t){let c=new Wt(ih(e));return t.forEach((h,g)=>{Ed(e,g)&&(c=c.add(g))}),c}$i(e,t,c,h){if(null===e.limit)return!1;if(c.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(h)>0)}Mi(e,t){return Na()<=Oe.in.DEBUG&&On("QueryEngine","Using full collection scan to execute query:",cf(t)),this.Ni.getDocumentsMatchingQuery(e,t,Vo.min())}Bi(e,t,c,h){return this.Ni.getDocumentsMatchingQuery(e,c,h).next(g=>(t.forEach(C=>{g=g.insert(C.key,C)}),g))}}class zs{constructor(e,t,c,h){this.persistence=e,this.Li=t,this.It=h,this.Ui=new he(Ei),this.qi=new Nc(g=>ru(g),Bu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(c)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Rg(o,e,t,c){return new zs(o,e,t,c)}function kg(o,e){return If.apply(this,arguments)}function If(){return If=(0,$e.Z)(function*(o,e){const t=$n(o);return yield t.persistence.runTransaction("Handle user change","readonly",c=>{let h;return t.mutationQueue.getAllMutationBatches(c).next(g=>(h=g,t.Qi(e),t.mutationQueue.getAllMutationBatches(c))).next(g=>{const C=[],k=[];let Q=er();for(const ie of h){C.push(ie.batchId);for(const Pe of ie.mutations)Q=Q.add(Pe.key)}for(const ie of g){k.push(ie.batchId);for(const Pe of ie.mutations)Q=Q.add(Pe.key)}return t.localDocuments.getDocuments(c,Q).next(ie=>({ji:ie,removedBatchIds:C,addedBatchIds:k}))})})}),If.apply(this,arguments)}function xd(o,e){const t=$n(o);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const h=e.batch.keys(),g=t.Gi.newChangeBuffer({trackRemovals:!0});return function(C,k,Q,ie){const Pe=Q.batch,wt=Pe.keys();let qt=rn.resolve();return wt.forEach(mn=>{qt=qt.next(()=>ie.getEntry(k,mn)).next(bn=>{const Jn=Q.docVersions.get(mn);ai(null!==Jn),bn.version.compareTo(Jn)<0&&(Pe.applyToRemoteDocument(bn,Q),bn.isValidDocument()&&(bn.setReadTime(Q.commitVersion),ie.addEntry(bn)))})}),qt.next(()=>C.mutationQueue.removeMutationBatch(k,Pe))}(t,c,e,g).next(()=>g.apply(c)).next(()=>t.mutationQueue.performConsistencyCheck(c)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(c,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(C){let k=er();for(let Q=0;Q<C.mutationResults.length;++Q)C.mutationResults[Q].transformResults.length>0&&(k=k.add(C.batch.mutations[Q].key));return k}(e))).next(()=>t.localDocuments.getDocuments(c,h))})}function Zp(o){const e=$n(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function hy(o,e){const t=$n(o),c=e.snapshotVersion;let h=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const C=t.Gi.newChangeBuffer({trackRemovals:!0});h=t.Ui;const k=[];e.targetChanges.forEach((Pe,wt)=>{const qt=h.get(wt);if(!qt)return;k.push(t.Cs.removeMatchingKeys(g,Pe.removedDocuments,wt).next(()=>t.Cs.addMatchingKeys(g,Pe.addedDocuments,wt)));let mn=qt.withSequenceNumber(g.currentSequenceNumber);var bn,Jn,oi;e.targetMismatches.has(wt)?mn=mn.withResumeToken(nr.EMPTY_BYTE_STRING,gi.min()).withLastLimboFreeSnapshotVersion(gi.min()):Pe.resumeToken.approximateByteSize()>0&&(mn=mn.withResumeToken(Pe.resumeToken,c)),h=h.insert(wt,mn),Jn=mn,oi=Pe,(0===(bn=qt).resumeToken.approximateByteSize()||Jn.snapshotVersion.toMicroseconds()-bn.snapshotVersion.toMicroseconds()>=3e8||oi.addedDocuments.size+oi.modifiedDocuments.size+oi.removedDocuments.size>0)&&k.push(t.Cs.updateTargetData(g,mn))});let Q=Ho(),ie=er();if(e.documentUpdates.forEach(Pe=>{e.resolvedLimboDocuments.has(Pe)&&k.push(t.persistence.referenceDelegate.updateLimboDocument(g,Pe))}),k.push(El(g,C,e.documentUpdates).next(Pe=>{Q=Pe.Wi,ie=Pe.zi})),!c.isEqual(gi.min())){const Pe=t.Cs.getLastRemoteSnapshotVersion(g).next(wt=>t.Cs.setTargetsMetadata(g,g.currentSequenceNumber,c));k.push(Pe)}return rn.waitFor(k).next(()=>C.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,Q,ie)).next(()=>Q)}).then(g=>(t.Ui=h,g))}function El(o,e,t){let c=er(),h=er();return t.forEach(g=>c=c.add(g)),e.getEntries(o,c).next(g=>{let C=Ho();return t.forEach((k,Q)=>{const ie=g.get(k);Q.isFoundDocument()!==ie.isFoundDocument()&&(h=h.add(k)),Q.isNoDocument()&&Q.version.isEqual(gi.min())?(e.removeEntry(k,Q.readTime),C=C.insert(k,Q)):!ie.isValidDocument()||Q.version.compareTo(ie.version)>0||0===Q.version.compareTo(ie.version)&&ie.hasPendingWrites?(e.addEntry(Q),C=C.insert(k,Q)):On("LocalStore","Ignoring outdated watch update for ",k,". Current version:",ie.version," Watch version:",Q.version)}),{Wi:C,zi:h}})}function Dv(o,e){const t=$n(o);return t.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(c,e)))}function Ju(o,e){const t=$n(o);return t.persistence.runTransaction("Allocate target","readwrite",c=>{let h;return t.Cs.getTargetData(c,e).next(g=>g?(h=g,rn.resolve(h)):t.Cs.allocateTargetId(c).next(C=>(h=new Ha(e,C,0,c.currentSequenceNumber),t.Cs.addTargetData(c,h).next(()=>h))))}).then(c=>{const h=t.Ui.get(c.targetId);return(null===h||c.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(c.targetId,c),t.qi.set(e,c.targetId)),c})}function Od(o,e,t){return qp.apply(this,arguments)}function qp(){return qp=(0,$e.Z)(function*(o,e,t){const c=$n(o),h=c.Ui.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield c.persistence.runTransaction("Release target",g,C=>c.persistence.referenceDelegate.removeTarget(C,h)))}catch(C){if(!ia(C))throw C;On("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}c.Ui=c.Ui.remove(e),c.qi.delete(h.target)}),qp.apply(this,arguments)}function gu(o,e,t){const c=$n(o);let h=gi.min(),g=er();return c.persistence.runTransaction("Execute query","readonly",C=>function(k,Q,ie){const Pe=$n(k),wt=Pe.qi.get(ie);return void 0!==wt?rn.resolve(Pe.Ui.get(wt)):Pe.Cs.getTargetData(Q,ie)}(c,C,ca(e)).next(k=>{if(k)return h=k.lastLimboFreeSnapshotVersion,c.Cs.getMatchingKeysForTargetId(C,k.targetId).next(Q=>{g=Q})}).next(()=>c.Li.getDocumentsMatchingQuery(C,e,t?h:gi.min(),t?g:er())).next(k=>(fy(c,gp(e),k),{documents:k,Hi:g})))}function gh(o,e){const t=$n(o),c=$n(t.Cs),h=t.Ui.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",g=>c.se(g,e).next(C=>C?C.target:null))}function Rd(o,e){const t=$n(o),c=t.Ki.get(e)||gi.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Gi.getAllFromCollectionGroup(h,e,xc(c,-1),Number.MAX_SAFE_INTEGER)).then(h=>(fy(t,e,h),h))}function fy(o,e,t){let c=o.Ki.get(e)||gi.min();t.forEach((h,g)=>{g.readTime.compareTo(c)>0&&(c=g.readTime)}),o.Ki.set(e,c)}function kd(){return kd=(0,$e.Z)(function*(o,e,t,c){const h=$n(o);let g=er(),C=Ho();for(const ie of t){const Pe=e.Ji(ie.metadata.name);ie.document&&(g=g.add(Pe));const wt=e.Yi(ie);wt.setReadTime(e.Xi(ie.metadata.readTime)),C=C.insert(Pe,wt)}const k=h.Gi.newChangeBuffer({trackRemovals:!0}),Q=yield Ju(h,(ie=c,ca(au($i.fromString(`__bundle__/docs/${ie}`)))));var ie;return h.persistence.runTransaction("Apply bundle documents","readwrite",ie=>El(ie,k,C).next(Pe=>(k.apply(ie),Pe)).next(Pe=>h.Cs.removeMatchingKeysForTargetId(ie,Q.targetId).next(()=>h.Cs.addMatchingKeys(ie,g,Q.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(ie,Pe.Wi,Pe.zi)).next(()=>Pe.Wi)))}),kd.apply(this,arguments)}function Wi(o,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,$e.Z)(function*(o,e,t=er()){const c=yield Ju(o,ca(Ef(e.bundledQuery))),h=$n(o);return h.persistence.runTransaction("Save named query","readwrite",g=>{const C=so(e.readTime);if(c.snapshotVersion.compareTo(C)>=0)return h.Ns.saveNamedQuery(g,e);const k=c.withResumeToken(nr.EMPTY_BYTE_STRING,C);return h.Ui=h.Ui.insert(k.targetId,k),h.Cs.updateTargetData(g,k).next(()=>h.Cs.removeMatchingKeysForTargetId(g,c.targetId)).next(()=>h.Cs.addMatchingKeys(g,t,c.targetId)).next(()=>h.Ns.saveNamedQuery(g,e))})}),Pd.apply(this,arguments)}function Ng(o,e){return`firestore_clients_${o}_${e}`}function Fg(o,e,t){let c=`firestore_mutations_${o}_${t}`;return e.isAuthenticated()&&(c+=`_${e.uid}`),c}function Lg(o,e){return`firestore_targets_${o}_${e}`}class _h{constructor(e,t,c,h){this.user=e,this.batchId=t,this.state=c,this.error=h}static Zi(e,t,c){const h=JSON.parse(c);let g,C="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return C&&h.error&&(C="string"==typeof h.error.message&&"string"==typeof h.error.code,C&&(g=new wn(h.error.code,h.error.message))),C?new _h(e,t,h.state,g):(Ai("SharedClientState",`Failed to parse mutation state for ID '${t}': ${c}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yh{constructor(e,t,c){this.targetId=e,this.state=t,this.error=c}static Zi(e,t){const c=JSON.parse(t);let h,g="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return g&&c.error&&(g="string"==typeof c.error.message&&"string"==typeof c.error.code,g&&(h=new wn(c.error.code,c.error.message))),g?new yh(e,c.state,h):(Ai("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const c=JSON.parse(t);let h="object"==typeof c&&c.activeTargetIds instanceof Array,g=lh();for(let C=0;h&&C<c.activeTargetIds.length;++C)h=_l(c.activeTargetIds[C]),g=g.add(c.activeTargetIds[C]);return h?new vh(e,g):(Ai("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qp{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qp(t.clientId,t.onlineState):(Ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bh{constructor(){this.activeTargetIds=lh()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xp{constructor(e,t,c,h,g){this.window=e,this.Hs=t,this.persistenceKey=c,this.sr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new he(Ei),this.started=!1,this.cr=[];const C=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.ar=Ng(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new bh),this.lr=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,$e.Z)(function*(){const t=yield e.syncEngine.vi();for(const h of t){if(h===e.sr)continue;const g=e.getItem(Ng(e.persistenceKey,h));if(g){const C=vh.Zi(h,g);C&&(e.ur=e.ur.insert(C.clientId,C))}}e.gr();const c=e.storage.getItem(e.wr);if(c){const h=e.yr(c);h&&e.pr(h)}for(const h of e.cr)e.rr(h);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((c,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,c){this.Tr(e,t,c),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const c=this.storage.getItem(Lg(this.persistenceKey,e));if(c){const h=yh.Zi(e,c);h&&(t=h.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Lg(this.persistenceKey,e))}updateQueryState(e,t,c){this.Rr(e,t,c)}handleUserChange(e,t,c){t.forEach(h=>{this.Er(h)}),this.currentUser=e,c.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return On("SharedClientState","READ",e,t),t}setItem(e,t){On("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){On("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const c=e;if(c.storageArea===this.storage){if(On("SharedClientState","EVENT",c.key,c.newValue),c.key===this.ar)return void Ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,$e.Z)(function*(){if(t.started){if(null!==c.key)if(t.lr.test(c.key)){if(null==c.newValue){const h=t.vr(c.key);return t.Vr(h,null)}{const h=t.Sr(c.key,c.newValue);if(h)return t.Vr(h.clientId,h)}}else if(t.dr.test(c.key)){if(null!==c.newValue){const h=t.Dr(c.key,c.newValue);if(h)return t.Cr(h)}}else if(t._r.test(c.key)){if(null!==c.newValue){const h=t.Nr(c.key,c.newValue);if(h)return t.kr(h)}}else if(c.key===t.wr){if(null!==c.newValue){const h=t.yr(c.newValue);if(h)return t.pr(h)}}else if(c.key===t.hr){const h=function(g){let C=x.at;if(null!=g)try{const k=JSON.parse(g);ai("number"==typeof k),C=k}catch(k){Ai("SharedClientState","Failed to read sequence number from WebStorage",k)}return C}(c.newValue);h!==x.at&&t.sequenceNumberHandler(h)}else if(c.key===t.mr){const h=t.Or(c.newValue);yield Promise.all(h.map(g=>t.syncEngine.Mr(g)))}}else t.cr.push(c)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,c){const h=new _h(this.currentUser,e,t,c),g=Fg(this.persistenceKey,this.currentUser,e);this.setItem(g,h.tr())}Er(e){const t=Fg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,c){const h=Lg(this.persistenceKey,e),g=new yh(e,t,c);this.setItem(h,g.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const c=this.vr(e);return vh.Zi(c,t)}Dr(e,t){const c=this.dr.exec(e),h=Number(c[1]);return _h.Zi(new Br(void 0!==c[2]?c[2]:null),h,t)}Nr(e,t){const c=this._r.exec(e),h=Number(c[1]);return yh.Zi(h,t)}yr(e){return Qp.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,$e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);On("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const c=t?this.ur.insert(e,t):this.ur.remove(e),h=this.Ir(this.ur),g=this.Ir(c),C=[],k=[];return g.forEach(Q=>{h.has(Q)||C.push(Q)}),h.forEach(Q=>{g.has(Q)||k.push(Q)}),this.syncEngine.Br(C,k).then(()=>{this.ur=c})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=lh();return e.forEach((c,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class py{constructor(){this.Lr=new bh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,c){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,c){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new bh,Promise.resolve()}handleUserChange(e,t,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tf{qr(e){}shutdown(){}}class Bg{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){On("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){On("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Hc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Eh{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Sf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,c,h,g){const C=this.ho(e,t);On("RestConnection","Sending: ",C,c);const k={};return this.lo(k,h,g),this.fo(e,C,k,c).then(Q=>(On("RestConnection","Received: ",Q),Q),Q=>{throw Ea("RestConnection",`${e} failed with error: `,Q,"url: ",C,"request:",c),Q})}_o(e,t,c,h,g,C){return this.ao(e,t,c,h,g)}lo(e,t,c){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,g)=>e[g]=h),c&&c.headers.forEach((h,g)=>e[g]=h)}ho(e,t){return`${this.oo}/v1/${t}:${Hc[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,c,h){return new Promise((g,C)=>{const k=new ea;k.setWithCredentials(!0),k.listenOnce(io.COMPLETE,()=>{var ie;try{switch(k.getLastErrorCode()){case Tl.NO_ERROR:const Pe=k.getResponseJson();On("Connection","XHR received:",JSON.stringify(Pe)),g(Pe);break;case Tl.TIMEOUT:On("Connection",'RPC "'+e+'" timed out'),C(new wn(sn.DEADLINE_EXCEEDED,"Request time out"));break;case Tl.HTTP_ERROR:const wt=k.getStatus();if(On("Connection",'RPC "'+e+'" failed with status:',wt,"response text:",k.getResponseText()),wt>0){let qt=k.getResponseJson();Array.isArray(qt)&&(qt=qt[0]);const mn=null===(ie=qt)||void 0===ie?void 0:ie.error;if(mn&&mn.status&&mn.message){const bn=function(Jn){const oi=Jn.toLowerCase().replace(/_/g,"-");return Object.values(sn).indexOf(oi)>=0?oi:sn.UNKNOWN}(mn.status);C(new wn(bn,mn.message))}else C(new wn(sn.UNKNOWN,"Server responded with status "+k.getStatus()))}else C(new wn(sn.UNAVAILABLE,"Connection failed."));break;default:si()}}finally{On("Connection",'RPC "'+e+'" completed.')}});const Q=JSON.stringify(h);k.send(t,"POST",Q,c,15)})}wo(e,t,c){const h=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=Fo(),C=Jl(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(k.xmlHttpFactory=new Sl({})),this.lo(k.initMessageHeaders,t,c),k.encodeInitMessageHeaders=!0;const Q=h.join("");On("Connection","Creating WebChannel: "+Q,k);const ie=g.createWebChannel(Q,k);let Pe=!1,wt=!1;const qt=new Eh({Hr:bn=>{wt?On("Connection","Not sending because WebChannel is closed:",bn):(Pe||(On("Connection","Opening WebChannel transport."),ie.open(),Pe=!0),On("Connection","WebChannel sending:",bn),ie.send(bn))},Jr:()=>ie.close()}),mn=(bn,Jn,oi)=>{bn.listen(Jn,Or=>{try{oi(Or)}catch(Ds){setTimeout(()=>{throw Ds},0)}})};return mn(ie,ka.EventType.OPEN,()=>{wt||On("Connection","WebChannel transport opened.")}),mn(ie,ka.EventType.CLOSE,()=>{wt||(wt=!0,On("Connection","WebChannel transport closed"),qt.io())}),mn(ie,ka.EventType.ERROR,bn=>{wt||(wt=!0,Ea("Connection","WebChannel transport errored:",bn),qt.io(new wn(sn.UNAVAILABLE,"The operation could not be completed")))}),mn(ie,ka.EventType.MESSAGE,bn=>{var Jn;if(!wt){const oi=bn.data[0];ai(!!oi);const Or=oi,Ds=Or.error||(null===(Jn=Or[0])||void 0===Jn?void 0:Jn.error);if(Ds){On("Connection","WebChannel received error:",Ds);const dr=Ds.status;let Ms=function(Nr){const Yo=bs[Nr];if(void 0!==Yo)return rg(Yo)}(dr),Pr=Ds.message;void 0===Ms&&(Ms=sn.INTERNAL,Pr="Unknown error status: "+dr+" with message "+Ds.message),wt=!0,qt.io(new wn(Ms,Pr)),ie.close()}else On("Connection","WebChannel received:",oi),qt.ro(oi)}}),mn(C,ec.STAT_EVENT,bn=>{bn.stat===vs.PROXY?On("Connection","Detected buffering proxy"):bn.stat===vs.NOPROXY&&On("Connection","Detected no buffering proxy")}),setTimeout(()=>{qt.so()},0),qt}}function wh(){return typeof window<"u"?window:null}function Jp(){return typeof document<"u"?document:null}function em(o){return new mf(o,!0)}class Vg{constructor(e,t,c=1e3,h=1.5,g=6e4){this.Hs=e,this.timerId=t,this.mo=c,this.yo=h,this.po=g,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),c=Math.max(0,Date.now()-this.Eo),h=Math.max(0,t-c);h>0&&On("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${c} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,h,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Iv{constructor(e,t,c,h,g,C,k,Q){this.Hs=e,this.vo=c,this.Vo=h,this.connection=g,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=k,this.listener=Q,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Vg(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,$e.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,$e.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var c=this;return(0,$e.Z)(function*(){c.Lo(),c.Uo(),c.xo.cancel(),c.So++,4!==e?c.xo.reset():t&&t.code===sn.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),c.xo.Ao()):t&&t.code===sn.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.qo(),c.stream.close(),c.stream=null),c.state=e,yield c.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,h])=>{this.So===t&&this.Go(c,h)},c=>{e(()=>{const h=new wn(sn.UNKNOWN,"Fetching auth token failed: "+c.message);return this.Qo(h)})})}Go(e,t){const c=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{c(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(h=>{c(()=>this.Qo(h))}),this.stream.onMessage(h=>{c(()=>this.onMessage(h))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,$e.Z)(function*(){e.state=0,e.start()}))}Qo(e){return On("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(On("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tv extends Iv{constructor(e,t,c,h,g,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,c,h,C),this.It=g}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function cg(o,e){let t;if("targetChange"in e){const c="NO_CHANGE"===(Q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:si(),h=e.targetChange.targetIds||[],g=function(Q,ie){return Q.gt?(ai(void 0===ie||"string"==typeof ie),nr.fromBase64String(ie||"")):(ai(void 0===ie||ie instanceof Uint8Array),nr.fromUint8Array(ie||new Uint8Array))}(o,e.targetChange.resumeToken),C=e.targetChange.cause,k=C&&function(Q){const ie=void 0===Q.code?sn.UNKNOWN:rg(Q.code);return new wn(ie,Q.message||"")}(C);t=new sg(c,h,g,k||null)}else if("documentChange"in e){const c=e.documentChange,h=Eo(o,c.document.name),g=so(c.document.updateTime),C=new gs({mapValue:{fields:c.document.fields}}),k=Dr.newFoundDocument(h,g,C);t=new Fc(c.targetIds||[],c.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const c=e.documentDelete,h=Eo(o,c.document),g=c.readTime?so(c.readTime):gi.min(),C=Dr.newNoDocument(h,g);t=new Fc([],c.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const c=e.documentRemove,h=Eo(o,c.document);t=new Fc([],c.removedTargetIds||[],h,null)}else{if(!("filter"in e))return si();{const c=e.filter,g=new bp(c.count||0);t=new Dp(c.targetId,g)}}var Q;return t}(this.It,e),c=function(h){if(!("targetChange"in h))return gi.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?gi.min():g.readTime?so(g.readTime):gi.min()}(e);return this.listener.Wo(t,c)}zo(e){const t={};t.database=Dd(this.It),t.addTarget=function(h,g){let C;const k=g.target;return C=su(k)?{documents:dg(h,k)}:{query:uh(h,k)},C.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?C.resumeToken=bo(h,g.resumeToken):g.snapshotVersion.compareTo(gi.min())>0&&(C.readTime=Ua(h,g.snapshotVersion.toTimestamp())),C}(this.It,e);const c=function dv(o,e){const t=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return si()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);c&&(t.labels=c),this.Bo(t)}Ho(e){const t={};t.database=Dd(this.It),t.removeTarget=e,this.Bo(t)}}class my extends Iv{constructor(e,t,c,h,g,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,c,h,C),this.It=g,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ai(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Q_(o,e){return o&&o.length>0?(ai(void 0!==e),o.map(t=>function(c,h){let g=so(c.updateTime?c.updateTime:h);return g.isEqual(gi.min())&&(g=so(h)),new Ci(g,c.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),c=so(e.commitTime);return this.listener.Zo(c,t)}return ai(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Dd(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(c=>lc(this.It,c))};this.Bo(t)}}class pc extends class{}{constructor(e,t,c,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=c,this.It=h,this.nu=!1}su(){if(this.nu)throw new wn(sn.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.ao(e,t,c,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===sn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new wn(sn.UNKNOWN,h.toString())})}_o(e,t,c,h){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,C])=>this.connection._o(e,t,c,g,C,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===sn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new wn(sn.UNKNOWN,g.toString())})}terminate(){this.nu=!0}}class Hg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ai(t),this.ou=!1):On("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Mf{constructor(e,t,c,h,g){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=c,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=g,this.mu.qr(k=>{c.enqueueAndForget((0,$e.Z)(function*(){var Q;rl(C)&&(On("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,$e.Z)(function*(ie){const Pe=$n(ie);Pe._u.add(4),yield jl(Pe),Pe.gu.set("Unknown"),Pe._u.delete(4),yield Hl(Pe)}),function(ie){return Q.apply(this,arguments)})(C))}))}),this.gu=new Hg(c,h)}}function Hl(o){return _u.apply(this,arguments)}function _u(){return _u=(0,$e.Z)(function*(o){if(rl(o))for(const e of o.wu)yield e(!0)}),_u.apply(this,arguments)}function jl(o){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,$e.Z)(function*(o){for(const e of o.wu)yield e(!1)}),Gc.apply(this,arguments)}function tm(o,e){const t=$n(o);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ch(t)?nm(t):Ah(t).ko()&&Nd(t,e))}function Af(o,e){const t=$n(o),c=Ah(t);t.du.delete(e),c.ko()&&gy(t,e),0===t.du.size&&(c.ko()?c.Fo():rl(t)&&t.gu.set("Unknown"))}function Nd(o,e){o.yu.Mt(e.targetId),Ah(o).zo(e)}function gy(o,e){o.yu.Mt(e),Ah(o).Ho(e)}function nm(o){o.yu=new Lc({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),se:e=>o.du.get(e)||null}),Ah(o).start(),o.gu.uu()}function Ch(o){return rl(o)&&!Ah(o).No()&&o.du.size>0}function rl(o){return 0===$n(o)._u.size}function im(o){o.yu=void 0}function Dh(o){return ed.apply(this,arguments)}function ed(){return ed=(0,$e.Z)(function*(o){o.du.forEach((e,t)=>{Nd(o,e)})}),ed.apply(this,arguments)}function xf(o,e){return jg.apply(this,arguments)}function jg(){return jg=(0,$e.Z)(function*(o,e){im(o),Ch(o)?(o.gu.hu(e),nm(o)):o.gu.set("Unknown")}),jg.apply(this,arguments)}function Ns(o,e,t){return zo.apply(this,arguments)}function zo(){return zo=(0,$e.Z)(function*(o,e,t){if(o.gu.set("Online"),e instanceof sg&&2===e.state&&e.cause)try{yield(c=(0,$e.Z)(function*(h,g){const C=g.cause;for(const k of g.targetIds)h.du.has(k)&&(yield h.remoteSyncer.rejectListen(k,C),h.du.delete(k),h.yu.removeTarget(k))}),function(h,g){return c.apply(this,arguments)})(o,e)}catch(c){On("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),c),yield yu(o,c)}else if(e instanceof Fc?o.yu.Gt(e):e instanceof Dp?o.yu.Yt(e):o.yu.Wt(e),!t.isEqual(gi.min()))try{const c=yield Zp(o.localStore);t.compareTo(c)>=0&&(yield function(h,g){const C=h.yu.te(g);return C.targetChanges.forEach((k,Q)=>{if(k.resumeToken.approximateByteSize()>0){const ie=h.du.get(Q);ie&&h.du.set(Q,ie.withResumeToken(k.resumeToken,g))}}),C.targetMismatches.forEach(k=>{const Q=h.du.get(k);if(!Q)return;h.du.set(k,Q.withResumeToken(nr.EMPTY_BYTE_STRING,Q.snapshotVersion)),gy(h,k);const ie=new Ha(Q.target,k,1,Q.sequenceNumber);Nd(h,ie)}),h.remoteSyncer.applyRemoteEvent(C)}(o,t))}catch(c){On("RemoteStore","Failed to raise snapshot:",c),yield yu(o,c)}var c}),zo.apply(this,arguments)}function yu(o,e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,$e.Z)(function*(o,e,t){if(!ia(e))throw e;o._u.add(1),yield jl(o),o.gu.set("Offline"),t||(t=()=>Zp(o.localStore)),o.asyncQueue.enqueueRetryable((0,$e.Z)(function*(){On("RemoteStore","Retrying IndexedDB access"),yield t(),o._u.delete(1),yield Hl(o)}))}),Ih.apply(this,arguments)}function Th(o,e){return e().catch(t=>yu(o,t,e))}function $o(o){return zc.apply(this,arguments)}function zc(){return zc=(0,$e.Z)(function*(o){const e=$n(o),t=nd(e);let c=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;_y(e);)try{const h=yield Dv(e.localStore,c);if(null===h){0===e.fu.length&&t.Fo();break}c=h.batchId,$c(e,h)}catch(h){yield yu(e,h)}Gl(e)&&vu(e)}),zc.apply(this,arguments)}function _y(o){return rl(o)&&o.fu.length<10}function $c(o,e){o.fu.push(e);const t=nd(o);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Gl(o){return rl(o)&&!nd(o).No()&&o.fu.length>0}function vu(o){nd(o).start()}function Gg(o){return td.apply(this,arguments)}function td(){return td=(0,$e.Z)(function*(o){nd(o).eu()}),td.apply(this,arguments)}function cb(o){return rm.apply(this,arguments)}function rm(){return rm=(0,$e.Z)(function*(o){const e=nd(o);for(const t of o.fu)e.Xo(t.mutations)}),rm.apply(this,arguments)}function ub(o,e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,$e.Z)(function*(o,e,t){const c=o.fu.shift(),h=Cg.from(c,e,t);yield Th(o,()=>o.remoteSyncer.applySuccessfulWrite(h)),yield $o(o)}),Sh.apply(this,arguments)}function sm(o,e){return Of.apply(this,arguments)}function Of(){return Of=(0,$e.Z)(function*(o,e){var t;e&&nd(o).Yo&&(yield(t=(0,$e.Z)(function*(c,h){if(ig(g=h.code)&&g!==sn.ABORTED){const C=c.fu.shift();nd(c).Mo(),yield Th(c,()=>c.remoteSyncer.rejectFailedWrite(C.batchId,h)),yield $o(c)}var g}),function(c,h){return t.apply(this,arguments)})(o,e)),Gl(o)&&vu(o)}),Of.apply(this,arguments)}function om(o,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,$e.Z)(function*(o,e){const t=$n(o);t.asyncQueue.verifyOperationInProgress(),On("RemoteStore","RemoteStore received new credentials");const c=rl(t);t._u.add(3),yield jl(t),c&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Hl(t)}),Mh.apply(this,arguments)}function zg(o,e){return $g.apply(this,arguments)}function $g(){return $g=(0,$e.Z)(function*(o,e){const t=$n(o);e?(t._u.delete(2),yield Hl(t)):e||(t._u.add(2),yield jl(t),t.gu.set("Unknown"))}),$g.apply(this,arguments)}function Ah(o){return o.pu||(o.pu=function(e,t,c){const h=$n(e);return h.su(),new Tv(t,h.connection,h.authCredentials,h.appCheckCredentials,h.It,c)}(o.datastore,o.asyncQueue,{Yr:Dh.bind(null,o),Zr:xf.bind(null,o),Wo:Ns.bind(null,o)}),o.wu.push(function(){var e=(0,$e.Z)(function*(t){t?(o.pu.Mo(),Ch(o)?nm(o):o.gu.set("Unknown")):(yield o.pu.stop(),im(o))});return function(t){return e.apply(this,arguments)}}())),o.pu}function nd(o){return o.Iu||(o.Iu=function(e,t,c){const h=$n(e);return h.su(),new my(t,h.connection,h.authCredentials,h.appCheckCredentials,h.It,c)}(o.datastore,o.asyncQueue,{Yr:Gg.bind(null,o),Zr:sm.bind(null,o),tu:cb.bind(null,o),Zo:ub.bind(null,o)}),o.wu.push(function(){var e=(0,$e.Z)(function*(t){t?(o.Iu.Mo(),yield $o(o)):(yield o.Iu.stop(),o.fu.length>0&&(On("RemoteStore",`Stopping write stream with ${o.fu.length} pending writes`),o.fu=[]))});return function(t){return e.apply(this,arguments)}}())),o.Iu}class Wg{constructor(e,t,c,h,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=c,this.op=h,this.removalCallback=g,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,c,h,g){const C=Date.now()+c,k=new Wg(e,t,C,h,g);return k.start(c),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wn(sn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(o,e){if(Ai("AsyncQueue",`${e}: ${o}`),ia(o))return new wn(sn.UNAVAILABLE,`${e}: ${o}`);throw o}class Rf{constructor(e){this.comparator=e?(t,c)=>e(t,c)||jn.comparator(t.key,c.key):(t,c)=>jn.comparator(t.key,c.key),this.keyedMap=ff(),this.sortedSet=new he(this.comparator)}static emptySet(e){return new Rf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,c)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,g=c.getNext().key;if(!h.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const c=new Rf;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=t,c}}class kf{constructor(){this.Tu=new he(jn.comparator)}track(e){const t=e.doc.key,c=this.Tu.get(t);c?0!==e.type&&3===c.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==c.type?this.Tu=this.Tu.insert(t,{type:c.type,doc:e.doc}):2===e.type&&2===c.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===c.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===c.type?this.Tu=this.Tu.remove(t):1===e.type&&2===c.type?this.Tu=this.Tu.insert(t,{type:1,doc:c.doc}):0===e.type&&1===c.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):si():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,c)=>{e.push(c)}),e}}class Ld{constructor(e,t,c,h,g,C,k,Q,ie){this.query=e,this.docs=t,this.oldDocs=c,this.docChanges=h,this.mutatedKeys=g,this.fromCache=C,this.syncStateChanged=k,this.excludesMetadataChanges=Q,this.hasCachedResults=ie}static fromInitialDocuments(e,t,c,h,g){const C=[];return t.forEach(k=>{C.push({type:0,doc:k})}),new Ld(e,t,Rf.emptySet(t),C,c,h,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,c=e.docChanges;if(t.length!==c.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==c[h].type||!t[h].doc.isEqual(c[h].doc))return!1;return!0}}class Kg{constructor(){this.Au=void 0,this.listeners=[]}}class Pf{constructor(){this.queries=new Nc(e=>tl(e),bd),this.onlineState="Unknown",this.Ru=new Set}}function Yg(o,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,$e.Z)(function*(o,e){const t=$n(o),c=e.query;let h=!1,g=t.queries.get(c);if(g||(h=!0,g=new Kg),h)try{g.Au=yield t.onListen(c)}catch(C){const k=Fd(C,`Initialization of query '${cf(e.query)}' failed`);return void e.onError(k)}t.queries.set(c,g),g.listeners.push(e),e.bu(t.onlineState),g.Au&&e.Pu(g.Au)&&Qg(t)}),Bd.apply(this,arguments)}function Zg(o,e){return qg.apply(this,arguments)}function qg(){return qg=(0,$e.Z)(function*(o,e){const t=$n(o),c=e.query;let h=!1;const g=t.queries.get(c);if(g){const C=g.listeners.indexOf(e);C>=0&&(g.listeners.splice(C,1),h=0===g.listeners.length)}if(h)return t.queries.delete(c),t.onUnlisten(c)}),qg.apply(this,arguments)}function db(o,e){const t=$n(o);let c=!1;for(const h of e){const C=t.queries.get(h.query);if(C){for(const k of C.listeners)k.Pu(h)&&(c=!0);C.Au=h}}c&&Qg(t)}function hb(o,e,t){const c=$n(o),h=c.queries.get(e);if(h)for(const g of h.listeners)g.onError(t);c.queries.delete(e)}function Qg(o){o.Ru.forEach(e=>{e.next()})}class am{constructor(e,t,c){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=c||{}}Pu(e){if(!this.options.includeMetadataChanges){const c=[];for(const h of e.docChanges)3!==h.type&&c.push(h);e=new Ld(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class fb{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Sv{constructor(e){this.It=e}Ji(e){return Eo(this.It,e)}Yi(e){return e.metadata.exists?_f(this.It,e.document,!1):Dr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return so(e)}}class pb{constructor(e,t,c){this.Mu=e,this.localStore=t,this.It=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mv(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const c=$i.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,c=new Sv(this.It);for(const h of e)if(h.metadata.queries){const g=c.Ji(h.metadata.name);for(const C of h.metadata.queries){const k=(t.get(C)||er()).add(g);t.set(C,k)}}return t}complete(){var e=this;return(0,$e.Z)(function*(){const t=yield function Pg(o,e,t,c){return kd.apply(this,arguments)}(e.localStore,new Sv(e.It),e.documents,e.Mu.id),c=e.$u(e.documents);for(const h of e.queries)yield Wi(e.localStore,h,c.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Mv(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class Wc{constructor(e){this.key=e}}class Vd{constructor(e){this.key=e}}class lm{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=er(),this.mutatedKeys=er(),this.Gu=ih(e),this.Qu=new Rf(this.Gu)}get ju(){return this.Uu}Wu(e,t){const c=t?t.zu:new kf,h=t?t.Qu:this.Qu;let g=t?t.mutatedKeys:this.mutatedKeys,C=h,k=!1;const Q="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,ie="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Pe,wt)=>{const qt=h.get(Pe),mn=Ed(this.query,wt)?wt:null,bn=!!qt&&this.mutatedKeys.has(qt.key),Jn=!!mn&&(mn.hasLocalMutations||this.mutatedKeys.has(mn.key)&&mn.hasCommittedMutations);let oi=!1;qt&&mn?qt.data.isEqual(mn.data)?bn!==Jn&&(c.track({type:3,doc:mn}),oi=!0):this.Hu(qt,mn)||(c.track({type:2,doc:mn}),oi=!0,(Q&&this.Gu(mn,Q)>0||ie&&this.Gu(mn,ie)<0)&&(k=!0)):!qt&&mn?(c.track({type:0,doc:mn}),oi=!0):qt&&!mn&&(c.track({type:1,doc:qt}),oi=!0,(Q||ie)&&(k=!0)),oi&&(mn?(C=C.add(mn),g=Jn?g.add(Pe):g.delete(Pe)):(C=C.delete(Pe),g=g.delete(Pe)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const Pe="F"===this.query.limitType?C.last():C.first();C=C.delete(Pe.key),g=g.delete(Pe.key),c.track({type:1,doc:Pe})}return{Qu:C,zu:c,$i:k,mutatedKeys:g}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,c){const h=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const g=e.zu.Eu();g.sort((ie,Pe)=>function(wt,qt){const mn=bn=>{switch(bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return si()}};return mn(wt)-mn(qt)}(ie.type,Pe.type)||this.Gu(ie.doc,Pe.doc)),this.Ju(c);const C=t?this.Yu():[],k=0===this.Ku.size&&this.current?1:0,Q=k!==this.qu;return this.qu=k,0!==g.length||Q?{snapshot:new Ld(this.query,e.Qu,h,g,e.mutatedKeys,0===k,Q,!1,!!c&&c.resumeToken.approximateByteSize()>0),Xu:C}:{Xu:C}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new kf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=er(),this.Qu.forEach(c=>{this.Zu(c.key)&&(this.Ku=this.Ku.add(c.key))});const t=[];return e.forEach(c=>{this.Ku.has(c)||t.push(new Vd(c))}),this.Ku.forEach(c=>{e.has(c)||t.push(new Wc(c))}),t}tc(e){this.Uu=e.Hi,this.Ku=er();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ld.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Xg{constructor(e,t,c){this.query=e,this.targetId=t,this.view=c}}class Jg{constructor(e){this.key=e,this.nc=!1}}class e_{constructor(e,t,c,h,g,C){this.localStore=e,this.remoteStore=t,this.eventManager=c,this.sharedClientState=h,this.currentUser=g,this.maxConcurrentLimboResolutions=C,this.sc={},this.ic=new Nc(k=>tl(k),bd),this.rc=new Map,this.oc=new Set,this.uc=new he(jn.comparator),this.cc=new Map,this.ac=new Qu,this.hc={},this.lc=new Map,this.fc=uc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Nf(o,e){return t_.apply(this,arguments)}function t_(){return t_=(0,$e.Z)(function*(o,e){const t=fa(o);let c,h;const g=t.ic.get(e);if(g)c=g.targetId,t.sharedClientState.addLocalQueryTarget(c),h=g.view.ec();else{const C=yield Ju(t.localStore,ca(e));t.isPrimaryClient&&tm(t.remoteStore,C);const k=t.sharedClientState.addLocalQueryTarget(C.targetId);c=C.targetId,h=yield Kc(t,e,c,"current"===k,C.resumeToken)}return h}),t_.apply(this,arguments)}function Kc(o,e,t,c,h){return cm.apply(this,arguments)}function cm(){return cm=(0,$e.Z)(function*(o,e,t,c,h){o._c=(wt,qt,mn)=>{return(bn=(0,$e.Z)(function*(Jn,oi,Or,Ds){let dr=oi.view.Wu(Or);dr.$i&&(dr=yield gu(Jn.localStore,oi.query,!1).then(({documents:Nr})=>oi.view.Wu(Nr,dr)));const Ms=Ds&&Ds.targetChanges.get(oi.targetId),Pr=oi.view.applyChanges(dr,Jn.isPrimaryClient,Ms);return fm(Jn,oi.targetId,Pr.Xu),Pr.snapshot}),function(Jn,oi,Or,Ds){return bn.apply(this,arguments)})(o,wt,qt,mn);var bn};const g=yield gu(o.localStore,e,!0),C=new lm(e,g.Hi),k=C.Wu(g.documents),Q=bl.createSynthesizedTargetChangeForCurrentChange(t,c&&"Offline"!==o.onlineState,h),ie=C.applyChanges(k,o.isPrimaryClient,Q);fm(o,t,ie.Xu);const Pe=new Xg(e,t,C);return o.ic.set(e,Pe),o.rc.has(t)?o.rc.get(t).push(e):o.rc.set(t,[e]),ie.snapshot}),cm.apply(this,arguments)}function Av(o,e){return n_.apply(this,arguments)}function n_(){return n_=(0,$e.Z)(function*(o,e){const t=$n(o),c=t.ic.get(e),h=t.rc.get(c.targetId);if(h.length>1)return t.rc.set(c.targetId,h.filter(g=>!bd(g,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(c.targetId),t.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Od(t.localStore,c.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(c.targetId),Af(t.remoteStore,c.targetId),kh(t,c.targetId)}).catch(ic))):(kh(t,c.targetId),yield Od(t.localStore,c.targetId,!0))}),n_.apply(this,arguments)}function i_(){return i_=(0,$e.Z)(function*(o,e,t){const c=Fh(o);try{const h=yield function(g,C){const k=$n(g),Q=ls.now(),ie=C.reduce((qt,mn)=>qt.add(mn.key),er());let Pe,wt;return k.persistence.runTransaction("Locally write mutations","readwrite",qt=>{let mn=Ho(),bn=er();return k.Gi.getEntries(qt,ie).next(Jn=>{mn=Jn,mn.forEach((oi,Or)=>{Or.isValidDocument()||(bn=bn.add(oi))})}).next(()=>k.localDocuments.getOverlayedDocuments(qt,mn)).next(Jn=>{Pe=Jn;const oi=[];for(const Or of C){const Ds=Hu(Or,Pe.get(Or.key).overlayedDocument);null!=Ds&&oi.push(new da(Or.key,Ds,yl(Ds.value.mapValue),hi.exists(!0)))}return k.mutationQueue.addMutationBatch(qt,Q,oi,C)}).next(Jn=>{wt=Jn;const oi=Jn.applyToLocalDocumentSet(Pe,bn);return k.documentOverlayCache.saveOverlays(qt,Jn.batchId,oi)})}).then(()=>({batchId:wt.batchId,changes:cv(Pe)}))}(c.localStore,e);c.sharedClientState.addPendingMutation(h.batchId),function(g,C,k){let Q=g.hc[g.currentUser.toKey()];Q||(Q=new he(Ei)),Q=Q.insert(C,k),g.hc[g.currentUser.toKey()]=Q}(c,h.batchId,t),yield mc(c,h.changes),yield $o(c.remoteStore)}catch(h){const g=Fd(h,"Failed to persist write");t.reject(g)}}),i_.apply(this,arguments)}function r_(o,e){return xh.apply(this,arguments)}function xh(){return xh=(0,$e.Z)(function*(o,e){const t=$n(o);try{const c=yield hy(t.localStore,e);e.targetChanges.forEach((h,g)=>{const C=t.cc.get(g);C&&(ai(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?C.nc=!0:h.modifiedDocuments.size>0?ai(C.nc):h.removedDocuments.size>0&&(ai(C.nc),C.nc=!1))}),yield mc(t,c,e)}catch(c){yield ic(c)}}),xh.apply(this,arguments)}function id(o,e,t){const c=$n(o);if(c.isPrimaryClient&&0===t||!c.isPrimaryClient&&1===t){const h=[];c.ic.forEach((g,C)=>{const k=C.view.bu(e);k.snapshot&&h.push(k.snapshot)}),function(g,C){const k=$n(g);k.onlineState=C;let Q=!1;k.queries.forEach((ie,Pe)=>{for(const wt of Pe.listeners)wt.bu(C)&&(Q=!0)}),Q&&Qg(k)}(c.eventManager,e),h.length&&c.sc.Wo(h),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}function um(o,e,t){return rd.apply(this,arguments)}function rd(){return rd=(0,$e.Z)(function*(o,e,t){const c=$n(o);c.sharedClientState.updateQueryState(e,"rejected",t);const h=c.cc.get(e),g=h&&h.key;if(g){let C=new he(jn.comparator);C=C.insert(g,Dr.newNoDocument(g,gi.min()));const k=er().add(g),Q=new Bl(gi.min(),new Map,new Wt(Ei),C,k);yield r_(c,Q),c.uc=c.uc.remove(g),c.cc.delete(e),pm(c)}else yield Od(c.localStore,e,!1).then(()=>kh(c,e,t)).catch(ic)}),rd.apply(this,arguments)}function dm(o,e){return bu.apply(this,arguments)}function bu(){return bu=(0,$e.Z)(function*(o,e){const t=$n(o),c=e.batch.batchId;try{const h=yield xd(t.localStore,e);Rh(t,c,null),Oh(t,c),t.sharedClientState.updateMutationState(c,"acknowledged"),yield mc(t,h)}catch(h){yield ic(h)}}),bu.apply(this,arguments)}function s_(o,e,t){return hm.apply(this,arguments)}function hm(){return hm=(0,$e.Z)(function*(o,e,t){const c=$n(o);try{const h=yield function(g,C){const k=$n(g);return k.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let ie;return k.mutationQueue.lookupMutationBatch(Q,C).next(Pe=>(ai(null!==Pe),ie=Pe.keys(),k.mutationQueue.removeMutationBatch(Q,Pe))).next(()=>k.mutationQueue.performConsistencyCheck(Q)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(Q,ie,C)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Q,ie)).next(()=>k.localDocuments.getDocuments(Q,ie))})}(c.localStore,e);Rh(c,e,t),Oh(c,e),c.sharedClientState.updateMutationState(e,"rejected",t),yield mc(c,h)}catch(h){yield ic(h)}}),hm.apply(this,arguments)}function Ff(){return Ff=(0,$e.Z)(function*(o,e){const t=$n(o);rl(t.remoteStore)||On("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(g){const C=$n(g);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>C.mutationQueue.getHighestUnacknowledgedBatchId(k))}(t.localStore);if(-1===c)return void e.resolve();const h=t.lc.get(c)||[];h.push(e),t.lc.set(c,h)}catch(c){const h=Fd(c,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),Ff.apply(this,arguments)}function Oh(o,e){(o.lc.get(e)||[]).forEach(t=>{t.resolve()}),o.lc.delete(e)}function Rh(o,e,t){const c=$n(o);let h=c.hc[c.currentUser.toKey()];if(h){const g=h.get(e);g&&(t?g.reject(t):g.resolve(),h=h.remove(e)),c.hc[c.currentUser.toKey()]=h}}function kh(o,e,t=null){o.sharedClientState.removeLocalQueryTarget(e);for(const c of o.rc.get(e))o.ic.delete(c),t&&o.sc.wc(c,t);o.rc.delete(e),o.isPrimaryClient&&o.ac.ls(e).forEach(c=>{o.ac.containsKey(c)||xv(o,c)})}function xv(o,e){o.oc.delete(e.path.canonicalString());const t=o.uc.get(e);null!==t&&(Af(o.remoteStore,t),o.uc=o.uc.remove(e),o.cc.delete(t),pm(o))}function fm(o,e,t){for(const c of t)c instanceof Wc?(o.ac.addReference(c.key,e),Eu(o,c)):c instanceof Vd?(On("SyncEngine","Document no longer in limbo: "+c.key),o.ac.removeReference(c.key,e),o.ac.containsKey(c.key)||xv(o,c.key)):si()}function Eu(o,e){const t=e.key,c=t.path.canonicalString();o.uc.get(t)||o.oc.has(c)||(On("SyncEngine","New document in limbo: "+t),o.oc.add(c),pm(o))}function pm(o){for(;o.oc.size>0&&o.uc.size<o.maxConcurrentLimboResolutions;){const e=o.oc.values().next().value;o.oc.delete(e);const t=new jn($i.fromString(e)),c=o.fc.next();o.cc.set(c,new Jg(t)),o.uc=o.uc.insert(t,c),tm(o.remoteStore,new Ha(ca(au(t.path)),c,2,x.at))}}function mc(o,e,t){return gc.apply(this,arguments)}function gc(){return gc=(0,$e.Z)(function*(o,e,t){const c=$n(o),h=[],g=[],C=[];var k;c.ic.isEmpty()||(c.ic.forEach((k,Q)=>{C.push(c._c(Q,e,t).then(ie=>{if((ie||t)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState(Q.targetId,ie?.fromCache?"not-current":"current"),ie){h.push(ie);const Pe=Xu.Ci(Q.targetId,ie);g.push(Pe)}}))}),yield Promise.all(C),c.sc.Wo(h),yield(k=(0,$e.Z)(function*(Q,ie){const Pe=$n(Q);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",wt=>rn.forEach(ie,qt=>rn.forEach(qt.Si,mn=>Pe.persistence.referenceDelegate.addReference(wt,qt.targetId,mn)).next(()=>rn.forEach(qt.Di,mn=>Pe.persistence.referenceDelegate.removeReference(wt,qt.targetId,mn)))))}catch(wt){if(!ia(wt))throw wt;On("LocalStore","Failed to update sequence numbers: "+wt)}for(const wt of ie){const qt=wt.targetId;if(!wt.fromCache){const mn=Pe.Ui.get(qt),Jn=mn.withLastLimboFreeSnapshotVersion(mn.snapshotVersion);Pe.Ui=Pe.Ui.insert(qt,Jn)}}}),function(Q,ie){return k.apply(this,arguments)})(c.localStore,g))}),gc.apply(this,arguments)}function mm(o,e){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,$e.Z)(function*(o,e){const t=$n(o);if(!t.currentUser.isEqual(e)){On("SyncEngine","User change. New user:",e.toKey());const c=yield kg(t.localStore,e);t.currentUser=e,(h=t).lc.forEach(C=>{C.forEach(k=>{k.reject(new wn(sn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.lc.clear(),t.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),yield mc(t,c.ji)}var h}),Wo.apply(this,arguments)}function vy(o,e){const t=$n(o),c=t.cc.get(e);if(c&&c.nc)return er().add(c.key);{let h=er();const g=t.rc.get(e);if(!g)return h;for(const C of g){const k=t.ic.get(C);h=h.unionWith(k.view.ju)}return h}}function Ov(o,e){return by.apply(this,arguments)}function by(){return by=(0,$e.Z)(function*(o,e){const t=$n(o),c=yield gu(t.localStore,e.query,!0),h=e.view.tc(c);return t.isPrimaryClient&&fm(t,e.targetId,h.Xu),h}),by.apply(this,arguments)}function Ey(o,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,$e.Z)(function*(o,e){const t=$n(o);return Rd(t.localStore,e).then(c=>mc(t,c))}),Ud.apply(this,arguments)}function wy(o,e,t,c){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,$e.Z)(function*(o,e,t,c){const h=$n(o),g=yield function(C,k){const Q=$n(C),ie=$n(Q.mutationQueue);return Q.persistence.runTransaction("Lookup mutation documents","readonly",Pe=>ie.Tn(Pe,k).next(wt=>wt?Q.localDocuments.getDocuments(Pe,wt):rn.resolve(null)))}(h.localStore,e);var k;null!==g?("pending"===t?yield $o(h.remoteStore):"acknowledged"===t||"rejected"===t?(Rh(h,e,c||null),Oh(h,e),k=e,$n($n(h.localStore).mutationQueue).An(k)):si(),yield mc(h,g)):On("SyncEngine","Cannot apply mutation batch with id: "+e)}),Yc.apply(this,arguments)}function a_(){return a_=(0,$e.Z)(function*(o,e){const t=$n(o);if(fa(t),Fh(t),!0===e&&!0!==t.dc){const c=t.sharedClientState.getAllActiveQueryTargets(),h=yield l_(t,c.toArray());t.dc=!0,yield zg(t.remoteStore,!0);for(const g of h)tm(t.remoteStore,g)}else if(!1===e&&!1!==t.dc){const c=[];let h=Promise.resolve();t.rc.forEach((g,C)=>{t.sharedClientState.isLocalQueryTarget(C)?c.push(C):h=h.then(()=>(kh(t,C),Od(t.localStore,C,!0))),Af(t.remoteStore,C)}),yield h,yield l_(t,c),function(g){const C=$n(g);C.cc.forEach((k,Q)=>{Af(C.remoteStore,Q)}),C.ac.fs(),C.cc=new Map,C.uc=new he(jn.comparator)}(t),t.dc=!1,yield zg(t.remoteStore,!1)}}),a_.apply(this,arguments)}function l_(o,e,t){return c_.apply(this,arguments)}function c_(){return c_=(0,$e.Z)(function*(o,e,t){const c=$n(o),h=[],g=[];for(const C of e){let k;const Q=c.rc.get(C);if(Q&&0!==Q.length){k=yield Ju(c.localStore,ca(Q[0]));for(const ie of Q){const Pe=c.ic.get(ie),wt=yield Ov(c,Pe);wt.snapshot&&g.push(wt.snapshot)}}else{const ie=yield gh(c.localStore,C);k=yield Ju(c.localStore,ie),yield Kc(c,Ph(ie),C,!1,k.resumeToken)}h.push(k)}return c.sc.Wo(g),h}),c_.apply(this,arguments)}function Ph(o){return eg(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function Cy(o){const e=$n(o);return $n($n(e.localStore).persistence).vi()}function Rv(o,e,t,c){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,$e.Z)(function*(o,e,t,c){const h=$n(o);if(h.dc)return void On("SyncEngine","Ignoring unexpected query state notification.");const g=h.rc.get(e);if(g&&g.length>0)switch(t){case"current":case"not-current":{const C=yield Rd(h.localStore,gp(g[0])),k=Bl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,nr.EMPTY_BYTE_STRING);yield mc(h,C,k);break}case"rejected":yield Od(h.localStore,e,!0),kh(h,e,c);break;default:si()}}),Nh.apply(this,arguments)}function Bf(o,e,t){return u_.apply(this,arguments)}function u_(){return u_=(0,$e.Z)(function*(o,e,t){const c=fa(o);if(c.dc){for(const h of e){if(c.rc.has(h)){On("SyncEngine","Adding an already active target "+h);continue}const g=yield gh(c.localStore,h),C=yield Ju(c.localStore,g);yield Kc(c,Ph(g),C.targetId,!1,C.resumeToken),tm(c.remoteStore,C)}for(const h of t)c.rc.has(h)&&(yield Od(c.localStore,h,!1).then(()=>{Af(c.remoteStore,h),kh(c,h)}).catch(ic))}}),u_.apply(this,arguments)}function fa(o){const e=$n(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=r_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=um.bind(null,e),e.sc.Wo=db.bind(null,e.eventManager),e.sc.wc=hb.bind(null,e.eventManager),e}function Fh(o){const e=$n(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s_.bind(null,e),e}class d_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,$e.Z)(function*(){t.It=em(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Rg(this.persistence,new Cv,e.initialUser,this.It)}yc(e){return new ws(Kp.Bs,this.It)}gc(e){return new py}terminate(){var e=this;return(0,$e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Vf extends d_{constructor(e,t,c){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,c=this;return(0,$e.Z)(function*(){yield t().call(c,e),yield c.Ac.initialize(c,e),yield Fh(c.Ac.syncEngine),yield $o(c.Ac.remoteStore),yield c.persistence.li(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Rg(this.persistence,new Cv,e.initialUser,this.It)}Tc(e,t){return new qu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const c=new A(t,this.persistence);return new kl(e.asyncQueue,c)}yc(e){const t=dy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new fc(this.synchronizeTabs,t,e.clientId,c,e.asyncQueue,wh(),Jp(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new py}}class Uf extends Vf{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,c=this;return(0,$e.Z)(function*(){yield t().call(c,e);const h=c.Ac.syncEngine;c.sharedClientState instanceof Xp&&(c.sharedClientState.syncEngine={Fr:wy.bind(null,h),$r:Rv.bind(null,h),Br:Bf.bind(null,h),vi:Cy.bind(null,h),Mr:Ey.bind(null,h)},yield c.sharedClientState.start()),yield c.persistence.li(function(){var g=(0,$e.Z)(function*(C){yield function Lf(o,e){return a_.apply(this,arguments)}(c.Ac.syncEngine,C),c.gcScheduler&&(C&&!c.gcScheduler.started?c.gcScheduler.start():C||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(C&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():C||c.indexBackfillerScheduler.stop())});return function(C){return g.apply(this,arguments)}}())})()}gc(e){const t=wh();if(!Xp.C(t))throw new wn(sn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=dy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xp(t,e.asyncQueue,c,e.clientId,e.initialUser)}}class Hf{initialize(e,t){var c=this;return(0,$e.Z)(function*(){c.localStore||(c.localStore=e.localStore,c.sharedClientState=e.sharedClientState,c.datastore=c.createDatastore(t),c.remoteStore=c.createRemoteStore(t),c.eventManager=c.createEventManager(t),c.syncEngine=c.createSyncEngine(t,!e.synchronizeTabs),c.sharedClientState.onlineStateHandler=h=>id(c.syncEngine,h,1),c.remoteStore.remoteSyncer.handleCredentialChange=mm.bind(null,c.syncEngine),yield zg(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Pf}createDatastore(e){const t=em(e.databaseInfo.databaseId),c=new Sf(e.databaseInfo);return new pc(e.authCredentials,e.appCheckCredentials,c,t)}createRemoteStore(e){return t=this.localStore,c=this.datastore,h=e.asyncQueue,g=k=>id(this.syncEngine,k,0),C=Bg.C()?new Bg:new Tf,new Mf(t,c,h,g,C);var t,c,h,g,C}createSyncEngine(e,t){return function(c,h,g,C,k,Q,ie){const Pe=new e_(c,h,g,C,k,Q);return ie&&(Pe.dc=!0),Pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,$e.Z)(function*(t){const c=$n(t);On("RemoteStore","RemoteStore shutting down."),c._u.add(5),yield jl(c),c.mu.shutdown(),c.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jf(o,e,t){if(!t)throw new wn(sn.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function gm(o,e,t,c){if(!0===e&&!0===c)throw new wn(sn.INVALID_ARGUMENT,`${o} and ${t} cannot be used together.`)}function _m(o){if(!jn.isDocumentKey(o))throw new wn(sn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function Lh(o){if(jn.isDocumentKey(o))throw new wn(sn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function ym(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(t=o).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof o?"a function":si()}function cr(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new wn(sn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ym(o);throw new wn(sn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return o}function vm(o,e){if(e<=0)throw new wn(sn.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}const Hd=new Map;class h_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new wn(sn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wn(sn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,gm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,t,c,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=c,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wn(sn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wn(sn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ac;switch(t.type){case"gapi":return new ks(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new wn(sn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hd.get(e);t&&(On("ComponentProvider","Removing Datastore"),Hd.delete(e),t.terminate())}(this),Promise.resolve()}}class Ts{constructor(e,t,c){this.converter=t,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ts(this.firestore,e,this._key)}}class pa{constructor(e,t,c){this.converter=t,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class zl extends pa{constructor(e,t,c){super(e,t,au(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ts(this.firestore,null,new jn(e))}withConverter(e){return new zl(this.firestore,e,this._path)}}function Gf(o,e,...t){if(o=(0,ae.m9)(o),jf("collection","path",e),o instanceof jd){const c=$i.fromString(e,...t);return Lh(c),new zl(o,null,c)}{if(!(o instanceof Ts||o instanceof zl))throw new wn(sn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=o._path.child($i.fromString(e,...t));return Lh(c),new zl(o.firestore,null,c)}}function sl(o,e,...t){if(o=(0,ae.m9)(o),1===arguments.length&&(e=na.R()),jf("doc","path",e),o instanceof jd){const c=$i.fromString(e,...t);return _m(c),new Ts(o,null,new jn(c))}{if(!(o instanceof Ts||o instanceof zl))throw new wn(sn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=o._path.child($i.fromString(e,...t));return _m(c),new Ts(o.firestore,o instanceof zl?o.converter:null,new jn(c))}}function sd(o,e){return o=(0,ae.m9)(o),e=(0,ae.m9)(e),(o instanceof Ts||o instanceof zl)&&(e instanceof Ts||e instanceof zl)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function $l(o,e){return o=(0,ae.m9)(o),e=(0,ae.m9)(e),o instanceof pa&&e instanceof pa&&o.firestore===e.firestore&&bd(o._query,e._query)&&o.converter===e.converter}function od(o,e=10240){let t=0;return{read:()=>(0,$e.Z)(function*(){if(t<o.byteLength){const c={value:o.slice(t,t+e),done:!1};return t+=e,c}return{done:!0}})(),cancel:()=>(0,$e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $f{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class f_{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new qr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(c=>{c&&c.Ou()?this.metadata.resolve(c.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.ku)}`))},c=>this.metadata.reject(c))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,$e.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,$e.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,$e.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const c=e.vc.decode(t),h=Number(c);isNaN(h)&&e.Dc(`length string (${c}) is not valid number`);const g=yield e.Cc(h);return new fb(JSON.parse(g),t.length+h)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,$e.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const c=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),c})()}Cc(e){var t=this;return(0,$e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const c=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),c})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,$e.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const c=new Uint8Array(e.buffer.length+t.value.length);c.set(e.buffer),c.set(t.value,e.buffer.length),e.buffer=c}return t.done})()}}class wu{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,$e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new wn(sn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(h=(0,$e.Z)(function*(g,C){const k=$n(g),Q=Dd(k.It)+"/documents",ie={documents:C.map(mn=>Ia(k.It,mn))},Pe=yield k._o("BatchGetDocuments",Q,ie,C.length),wt=new Map;Pe.forEach(mn=>{const bn=function Sp(o,e){return"found"in e?function(t,c){ai(!!c.found);const h=Eo(t,c.found.name),g=so(c.found.updateTime),C=new gs({mapValue:{fields:c.found.fields}});return Dr.newFoundDocument(h,g,C)}(o,e):"missing"in e?function(t,c){ai(!!c.missing),ai(!!c.readTime);const h=Eo(t,c.missing),g=so(c.readTime);return Dr.newNoDocument(h,g)}(o,e):si()}(k.It,mn);wt.set(bn.key.toString(),bn)});const qt=[];return C.forEach(mn=>{const bn=wt.get(mn.toString());ai(!!bn),qt.push(bn)}),qt}),function(g,C){return h.apply(this,arguments)})(t.datastore,e);var h;return c.forEach(h=>t.recordVersion(h)),c})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(e.toString())}delete(e){this.write(new ac(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,$e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var c;e.mutations.forEach(c=>{t.delete(c.key.toString())}),t.forEach((c,h)=>{const g=jn.fromPath(h);e.mutations.push(new ah(g,e.precondition(g)))}),yield(c=(0,$e.Z)(function*(h,g){const C=$n(h),k=Dd(C.It)+"/documents",Q={writes:g.map(ie=>lc(C.It,ie))};yield C.ao("Commit",k,Q)}),function(h,g){return c.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw si();t=gi.min()}const c=this.readVersions.get(e.key.toString());if(c){if(!t.isEqual(c))throw new wn(sn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gi.min())?hi.exists(!1):hi.updateTime(t):hi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gi.min()))throw new wn(sn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hi.updateTime(t)}return hi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class p_{constructor(e,t,c,h,g){this.asyncQueue=e,this.datastore=t,this.options=c,this.updateFunction=h,this.deferred=g,this.kc=c.maxAttempts,this.xo=new Vg(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,$e.Z)(function*(){const t=new wu(e.datastore),c=e.Mc(t);c&&c.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(g=>{e.Fc(g)}))}).catch(h=>{e.Fc(h)})}))}Mc(e){try{const t=this.updateFunction(e);return!gl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ig(t)}return!1}}class mb{constructor(e,t,c,h){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=c,this.databaseInfo=h,this.user=Br.UNAUTHENTICATED,this.clientId=na.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var C=(0,$e.Z)(function*(k){On("FirestoreClient","Received user=",k.uid),yield g.authCredentialListener(k),g.user=k});return function(k){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(c,C=>(On("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,$e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wn(sn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(c){const h=Fd(c,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Sy(o,e){return My.apply(this,arguments)}function My(){return My=(0,$e.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),On("FirestoreClient","Initializing OfflineComponentProvider");const t=yield o.getConfiguration();yield e.initialize(t);let c=t.initialUser;o.setCredentialChangeListener(function(){var h=(0,$e.Z)(function*(g){c.isEqual(g)||(yield kg(e.localStore,g),c=g)});return function(g){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o.offlineComponents=e}),My.apply(this,arguments)}function Em(o,e){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,$e.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const t=yield wm(o);On("FirestoreClient","Initializing OnlineComponentProvider");const c=yield o.getConfiguration();yield e.initialize(t,c),o.setCredentialChangeListener(h=>om(e.remoteStore,h)),o.setAppCheckTokenChangeListener((h,g)=>om(e.remoteStore,g)),o.onlineComponents=e}),Bh.apply(this,arguments)}function wm(o){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,$e.Z)(function*(o){return o.offlineComponents||(On("FirestoreClient","Using default OfflineComponentProvider"),yield Sy(o,new d_)),o.offlineComponents}),Cm.apply(this,arguments)}function Zc(o){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,$e.Z)(function*(o){return o.onlineComponents||(On("FirestoreClient","Using default OnlineComponentProvider"),yield Em(o,new Hf)),o.onlineComponents}),Wl.apply(this,arguments)}function ad(o){return wm(o).then(e=>e.persistence)}function Dm(o){return wm(o).then(e=>e.localStore)}function Im(o){return Zc(o).then(e=>e.remoteStore)}function Wf(o){return Zc(o).then(e=>e.syncEngine)}function qc(o){return m_.apply(this,arguments)}function m_(){return m_=(0,$e.Z)(function*(o){const e=yield Zc(o),t=e.eventManager;return t.onListen=Nf.bind(null,e.syncEngine),t.onUnlisten=Av.bind(null,e.syncEngine),t}),m_.apply(this,arguments)}function Cu(o,e,t={}){const c=new qr;return o.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(h,g,C,k,Q){const ie=new $f({next:wt=>{g.enqueueAndForget(()=>Zg(h,Pe));const qt=wt.docs.has(C);!qt&&wt.fromCache?Q.reject(new wn(sn.UNAVAILABLE,"Failed to get document because the client is offline.")):qt&&wt.fromCache&&k&&"server"===k.source?Q.reject(new wn(sn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(wt)},error:wt=>Q.reject(wt)}),Pe=new am(au(C.path),ie,{includeMetadataChanges:!0,Nu:!0});return Yg(h,Pe)}(yield qc(o),o.asyncQueue,e,t,c)})),c.promise}function ol(o,e,t={}){const c=new qr;return o.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(h,g,C,k,Q){const ie=new $f({next:wt=>{g.enqueueAndForget(()=>Zg(h,Pe)),wt.fromCache&&"server"===k.source?Q.reject(new wn(sn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(wt)},error:wt=>Q.reject(wt)}),Pe=new am(C,ie,{includeMetadataChanges:!0,Nu:!0});return Yg(h,Pe)}(yield qc(o),o.asyncQueue,e,t,c)})),c.promise}class Kf{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Vg(this,"async_queue_retry"),this.Wc=()=>{const t=Jp();t&&On("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Jp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new qr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,$e.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ia(t))throw t;On("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(c=>{throw this.Kc=c,this.Gc=!1,Ai("INTERNAL UNHANDLED ERROR: ",function(g){let C=g.message||"";return g.stack&&(C=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),C}(c)),c}).then(c=>(this.Gc=!1,c))));return this.Bc=t,t}enqueueAfterDelay(e,t,c){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const h=Wg.createAndSchedule(this,e,t,c,g=>this.Yc(g));return this.qc.push(h),h}zc(){this.Kc&&si()}verifyOperationInProgress(){}Xc(){var e=this;return(0,$e.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,c)=>t.targetTimeMs-c.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Ko(o){return function(e,t){if("object"!=typeof e||null===e)return!1;const c=e;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(o)}class Gd{constructor(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,c){this._progressObserver={next:e,error:t,complete:c}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class or extends jd{constructor(e,t,c,h){super(e,t,c,h),this.type="firestore",this._queue=new Kf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Du(this),this._firestoreClient.terminate()}}function Ss(o){return o._firestoreClient||Du(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function Du(o){var e;const t=o._freezeSettings(),c=(g=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new js(o._databaseId,g,o._persistenceKey,(k=t).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,k.useFetchStreams));var g,k;o._firestoreClient=new mb(o._authCredentials,o._appCheckCredentials,o._queue,c)}function Tu(o,e,t){const c=new qr;return o.asyncQueue.enqueue((0,$e.Z)(function*(){try{yield Sy(o,t),yield Em(o,e),c.resolve()}catch(h){const g=h;if(!("FirebaseError"===(C=g).name?C.code===sn.FAILED_PRECONDITION||C.code===sn.UNIMPLEMENTED:!(typeof DOMException<"u"&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw g;Ea("Error enabling offline persistence. Falling back to persistence disabled: "+g),c.reject(g)}var C})).then(()=>c.promise)}function Zf(o){if(o._initialized||o._terminated)throw new wn(sn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(nr.fromBase64String(e))}catch(t){throw new wn(sn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kl(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new wn(sn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class za{constructor(e){this._methodName=e}}class Sm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wn(sn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wn(sn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ei(this._lat,e._lat)||Ei(this._long,e._long)}}const y_=/^__.*__$/;class qf{constructor(e,t,c){this.data=e,this.fieldMask=t,this.fieldTransforms=c}toMutation(e,t){return null!==this.fieldMask?new da(e,this.data,this.fieldMask,t,this.fieldTransforms):new cu(e,this.data,t,this.fieldTransforms)}}class Ry{constructor(e,t,c){this.data=e,this.fieldMask=t,this.fieldTransforms=c}toMutation(e,t){return new da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cd(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw si()}}class Wh{constructor(e,t,c,h,g,C){this.settings=e,this.databaseId=t,this.It=c,this.ignoreUndefinedProperties=h,void 0===g&&this.na(),this.fieldTransforms=g||[],this.fieldMask=C||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Wh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const c=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ia({path:c,oa:!1});return h.ua(e),h}ca(e){var t;const c=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ia({path:c,oa:!1});return h.na(),h}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return bc(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(cd(this.sa)&&y_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Mm{constructor(e,t,c){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=c||em(e)}da(e,t,c,h=!1){return new Wh({sa:e,methodName:t,fa:c,path:ji.emptyPath(),oa:!1,la:h},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ud(o){const e=o._freezeSettings(),t=em(o._databaseId);return new Mm(o._databaseId,!!e.ignoreUndefinedProperties,t)}function dd(o,e,t,c,h,g={}){const C=o.da(g.merge||g.mergeFields?2:0,e,t,h);Zh("Data must be an object, but it was:",C,c);const k=Xf(c,C);let Q,ie;if(g.merge)Q=new Qn(C.fieldMask),ie=C.fieldTransforms;else if(g.mergeFields){const Pe=[];for(const wt of g.mergeFields){const qt=vc(e,wt,t);if(!C.contains(qt))throw new wn(sn.INVALID_ARGUMENT,`Field '${qt}' is specified in your field mask but missing from your input data.`);v_(Pe,qt)||Pe.push(qt)}Q=new Qn(Pe),ie=C.fieldTransforms.filter(wt=>Q.covers(wt.field))}else Q=null,ie=C.fieldTransforms;return new qf(new gs(k),Q,ie)}class yc extends za{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yc}}function Kh(o,e,t){return new Wh({sa:3,fa:e.settings.fa,methodName:o._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Qf extends za{_toFieldTransform(e){return new vn(e.path,new lu)}isEqual(e){return e instanceof Qf}}class Am extends za{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Kh(this,e,!0),c=this._a.map(g=>Xc(g,t)),h=new O(c);return new vn(e.path,h)}isEqual(e){return this===e}}class xm extends za{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Kh(this,e,!0),c=this._a.map(g=>Xc(g,t)),h=new w(c);return new vn(e.path,h)}isEqual(e){return this===e}}class Om extends za{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new ce(e.It,yp(e.It,this.wa));return new vn(e.path,t)}isEqual(e){return this===e}}function Rm(o,e,t,c){const h=o.da(1,e,t);Zh("Data must be an object, but it was:",h,c);const g=[],C=gs.empty();B(c,(Q,ie)=>{const Pe=Ma(e,Q,t);ie=(0,ae.m9)(ie);const wt=h.ca(Pe);if(ie instanceof yc)g.push(Pe);else{const qt=Xc(ie,wt);null!=qt&&(g.push(Pe),C.set(Pe,qt))}});const k=new Qn(g);return new Ry(C,k,h.fieldTransforms)}function Yh(o,e,t,c,h,g){const C=o.da(1,e,t),k=[vc(e,c,t)],Q=[h];if(g.length%2!=0)throw new wn(sn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let qt=0;qt<g.length;qt+=2)k.push(vc(e,g[qt])),Q.push(g[qt+1]);const ie=[],Pe=gs.empty();for(let qt=k.length-1;qt>=0;--qt)if(!v_(ie,k[qt])){const mn=k[qt];let bn=Q[qt];bn=(0,ae.m9)(bn);const Jn=C.ca(mn);if(bn instanceof yc)ie.push(mn);else{const oi=Xc(bn,Jn);null!=oi&&(ie.push(mn),Pe.set(mn,oi))}}const wt=new Qn(ie);return new Ry(Pe,wt,C.fieldTransforms)}function km(o,e,t,c=!1){return Xc(t,o.da(c?4:3,e))}function Xc(o,e){if(ma(o=(0,ae.m9)(o)))return Zh("Unsupported field value:",e,o),Xf(o,e);if(o instanceof za)return function(t,c){if(!cd(c.sa))throw c.ha(`${t._methodName}() can only be used with update() and set()`);if(!c.path)throw c.ha(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,c){const h=[];let g=0;for(const C of t){let k=Xc(C,c.aa(g));null==k&&(k={nullValue:"NULL_VALUE"}),h.push(k),g++}return{arrayValue:{values:h}}}(o,e)}return function(t,c){if(null===(t=(0,ae.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yp(c.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=ls.fromDate(t);return{timestampValue:Ua(c.It,h)}}if(t instanceof ls){const h=new ls(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ua(c.It,h)}}if(t instanceof Sm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kl)return{bytesValue:bo(c.It,t._byteString)};if(t instanceof Ts){const h=c.databaseId,g=t.firestore._databaseId;if(!g.isEqual(h))throw c.ha(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:gf(t.firestore._databaseId||c.databaseId,t._key.path)}}throw c.ha(`Unsupported field value: ${ym(t)}`)}(o,e)}function Xf(o,e){const t={};return W(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):B(o,(c,h)=>{const g=Xc(h,e.ra(c));null!=g&&(t[c]=g)}),{mapValue:{fields:t}}}function ma(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof ls||o instanceof Sm||o instanceof Kl||o instanceof Ts||o instanceof za)}function Zh(o,e,t){if(!ma(t)||"object"!=typeof(c=t)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=ym(t);throw e.ha("an object"===c?o+" a custom object":o+" "+c)}var c}function vc(o,e,t){if((e=(0,ae.m9)(e))instanceof Qc)return e._internalPath;if("string"==typeof e)return Ma(o,e);throw bc("Field path arguments must be of type string or ",o,!1,void 0,t)}const Jf=new RegExp("[~\\*/\\[\\]]");function Ma(o,e,t){if(e.search(Jf)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,t);try{return new Qc(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,t)}}function bc(o,e,t,c,h){const g=c&&!c.isEmpty(),C=void 0!==h;let k=`Function ${e}() called with invalid data`;t&&(k+=" (via `toFirestore()`)"),k+=". ";let Q="";return(g||C)&&(Q+=" (found",g&&(Q+=` in field ${c}`),C&&(Q+=` in document ${h}`),Q+=")"),new wn(sn.INVALID_ARGUMENT,k+o+Q)}function v_(o,e){return o.some(t=>t.isEqual(e))}class zd{constructor(e,t,c,h,g){this._firestore=e,this._userDataWriter=t,this._key=c,this._document=h,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new Ts(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ep("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hd extends zd{data(){return super.data()}}function ep(o,e){return"string"==typeof e?Ma(o,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}function Pm(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new wn(sn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qh{}function Ec(o,...e){for(const t of e)o=t._apply(o);return o}class ky extends qh{constructor(e,t,c){super(),this.ma=e,this.ga=t,this.ya=c,this.type="where"}_apply(e){const t=ud(e.firestore),c=function(h,g,C,k,Q,ie,Pe){let wt;if(Q.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new wn(sn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){D_(Pe,ie);const mn=[];for(const bn of Pe)mn.push(C_(k,h,bn));wt={arrayValue:{values:mn}}}else wt=C_(k,h,Pe)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||D_(Pe,ie),wt=km(C,"where",Pe,"in"===ie||"not-in"===ie);const qt=vo.create(Q,ie,wt);return function(mn,bn){if(bn.dt()){const oi=nh(mn);if(null!==oi&&!oi.isEqual(bn.field))throw new wn(sn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${oi.toString()}' and '${bn.field.toString()}'`);const Or=th(mn);null!==Or&&By(0,bn.field,Or)}const Jn=function(oi,Or){for(const Ds of oi.filters)if(Or.indexOf(Ds.op)>=0)return Ds.op;return null}(mn,function(oi){switch(oi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(bn.op));if(null!==Jn)throw new wn(sn.INVALID_ARGUMENT,Jn===bn.op?`Invalid query. You cannot use more than one '${bn.op.toString()}' filter.`:`Invalid query. You cannot use '${bn.op.toString()}' filters with '${Jn.toString()}' filters.`)}(h,qt),qt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new pa(e.firestore,e.converter,function(h,g){const C=h.filters.concat([g]);return new sc(h.path,h.collectionGroup,h.explicitOrderBy.slice(),C,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,c))}}class Ny extends qh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(c,h,g){if(null!==c.startAt)throw new wn(sn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new wn(sn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new Nl(h,g);return function(k,Q){if(null===th(k)){const ie=nh(k);null!==ie&&By(0,ie,Q.field)}}(c,C),C}(e._query,this.ma,this.pa);return new pa(e.firestore,e.converter,function(c,h){const g=c.explicitOrderBy.concat([h]);return new sc(c.path,c.collectionGroup,g,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,t))}}class $d extends qh{constructor(e,t,c){super(),this.type=e,this.Ia=t,this.Ta=c}_apply(e){return new pa(e.firestore,e.converter,Vu(e._query,this.Ia,this.Ta))}}class Fm extends qh{constructor(e,t,c){super(),this.type=e,this.Ea=t,this.Aa=c}_apply(e){const t=Yl(e,this.type,this.Ea,this.Aa);return new pa(e.firestore,e.converter,(h=t,new sc((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)));var c,h}}class E_ extends qh{constructor(e,t,c){super(),this.type=e,this.Ea=t,this.Aa=c}_apply(e){const t=Yl(e,this.type,this.Ea,this.Aa);return new pa(e.firestore,e.converter,(h=t,new sc((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,h)));var c,h}}function Yl(o,e,t,c){if(t[0]=(0,ae.m9)(t[0]),t[0]instanceof zd)return function(h,g,C,k,Q){if(!k)throw new wn(sn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const ie=[];for(const Pe of vl(h))if(Pe.field.isKeyField())ie.push(Gn(g,k.key));else{const wt=k.data.field(Pe.field);if(sa(wt))throw new wn(sn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===wt){const qt=Pe.field.canonicalString();throw new wn(sn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${qt}' (used as the orderBy) does not exist.`)}ie.push(wt)}return new Pc(ie,Q)}(o._query,o.firestore._databaseId,e,t[0]._document,c);{const h=ud(o.firestore);return function(g,C,k,Q,ie,Pe){const wt=g.explicitOrderBy;if(ie.length>wt.length)throw new wn(sn.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const qt=[];for(let mn=0;mn<ie.length;mn++){const bn=ie[mn];if(wt[mn].field.isKeyField()){if("string"!=typeof bn)throw new wn(sn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof bn}`);if(!vd(g)&&-1!==bn.indexOf("/"))throw new wn(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${bn}' contains a slash.`);const Jn=g.path.child($i.fromString(bn));if(!jn.isDocumentKey(Jn))throw new wn(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${Jn}' is not because it contains an odd number of segments.`);const oi=new jn(Jn);qt.push(Gn(C,oi))}else{const Jn=km(k,Q,bn);qt.push(Jn)}}return new Pc(qt,Pe)}(o._query,o.firestore._databaseId,h,e,t,c)}}function C_(o,e,t){if("string"==typeof(t=(0,ae.m9)(t))){if(""===t)throw new wn(sn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vd(e)&&-1!==t.indexOf("/"))throw new wn(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const c=e.path.child($i.fromString(t));if(!jn.isDocumentKey(c))throw new wn(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return Gn(o,new jn(c))}if(t instanceof Ts)return Gn(o,t._key);throw new wn(sn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ym(t)}.`)}function D_(o,e){if(!Array.isArray(o)||0===o.length)throw new wn(sn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(o.length>10)throw new wn(sn.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function By(o,e,t){if(!t.isEqual(e))throw new wn(sn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Lm{convertValue(e,t="none"){switch(U(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw si()}}convertObject(e,t){const c={};return B(e.fields,(h,g)=>{c[h]=this.convertValue(g,t)}),c}convertGeoPoint(e){return new Sm(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(c=>this.convertValue(c,t))}convertServerTimestamp(e,t){switch(t){case"previous":const c=oa(e);return null==c?null:this.convertValue(c,t);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const t=cs(e);return new ls(t.seconds,t.nanos)}convertDocumentKey(e,t){const c=$i.fromString(e);ai(pg(c));const h=new aa(c.get(1),c.get(3)),g=new jn(c.popFirst(5));return h.isEqual(t)||Ai(`Document ${g} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}function Qh(o,e,t){let c;return c=o?t&&(t.merge||t.mergeFields)?o.toFirestore(e,t):o.toFirestore(e):e,c}class Xh extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ts(this.firestore,null,t)}}class Wd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends zd{constructor(e,t,c,h,g,C){super(e,t,c,h,C),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const c=this._document.data.field(ep("DocumentSnapshot.get",e));if(null!==c)return this._userDataWriter.convertValue(c,t.serverTimestamps)}}}class Jh extends Su{data(e={}){return super.data(e)}}class fd{constructor(e,t,c,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new Wd(h.hasPendingWrites,h.fromCache),this.query=c}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(c=>{e.call(t,new Jh(this._firestore,this._userDataWriter,c.key,c,new Wd(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wn(sn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let g=0;return c._snapshot.docChanges.map(C=>({type:"added",doc:new Jh(c._firestore,c._userDataWriter,C.doc.key,C.doc,new Wd(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:g++}))}{let g=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(C=>h||3!==C.type).map(C=>{const k=new Jh(c._firestore,c._userDataWriter,C.doc.key,C.doc,new Wd(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter);let Q=-1,ie=-1;return 0!==C.type&&(Q=g.indexOf(C.doc.key),g=g.delete(C.doc.key)),1!==C.type&&(g=g.add(C.doc),ie=g.indexOf(C.doc.key)),{type:Vy(C.type),doc:k,oldIndex:Q,newIndex:ie}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vy(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return si()}}function Fv(o,e){return o instanceof Su&&e instanceof Su?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof fd&&e instanceof fd&&o._firestore===e._firestore&&$l(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}class Jc extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ts(this.firestore,null,t)}}function Zl(o,e,t){o=cr(o,Ts);const c=cr(o.firestore,or),h=Qh(o.converter,e,t);return Kd(c,[dd(ud(c),"setDoc",o._key,h,null!==o.converter,t).toMutation(o._key,hi.none())])}function T_(o,e,t,...c){o=cr(o,Ts);const h=cr(o.firestore,or),g=ud(h);let C;return C="string"==typeof(e=(0,ae.m9)(e))||e instanceof Qc?Yh(g,"updateDoc",o._key,e,t,c):Rm(g,"updateDoc",o._key,e),Kd(h,[C.toMutation(o._key,hi.exists(!0))])}function jy(o,...e){var t,c,h;o=(0,ae.m9)(o);let g={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||Ko(e[C])||(g=e[C],C++);const k={includeMetadataChanges:g.includeMetadataChanges};if(Ko(e[C])){const wt=e[C];e[C]=null===(t=wt.next)||void 0===t?void 0:t.bind(wt),e[C+1]=null===(c=wt.error)||void 0===c?void 0:c.bind(wt),e[C+2]=null===(h=wt.complete)||void 0===h?void 0:h.bind(wt)}let Q,ie,Pe;if(o instanceof Ts)ie=cr(o.firestore,or),Pe=au(o._key.path),Q={next:wt=>{e[C]&&e[C](np(ie,o,wt))},error:e[C+1],complete:e[C+2]};else{const wt=cr(o,pa);ie=cr(wt.firestore,or),Pe=wt._query;const qt=new Jc(ie);Q={next:mn=>{e[C]&&e[C](new fd(ie,qt,wt,mn))},error:e[C+1],complete:e[C+2]},Pm(o._query)}return function(wt,qt,mn,bn){const Jn=new $f(bn),oi=new am(qt,Jn,mn);return wt.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return Yg(yield qc(wt),oi)})),()=>{Jn.bc(),wt.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return Zg(yield qc(wt),oi)}))}}(Ss(ie),Pe,k,Q)}function Kd(o,e){return function(t,c){const h=new qr;return t.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function yy(o,e,t){return i_.apply(this,arguments)}(yield Wf(t),c,h)})),h.promise}(Ss(o),e)}function np(o,e,t){const c=t.docs.get(e._key),h=new Jc(o);return new Su(o,h,e._key,c,new Wd(t.hasPendingWrites,t.fromCache),e.converter)}const Gy={maxAttempts:5};class zy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ud(e)}set(e,t,c){this._verifyNotCommitted();const h=Mu(e,this._firestore),g=Qh(h.converter,t,c),C=dd(this._dataReader,"WriteBatch.set",h._key,g,null!==h.converter,c);return this._mutations.push(C.toMutation(h._key,hi.none())),this}update(e,t,c,...h){this._verifyNotCommitted();const g=Mu(e,this._firestore);let C;return C="string"==typeof(t=(0,ae.m9)(t))||t instanceof Qc?Yh(this._dataReader,"WriteBatch.update",g._key,t,c,h):Rm(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(C.toMutation(g._key,hi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mu(e,this._firestore);return this._mutations=this._mutations.concat(new ac(t._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wn(sn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mu(o,e){if((o=(0,ae.m9)(o)).firestore!==e)throw new wn(sn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class M_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ud(e)}get(e){const t=Mu(e,this._firestore),c=new Xh(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return si();const g=h[0];if(g.isFoundDocument())return new zd(this._firestore,c,g.key,g,t.converter);if(g.isNoDocument())return new zd(this._firestore,c,t._key,null,t.converter);throw si()})}set(e,t,c){const h=Mu(e,this._firestore),g=Qh(h.converter,t,c),C=dd(this._dataReader,"Transaction.set",h._key,g,null!==h.converter,c);return this._transaction.set(h._key,C),this}update(e,t,c,...h){const g=Mu(e,this._firestore);let C;return C="string"==typeof(t=(0,ae.m9)(t))||t instanceof Qc?Yh(this._dataReader,"Transaction.update",g._key,t,c,h):Rm(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,C),this}delete(e){const t=Mu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Mu(e,this._firestore),c=new Jc(this._firestore);return super.get(e).then(h=>new Su(this._firestore,c,t._key,h._document,new Wd(!1,!1),t.converter))}}function Um(o,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wn("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return e}function R_(){if(typeof Uint8Array>"u")throw new wn("unimplemented","Uint8Arrays are not available in this environment.")}function Ky(){if(!function xr(){return typeof atob<"u"}())throw new wn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(o,e=!0){Vr=Ft.SDK_VERSION,(0,Ft._registerComponent)(new rt.wA("firestore",(t,{instanceIdentifier:c,options:h})=>{const g=t.getProvider("app").getImmediate(),C=new or(new fl(t.getProvider("auth-internal")),new ta(t.getProvider("app-check-internal")),function(k,Q){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new wn(sn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(k.options.projectId,Q)}(g,c),g);return h=Object.assign({useFetchStreams:e},h),C._setSettings(h),C},"PUBLIC").setMultipleInstances(!0)),(0,Ft.registerVersion)(Qe,"3.7.3",o),(0,Ft.registerVersion)(Qe,"3.7.3","esm2017")}();class rp{constructor(e){this._delegate=e}static fromBase64String(e){return Ky(),new rp(Kl.fromBase64String(e))}static fromUint8Array(e){return R_(),new rp(Kl.fromUint8Array(e))}toBase64(){return Ky(),this._delegate.toBase64()}toUint8Array(){return R_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function k_(o){return function jv(o,e){if("object"!=typeof o||null===o)return!1;const t=o;for(const c of e)if(c in t&&"function"==typeof t[c])return!0;return!1}(o,["next","error","complete"])}class Gv{enableIndexedDbPersistence(e,t){return function Iu(o,e){Zf(o=cr(o,or));const t=Ss(o),c=o._freezeSettings(),h=new Hf;return Tu(t,h,new Vf(h,c.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Hh(o){Zf(o=cr(o,or));const e=Ss(o),t=o._freezeSettings(),c=new Hf;return Tu(e,c,new Uf(c,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function jh(o){if(o._initialized&&!o._terminated)throw new wn(sn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qr;return o._queue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{yield(t=(0,$e.Z)(function*(c){if(!Li.C())return Promise.resolve();const h=c+"main";yield Li.delete(h)}),function(c){return t.apply(this,arguments)})(dy(o._databaseId,o._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class P_{constructor(e,t,c){this._delegate=t,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},e instanceof aa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ea("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,c={}){!function Iy(o,e,t,c={}){var h;const g=(o=cr(o,jd))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&Ea("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${t}`,ssl:!1})),c.mockUserToken){let C,k;if("string"==typeof c.mockUserToken)C=c.mockUserToken,k=Br.MOCK_USER;else{C=(0,ae.Sg)(c.mockUserToken,null===(h=o._app)||void 0===h?void 0:h.options.projectId);const Q=c.mockUserToken.sub||c.mockUserToken.user_id;if(!Q)throw new wn(sn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Br(Q)}o._authCredentials=new tc(new hl(C,k))}}(this._delegate,e,t,c)}enableNetwork(){return function zh(o){return function Ga(o){return o.asyncQueue.enqueue((0,$e.Z)(function*(){const e=yield ad(o),t=yield Im(o);return e.setNetworkEnabled(!0),function(c){const h=$n(c);return h._u.delete(0),Hl(h)}(t)}))}(Ss(o=cr(o,or)))}(this._delegate)}disableNetwork(){return function __(o){return function ld(o){return o.asyncQueue.enqueue((0,$e.Z)(function*(){const e=yield ad(o),t=yield Im(o);return e.setNetworkEnabled(!1),(c=(0,$e.Z)(function*(h){const g=$n(h);g._u.add(0),yield jl(g),g.gu.set("Offline")}),function(h){return c.apply(this,arguments)})(t);var c}))}(Ss(o=cr(o,or)))}(this._delegate)}enablePersistence(e){let t=!1,c=!1;return e&&(t=!!e.synchronizeTabs,c=!!e.experimentalForceOwningTab,gm("synchronizeTabs",t,"experimentalForceOwningTab",c)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Gh(o){return function(e){const t=new qr;return e.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function o_(o,e){return Ff.apply(this,arguments)}(yield Wf(e),t)})),t.promise}(Ss(o=cr(o,or)))}(this._delegate)}onSnapshotsInSync(e){return function S_(o,e){return function Tm(o,e){const t=new $f(e);return o.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return c=yield qc(o),h=t,$n(c).Ru.add(h),void h.next();var c,h})),()=>{t.bc(),o.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return c=yield qc(o),h=t,void $n(c).Ru.delete(h);var c,h}))}}(Ss(o=cr(o,or)),Ko(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new wn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pd(this,Gf(this._delegate,e))}catch(t){throw Cs(t,"collection()","Firestore.collection()")}}doc(e){try{return new _s(this,sl(this._delegate,e))}catch(t){throw Cs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $a(this,function zf(o,e){if(o=cr(o,jd),jf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wn(sn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pa(o,null,(t=e,new sc($i.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Cs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Bm(o,e,t){o=cr(o,or);const c=Object.assign(Object.assign({},Gy),t);return function(h){if(h.maxAttempts<1)throw new wn(sn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function(h,g,C){const k=new qr;return h.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){const Q=yield function Vh(o){return Zc(o).then(e=>e.datastore)}(h);new p_(h.asyncQueue,Q,C,g,k).run()})),k.promise}(Ss(o),h=>e(new M_(o,h)),c)}(this._delegate,t=>e(new Yy(this,t)))}batch(){return Ss(this._delegate),new Zy(new zy(this._delegate,e=>Kd(this._delegate,e)))}loadBundle(e){return function xy(o,e){const t=Ss(o=cr(o,or)),c=new Gd;return function Pv(o,e,t,c){const h=function(g,C){let k;return k="string"==typeof g?(new TextEncoder).encode(g):g,Q=function(Q,ie){if(Q instanceof Uint8Array)return od(Q,void 0);if(Q instanceof ArrayBuffer)return od(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new f_(Q,C);var Q}(t,em(e));o.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){!function Dy(o,e,t){const c=$n(o);var h;(h=(0,$e.Z)(function*(g,C,k){try{const Q=yield C.getMetadata();if(yield function(qt,mn){const bn=$n(qt),Jn=so(mn.createTime);return bn.persistence.runTransaction("hasNewerBundle","readonly",oi=>bn.Ns.getBundleMetadata(oi,mn.id)).then(oi=>!!oi&&oi.createTime.compareTo(Jn)>=0)}(g.localStore,Q))return yield C.close(),k._completeWith({taskState:"Success",documentsLoaded:(qt=Q).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);k._updateProgress(Mv(Q));const ie=new pb(Q,g.localStore,C.It);let Pe=yield C.mc();for(;Pe;){const qt=yield ie.Fu(Pe);qt&&k._updateProgress(qt),Pe=yield C.mc()}const wt=yield ie.complete();return yield mc(g,wt.Lu,void 0),yield function(qt,mn){const bn=$n(qt);return bn.persistence.runTransaction("Save bundle","readwrite",Jn=>bn.Ns.saveBundleMetadata(Jn,mn))}(g.localStore,Q),k._completeWith(wt.progress),Promise.resolve(wt.Bu)}catch(Q){return Ea("SyncEngine",`Loading bundle failed with ${Q}`),k._failWith(Q),Promise.resolve(new Set)}var qt}),function(g,C,k){return h.apply(this,arguments)})(c,e,t).then(h=>{c.sharedClientState.notifyBundleLoaded(h)})}(yield Wf(o),h,c)}))}(t,o._databaseId,e,c),c}(this._delegate,e)}namedQuery(e){return function Oy(o,e){return function _c(o,e){return o.asyncQueue.enqueue((0,$e.Z)(function*(){return function(t,c){const h=$n(t);return h.persistence.runTransaction("Get named query","readonly",g=>h.Ns.getNamedQuery(g,c))}(yield Dm(o),e)}))}(Ss(o=cr(o,or)),e).then(t=>t?new pa(o,null,t.query):null)}(this._delegate,e).then(t=>t?new $a(this,t):null)}}class Hm extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new rp(new Kl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _s.forKey(t,this.firestore,null)}}class Yy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Hm(e)}get(e){const t=Au(e);return this._delegate.get(t).then(c=>new sp(this._firestore,new Su(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,t.converter)))}set(e,t,c){const h=Au(e);return c?(Um("Transaction.set",c),this._delegate.set(h,t,c)):this._delegate.set(h,t),this}update(e,t,c,...h){const g=Au(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,c,...h),this}delete(e){const t=Au(e);return this._delegate.delete(t),this}}class Zy{constructor(e){this._delegate=e}set(e,t,c){const h=Au(e);return c?(Um("WriteBatch.set",c),this._delegate.set(h,t,c)):this._delegate.set(h,t),this}update(e,t,c,...h){const g=Au(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,c,...h),this}delete(e){const t=Au(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class al{constructor(e,t,c){this._firestore=e,this._userDataWriter=t,this._delegate=c}fromFirestore(e,t){const c=new Jh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new op(this._firestore,c),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const c=al.INSTANCES;let h=c.get(e);h||(h=new WeakMap,c.set(e,h));let g=h.get(t);return g||(g=new al(e,new Hm(e),t),h.set(t,g)),g}}al.INSTANCES=new WeakMap;class _s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hm(e)}static forPath(e,t,c){if(e.length%2!=0)throw new wn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _s(t,new Ts(t._delegate,c,new jn(e)))}static forKey(e,t,c){return new _s(t,new Ts(t._delegate,c,e))}get id(){return this._delegate.id}get parent(){return new pd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pd(this.firestore,Gf(this._delegate,e))}catch(t){throw Cs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ae.m9)(e))instanceof Ts&&sd(this._delegate,e)}set(e,t){t=Um("DocumentReference.set",t);try{return t?Zl(this._delegate,e,t):Zl(this._delegate,e)}catch(c){throw Cs(c,"setDoc()","DocumentReference.set()")}}update(e,t,...c){try{return 1===arguments.length?T_(this._delegate,e):T_(this._delegate,e,t,...c)}catch(h){throw Cs(h,"updateDoc()","DocumentReference.update()")}}delete(){return function Hy(o){return Kd(cr(o.firestore,or),[new ac(o._key,hi.none())])}(this._delegate)}onSnapshot(...e){const t=ef(e),c=qy(e,h=>new sp(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return jy(this._delegate,t,c)}get(e){let t;return t="cache"===e?.source?function eu(o){o=cr(o,Ts);const e=cr(o.firestore,or),t=Ss(e),c=new Jc(e);return function gb(o,e){const t=new qr;return o.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(c=(0,$e.Z)(function*(h,g,C){try{const k=yield function(Q,ie){const Pe=$n(Q);return Pe.persistence.runTransaction("read document","readonly",wt=>Pe.localDocuments.getDocument(wt,ie))}(h,g);k.isFoundDocument()?C.resolve(k):k.isNoDocument()?C.resolve(null):C.reject(new wn(sn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const Q=Fd(k,`Failed to get document '${g} from cache`);C.reject(Q)}}),function(h,g,C){return c.apply(this,arguments)})(yield Dm(o),e,t);var c})),t.promise}(t,o._key).then(h=>new Su(e,c,o._key,h,new Wd(null!==h&&h.hasLocalMutations,!0),o.converter))}(this._delegate):"server"===e?.source?function Lv(o){o=cr(o,Ts);const e=cr(o.firestore,or);return Cu(Ss(e),o._key,{source:"server"}).then(t=>np(e,o,t))}(this._delegate):function I_(o){o=cr(o,Ts);const e=cr(o.firestore,or);return Cu(Ss(e),o._key).then(t=>np(e,o,t))}(this._delegate),t.then(c=>new sp(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(e){return new _s(this.firestore,this._delegate.withConverter(e?al.getInstance(this.firestore,e):null))}}function Cs(o,e,t){return o.message=o.message.replace(e,t),o}function ef(o){for(const e of o)if("object"==typeof e&&!k_(e))return e;return{}}function qy(o,e){var t,c;let h;return h=k_(o[0])?o[0]:k_(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]},{next:g=>{h.next&&h.next(e(g))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(c=h.complete)||void 0===c?void 0:c.bind(h)}}class sp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _s(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Fv(this._delegate,e._delegate)}}class op extends sp{data(e){const t=this._delegate.data(e);return function Mc(o,e){o||si()}(void 0!==t),t}}class $a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hm(e)}where(e,t,c){try{return new $a(this.firestore,Ec(this._delegate,function Py(o,e,t){const c=e,h=ep("where",o);return new ky(h,c,t)}(e,t,c)))}catch(h){throw Cs(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $a(this.firestore,Ec(this._delegate,function Fy(o,e="asc"){const t=e,c=ep("orderBy",o);return new Ny(c,t)}(e,t)))}catch(c){throw Cs(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $a(this.firestore,Ec(this._delegate,function tp(o){return vm("limit",o),new $d("limit",o,"F")}(e)))}catch(t){throw Cs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $a(this.firestore,Ec(this._delegate,function Nm(o){return vm("limitToLast",o),new $d("limitToLast",o,"L")}(e)))}catch(t){throw Cs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $a(this.firestore,Ec(this._delegate,function Ly(...o){return new Fm("startAt",o,!0)}(...e)))}catch(t){throw Cs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $a(this.firestore,Ec(this._delegate,function b_(...o){return new Fm("startAfter",o,!1)}(...e)))}catch(t){throw Cs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $a(this.firestore,Ec(this._delegate,function Do(...o){return new E_("endBefore",o,!1)}(...e)))}catch(t){throw Cs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $a(this.firestore,Ec(this._delegate,function w_(...o){return new E_("endAt",o,!0)}(...e)))}catch(t){throw Cs(t,"endAt()","Query.endAt()")}}isEqual(e){return $l(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function tu(o){o=cr(o,pa);const e=cr(o.firestore,or),t=Ss(e),c=new Jc(e);return function Ay(o,e){const t=new qr;return o.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(c=(0,$e.Z)(function*(h,g,C){try{const k=yield gu(h,g,!0),Q=new lm(g,k.Hi),ie=Q.Wu(k.documents),Pe=Q.applyChanges(ie,!1);C.resolve(Pe.snapshot)}catch(k){const Q=Fd(k,`Failed to execute query '${g} against cache`);C.reject(Q)}}),function(h,g,C){return c.apply(this,arguments)})(yield Dm(o),e,t);var c})),t.promise}(t,o._query).then(h=>new fd(e,c,o,h))}(this._delegate):"server"===e?.source?function wc(o){o=cr(o,pa);const e=cr(o.firestore,or),t=Ss(e),c=new Jc(e);return ol(t,o._query,{source:"server"}).then(h=>new fd(e,c,o,h))}(this._delegate):function Uy(o){o=cr(o,pa);const e=cr(o.firestore,or),t=Ss(e),c=new Jc(e);return Pm(o._query),ol(t,o._query).then(h=>new fd(e,c,o,h))}(this._delegate),t.then(c=>new jm(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...e){const t=ef(e),c=qy(e,h=>new jm(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return jy(this._delegate,t,c)}withConverter(e){return new $a(this.firestore,this._delegate.withConverter(e?al.getInstance(this.firestore,e):null))}}class $v{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new op(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $a(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new op(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $v(this._firestore,t))}forEach(e,t){this._delegate.forEach(c=>{e.call(t,new op(this._firestore,c))})}isEqual(e){return Fv(this._delegate,e._delegate)}}class pd extends $a{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _s(this.firestore,e):null}doc(e){try{return new _s(this.firestore,void 0===e?sl(this._delegate):sl(this._delegate,e))}catch(t){throw Cs(t,"doc()","CollectionReference.doc()")}}add(e){return function Cc(o,e){const t=cr(o.firestore,or),c=sl(o),h=Qh(o.converter,e);return Kd(t,[dd(ud(o.firestore),"addDoc",c._key,h,null!==o.converter,{}).toMutation(c._key,hi.exists(!1))]).then(()=>c)}(this._delegate,e).then(t=>new _s(this.firestore,t))}isEqual(e){return sd(this._delegate,e._delegate)}withConverter(e){return new pd(this.firestore,this._delegate.withConverter(e?al.getInstance(this.firestore,e):null))}}function Au(o){return cr(o,Ts)}class ap{constructor(...e){this._delegate=new Qc(...e)}static documentId(){return new ap(ji.keyField().canonicalString())}isEqual(e){return(e=(0,ae.m9)(e))instanceof Qc&&this._delegate._internalPath.isEqual(e._internalPath)}}class xu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Vv(){return new Qf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xu(e)}static delete(){const e=function Bv(){return new yc("deleteField")}();return e._methodName="FieldValue.delete",new xu(e)}static arrayUnion(...e){const t=function A_(...o){return new Am("arrayUnion",o)}(...e);return t._methodName="FieldValue.arrayUnion",new xu(t)}static arrayRemove(...e){const t=function x_(...o){return new xm("arrayRemove",o)}(...e);return t._methodName="FieldValue.arrayRemove",new xu(t)}static increment(e){const t=function Vm(o){return new Om("increment",o)}(e);return t._methodName="FieldValue.increment",new xu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tf={Firestore:P_,GeoPoint:Sm,Timestamp:ls,Blob:rp,Transaction:Yy,WriteBatch:Zy,DocumentReference:_s,DocumentSnapshot:sp,Query:$a,QueryDocumentSnapshot:op,QuerySnapshot:jm,CollectionReference:pd,FieldPath:ap,FieldValue:xu,setLogLevel:function zv(o){!function nu(o){Pa.setLogLevel(o)}(o)},CACHE_SIZE_UNLIMITED:-1};!function N_(o){(function Qy(o,e){o.INTERNAL.registerComponent(new rt.wA("firestore-compat",t=>{const c=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(c,h)},"PUBLIC").setServiceProps(Object.assign({},tf)))})(o,(e,t)=>new P_(e,t,new Gv)),o.registerVersion("@firebase/firestore-compat","0.2.3")}(Je.Z);var Ou=D(3385),F_=D(440),Gm=D(127);function L_(o,e){return function md(o,e=b.z){return new E.y(t=>{let c;return null!=e?e.schedule(()=>{c=o.onSnapshot({includeMetadataChanges:!0},t)}):c=o.onSnapshot({includeMetadataChanges:!0},t),()=>{c?.()}})}(o,e)}function gd(o,e){return L_(o,e).pipe((0,se.U)(t=>({payload:t,type:"query"})))}function B_(o,e){return gd(o,e).pipe((0,Fe.O)(void 0),X(),(0,se.U)(([t,c])=>{const h=c.payload.docChanges(),g=h.map(C=>({type:C.type,payload:C}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((C,k)=>{const Q=h.find(Pe=>Pe.doc.ref.isEqual(C.ref)),ie=t?.payload.docs.find(Pe=>Pe.ref.isEqual(C.ref));Q&&JSON.stringify(Q.doc.metadata)===JSON.stringify(C.metadata)||!Q&&ie&&JSON.stringify(ie.metadata)===JSON.stringify(C.metadata)||g.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:C}})}),g}))}function lp(o,e,t){return B_(o,t).pipe((0,ue.R)((c,h)=>function yb(o,e,t){return e.forEach(c=>{t.indexOf(c.type)>-1&&(o=function V_(o,e){switch(e.type){case"added":if(!o[e.newIndex]||!o[e.newIndex].doc.ref.isEqual(e.doc.ref))return zm(o,e.newIndex,0,e);break;case"modified":if(null==o[e.oldIndex]||o[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=o.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zm(o,e.newIndex,1,e)}break;case"removed":if(o[e.oldIndex]&&o[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zm(o,e.oldIndex,1)}return o}(o,c))}),o}(c,h.map(g=>g.payload),e),[]),(0,Te.x)(),(0,se.U)(c=>c.map(h=>({type:h.type,payload:h}))))}function zm(o,e,t,...c){const h=o.slice();return h.splice(e,t,...c),h}function Kv(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}class Mi{constructor(e,t,c){this.ref=e,this.query=t,this.afs=c}stateChanges(e){let t=B_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,se.U)(c=>c.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,Fe.O)(void 0),X(),(0,ze.h)(([c,h])=>h.length>0||!c),(0,se.U)(([c,h])=>h),be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((t,c)=>[...t,...c],[]))}snapshotChanges(e){const t=Kv(e);return lp(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return gd(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.payload.docs.map(c=>e.idField?Object.assign(Object.assign({},c.data()),{[e.idField]:c.id}):c.data())),be.iC)}get(e){return(0,M.D)(this.query.get(e)).pipe(be.iC)}add(e){return this.ref.add(e)}doc(e){return new Xy(this.ref.doc(e),this.afs)}}class Xy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const c=this.ref.collection(e),{ref:h,query:g}=up(c,t);return new Mi(h,g,this.afs)}snapshotChanges(){return function Wv(o,e){return L_(o,e).pipe((0,Fe.O)(void 0),X(),(0,se.U)(([t,c])=>c.exists?t?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,se.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,M.D)(this.ref.get(e)).pipe(be.iC)}}class Yv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?B_(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.filter(c=>e.indexOf(c.type)>-1)),(0,ze.h)(t=>t.length>0),be.iC):B_(this.query,this.afs.schedulers.outsideAngular).pipe(be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((t,c)=>[...t,...c],[]))}snapshotChanges(e){const t=Kv(e);return lp(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return gd(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(c=>c.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),be.iC)}get(e){return(0,M.D)(this.query.get(e)).pipe(be.iC)}}const Jy=new m.OlP("angularfire2.enableFirestorePersistence"),Aa=new m.OlP("angularfire2.firestore.persistenceSettings"),Ru=new m.OlP("angularfire2.firestore.settings"),cp=new m.OlP("angularfire2.firestore.use-emulator");function up(o,e=(t=>t)){return{query:e(o),ref:o}}let Xs=(()=>{class o{constructor(t,c,h,g,C,k,Q,ie,Pe,wt,qt,mn,bn,Jn,oi,Or,Ds){this.schedulers=Q;const dr=(0,Re.on)(t,k,c),Ms=Pe;wt&&(0,Ou.nw)(dr,k,qt,bn,Jn,oi,mn,Or),[this.firestore,this.persistenceEnabled$]=(0,Re.cc)(`${dr.name}.firestore`,"AngularFirestore",dr.name,()=>{const Pr=k.runOutsideAngular(()=>dr.firestore());if(g&&Pr.settings(g),Ms&&Pr.useEmulator(...Ms),h&&!(0,dt.PM)(C)){const Nr=()=>{try{return(0,M.D)(Pr.enablePersistence(ie||void 0).then(()=>!0,()=>!1))}catch(Yo){return typeof console<"u"&&console.warn(Yo),(0,de.of)(!1)}};return[Pr,k.runOutsideAngular(Nr)]}return[Pr,(0,de.of)(!1)]},[g,Ms,h])}collection(t,c){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:g,query:C}=up(h,c),k=this.schedulers.ngZone.run(()=>g);return new Mi(k,C,this)}collectionGroup(t,c){const h=c||(C=>C),g=this.firestore.collectionGroup(t);return new Yv(h(g),this)}doc(t){let c;c="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>c);return new Xy(h,this)}createId(){return this.firestore.collection("_").doc().id}}return o.\u0275fac=function(t){return new(t||o)(m.LFG(Re.Dh),m.LFG(Re.xv,8),m.LFG(Jy,8),m.LFG(Ru,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(be.HU),m.LFG(Aa,8),m.LFG(cp,8),m.LFG(Ou.zQ,8),m.LFG(Ou.Qv,8),m.LFG(Ou.L6,8),m.LFG(Ou._Q,8),m.LFG(Ou.rT,8),m.LFG(Ou.lh,8),m.LFG(Ou.f7,8),m.LFG(F_.nm,8))},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),vb=(()=>{class o{constructor(){Gm.Z.registerVersion("angularfire",be.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:o,providers:[{provide:Jy,useValue:!0},{provide:Aa,useValue:t}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=m.oAB({type:o}),o.\u0275inj=m.cJS({providers:[Xs]}),o})()},2011:(hn,ft,D)=>{D.d(ft,{Dh:()=>re,GT:()=>be,cc:()=>ze,hO:()=>Te,on:()=>X,pX:()=>de,xv:()=>pe});var m=D(4650),b=D(127),E=D(6351);hn=D.hmd(hn);const M=["ngOnDestroy"],de=(Je,$e,Ft,rt={})=>new Proxy(Je,{get:(Oe,ae)=>Ft.runOutsideAngular(()=>{var Me;if(Je[ae])return!(null===(Me=rt?.spy)||void 0===Me)&&Me.get&&rt.spy.get(ae,Je[ae]),Je[ae];if(M.indexOf(ae)>-1)return()=>{};const _e=$e.toPromise().then(fe=>{const Ge=fe&&fe[ae];return"function"==typeof Ge?Ge.bind(fe):Ge&&Ge.then?Ge.then(Se=>Ft.run(()=>Se)):Ft.run(()=>Ge)});return new Proxy(()=>{},{get:(fe,Ge)=>_e[Ge],apply:(fe,Ge,Se)=>_e.then(Ke=>{var St;const yt=Ke&&Ke(...Se);return!(null===(St=rt?.spy)||void 0===St)&&St.apply&&rt.spy.apply(ae,Se,yt),yt})})})}),be=(Je,$e)=>{$e.forEach(Ft=>{Object.getOwnPropertyNames(Ft.prototype||Ft).forEach(rt=>{Object.defineProperty(Je.prototype,rt,Object.getOwnPropertyDescriptor(Ft.prototype||Ft,rt))})})};class Fe{constructor($e){return $e}}const re=new m.OlP("angularfire2.app.options"),pe=new m.OlP("angularfire2.app.name");function X(Je,$e,Ft){const Oe="object"==typeof Ft&&Ft||{};Oe.name=Oe.name||"string"==typeof Ft&&Ft||"[DEFAULT]";const Me=b.Z.apps.filter(_e=>_e&&_e.name===Oe.name)[0]||$e.runOutsideAngular(()=>b.Z.initializeApp(Je,Oe));try{JSON.stringify(Je)!==JSON.stringify(Me.options)&&se("error",`${Me.name} Firebase App already initialized with different options${hn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Fe(Me)}const se=(Je,...$e)=>{(0,m.X6Q)()&&typeof console<"u"&&console[Je](...$e)},ue={provide:Fe,useFactory:X,deps:[re,m.R0b,[new m.FiY,pe]]};let Te=(()=>{class Je{constructor(Ft){b.Z.registerVersion("angularfire",E.q4.full,"core"),b.Z.registerVersion("angularfire",E.q4.full,"app-compat"),b.Z.registerVersion("angular",m.q4F.full,Ft.toString())}static initializeApp(Ft,rt){return{ngModule:Je,providers:[{provide:re,useValue:Ft},{provide:pe,useValue:rt}]}}}return Je.\u0275fac=function(Ft){return new(Ft||Je)(m.LFG(m.Lbi))},Je.\u0275mod=m.oAB({type:Je}),Je.\u0275inj=m.cJS({providers:[ue]}),Je})();function ze(Je,$e,Ft,rt,Oe){const[,ae,Me]=globalThis.\u0275AngularfireInstanceCache.find(_e=>_e[0]===Je)||[];if(ae)return function Re(Je,$e){try{return Je.toString()===$e.toString()}catch{return Je===$e}}(Oe,Me)||(Ye("error",`${$e} was already initialized on the ${Ft} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:Oe,was:Me})),ae;{const _e=rt();return globalThis.\u0275AngularfireInstanceCache.push([Je,_e,Oe]),_e}}const dt=!!hn.hot,Ye=(Je,...$e)=>{(0,m.X6Q)()&&typeof console<"u"&&console[Je](...$e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(hn,ft,D)=>{D.d(ft,{q4:()=>S,iC:()=>Pl,fc:()=>aa,HU:()=>sa,vb:()=>La,JM:()=>nr});var m=D(4650),b=D(5867),E=D(5861),M=D(9681),de=D(2090),be=D(4859),Fe=D(1877),re=D(8766);const pe="@firebase/installations",X="0.5.16",ue=`w:${X}`,Te="FIS_v2",$e=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ft(U){return U instanceof de.ZR&&U.code.includes("request-failed")}function rt({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function Oe(U){return{token:U.token,requestStatus:2,expiresIn:Ke(U.expiresIn),creationTime:Date.now()}}function ae(U,Y){return Me.apply(this,arguments)}function Me(){return(Me=(0,E.Z)(function*(U,Y){const nt=(yield Y.json()).error;return $e.create("request-failed",{requestName:U,serverCode:nt.code,serverMessage:nt.message,serverStatus:nt.status})})).apply(this,arguments)}function _e({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function fe(U,{refreshToken:Y}){const ge=_e(U);return ge.append("Authorization",function St(U){return`${Te} ${U}`}(Y)),ge}function Ge(U){return Se.apply(this,arguments)}function Se(){return(Se=(0,E.Z)(function*(U){const Y=yield U();return Y.status>=500&&Y.status<600?U():Y})).apply(this,arguments)}function Ke(U){return Number(U.replace("s","000"))}function yt(U,Y){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,E.Z)(function*({appConfig:U,heartbeatServiceProvider:Y},{fid:ge}){const nt=rt(U),Ht=_e(U),nn=Y.getImmediate({optional:!0});if(nn){const xi=yield nn.getHeartbeatsHeader();xi&&Ht.append("x-firebase-client",xi)}const Gn={method:"POST",headers:Ht,body:JSON.stringify({fid:ge,authVersion:Te,appId:U.appId,sdkVersion:ue})},vi=yield Ge(()=>fetch(nt,Gn));if(vi.ok){const xi=yield vi.json();return{fid:xi.fid||ge,registrationStatus:2,refreshToken:xi.refreshToken,authToken:Oe(xi.authToken)}}throw yield ae("Create Installation",vi)})).apply(this,arguments)}function Jt(U){return new Promise(Y=>{setTimeout(Y,U)})}const xt=/^[cdef][\w-]{21}$/;function ne(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const ge=function at(U){return function Sn(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return xt.test(ge)?ge:""}catch{return""}}function it(U){return`${U.appName}!${U.appId}`}const Bt=new Map;function Ce(U,Y){const ge=it(U);ve(ge,Y),function Ct(U,Y){const ge=function zt(){return!Lt&&"BroadcastChannel"in self&&(Lt=new BroadcastChannel("[Firebase] FID Change"),Lt.onmessage=U=>{ve(U.data.key,U.data.fid)}),Lt}();ge&&ge.postMessage({key:U,fid:Y}),function An(){0===Bt.size&&Lt&&(Lt.close(),Lt=null)}()}(ge,Y)}function ve(U,Y){const ge=Bt.get(U);if(ge)for(const nt of ge)nt(Y)}let Lt=null;const xn="firebase-installations-store";let ii=null;function ci(){return ii||(ii=(0,re.X3)("firebase-installations-database",1,{upgrade:(U,Y)=>{0===Y&&U.createObjectStore(xn)}})),ii}function Cn(U,Y){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,E.Z)(function*(U,Y){const ge=it(U),Ht=(yield ci()).transaction(xn,"readwrite"),nn=Ht.objectStore(xn),Dn=yield nn.get(ge);return yield nn.put(Y,ge),yield Ht.done,(!Dn||Dn.fid!==Y.fid)&&Ce(U,Y.fid),Y})).apply(this,arguments)}function ht(U){return j.apply(this,arguments)}function j(){return(j=(0,E.Z)(function*(U){const Y=it(U),nt=(yield ci()).transaction(xn,"readwrite");yield nt.objectStore(xn).delete(Y),yield nt.done})).apply(this,arguments)}function Z(U,Y){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,E.Z)(function*(U,Y){const ge=it(U),Ht=(yield ci()).transaction(xn,"readwrite"),nn=Ht.objectStore(xn),Dn=yield nn.get(ge),Gn=Y(Dn);return void 0===Gn?yield nn.delete(ge):yield nn.put(Gn,ge),yield Ht.done,Gn&&(!Dn||Dn.fid!==Gn.fid)&&Ce(U,Gn.fid),Gn})).apply(this,arguments)}function We(U){return De.apply(this,arguments)}function De(){return(De=(0,E.Z)(function*(U){let Y;const ge=yield Z(U.appConfig,nt=>{const Ht=z(nt),nn=ee(U,Ht);return Y=nn.registrationPromise,nn.installationEntry});return""===ge.fid?{installationEntry:yield Y}:{installationEntry:ge,registrationPromise:Y}})).apply(this,arguments)}function z(U){return un(U||{fid:ne(),registrationStatus:0})}function ee(U,Y){if(0===Y.registrationStatus){if(!navigator.onLine)return{installationEntry:Y,registrationPromise:Promise.reject($e.create("app-offline"))};const ge={fid:Y.fid,registrationStatus:1,registrationTime:Date.now()},nt=function qe(U,Y){return mt.apply(this,arguments)}(U,ge);return{installationEntry:ge,registrationPromise:nt}}return 1===Y.registrationStatus?{installationEntry:Y,registrationPromise:Pt(U)}:{installationEntry:Y}}function mt(){return(mt=(0,E.Z)(function*(U,Y){try{const ge=yield yt(U,Y);return Cn(U.appConfig,ge)}catch(ge){throw Ft(ge)&&409===ge.customData.serverCode?yield ht(U.appConfig):yield Cn(U.appConfig,{fid:Y.fid,registrationStatus:0}),ge}})).apply(this,arguments)}function Pt(U){return yn.apply(this,arguments)}function yn(){return(yn=(0,E.Z)(function*(U){let Y=yield qn(U.appConfig);for(;1===Y.registrationStatus;)yield Jt(100),Y=yield qn(U.appConfig);if(0===Y.registrationStatus){const{installationEntry:ge,registrationPromise:nt}=yield We(U);return nt||ge}return Y})).apply(this,arguments)}function qn(U){return Z(U,Y=>{if(!Y)throw $e.create("installation-not-found");return un(Y)})}function un(U){return function Wn(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function Tn(U,Y){return ui.apply(this,arguments)}function ui(){return(ui=(0,E.Z)(function*({appConfig:U,heartbeatServiceProvider:Y},ge){const nt=Nt(U,ge),Ht=fe(U,ge),nn=Y.getImmediate({optional:!0});if(nn){const xi=yield nn.getHeartbeatsHeader();xi&&Ht.append("x-firebase-client",xi)}const Gn={method:"POST",headers:Ht,body:JSON.stringify({installation:{sdkVersion:ue,appId:U.appId}})},vi=yield Ge(()=>fetch(nt,Gn));if(vi.ok)return Oe(yield vi.json());throw yield ae("Generate Auth Token",vi)})).apply(this,arguments)}function Nt(U,{fid:Y}){return`${rt(U)}/${Y}/authTokens:generate`}function _t(U){return ot.apply(this,arguments)}function ot(){return(ot=(0,E.Z)(function*(U,Y=!1){let ge;const nt=yield Z(U.appConfig,nn=>{if(!Rt(nn))throw $e.create("not-registered");const Dn=nn.authToken;if(!Y&&ke(Dn))return nn;if(1===Dn.requestStatus)return ge=Tt(U,Y),nn;{if(!navigator.onLine)throw $e.create("app-offline");const Gn=bt(nn);return ge=Ae(U,Gn),Gn}});return ge?yield ge:nt.authToken})).apply(this,arguments)}function Tt(U,Y){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,E.Z)(function*(U,Y){let ge=yield je(U.appConfig);for(;1===ge.authToken.requestStatus;)yield Jt(100),ge=yield je(U.appConfig);const nt=ge.authToken;return 0===nt.requestStatus?_t(U,Y):nt})).apply(this,arguments)}function je(U){return Z(U,Y=>{if(!Rt(Y))throw $e.create("not-registered");return function Xe(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(Y.authToken)?Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}}):Y})}function Ae(U,Y){return pt.apply(this,arguments)}function pt(){return(pt=(0,E.Z)(function*(U,Y){try{const ge=yield Tn(U,Y),nt=Object.assign(Object.assign({},Y),{authToken:ge});return yield Cn(U.appConfig,nt),ge}catch(ge){if(!Ft(ge)||401!==ge.customData.serverCode&&404!==ge.customData.serverCode){const nt=Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}});yield Cn(U.appConfig,nt)}else yield ht(U.appConfig);throw ge}})).apply(this,arguments)}function Rt(U){return void 0!==U&&2===U.registrationStatus}function ke(U){return 2===U.requestStatus&&!function He(U){const Y=Date.now();return Y<U.creationTime||U.creationTime+U.expiresIn<Y+36e5}(U)}function bt(U){const Y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:Y})}function Le(){return(Le=(0,E.Z)(function*(U){const Y=U,{installationEntry:ge,registrationPromise:nt}=yield We(Y);return nt?nt.catch(console.error):_t(Y).catch(console.error),ge.fid})).apply(this,arguments)}function pn(){return(pn=(0,E.Z)(function*(U,Y=!1){const ge=U;return yield zn(ge),(yield _t(ge,Y)).token})).apply(this,arguments)}function zn(U){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,E.Z)(function*(U){const{registrationPromise:Y}=yield We(U);Y&&(yield Y)})).apply(this,arguments)}function Ri(U){return $e.create("missing-app-config-values",{valueName:U})}const Hr="installations",Tr=U=>{const Y=U.getProvider("app").getImmediate(),ge=function pi(U){if(!U||!U.options)throw Ri("App Configuration");if(!U.name)throw Ri("App Name");const Y=["projectId","apiKey","appId"];for(const ge of Y)if(!U.options[ge])throw Ri(ge);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(Y);return{app:Y,appConfig:ge,heartbeatServiceProvider:(0,M._getProvider)(Y,"heartbeat"),_delete:()=>Promise.resolve()}},ts=U=>{const Y=U.getProvider("app").getImmediate(),ge=(0,M._getProvider)(Y,Hr).getImmediate();return{getId:()=>function oe(U){return Le.apply(this,arguments)}(ge),getToken:Ht=>function kt(U){return pn.apply(this,arguments)}(ge,Ht)}};(function As(){(0,M._registerComponent)(new be.wA(Hr,Tr,"PUBLIC")),(0,M._registerComponent)(new be.wA("installations-internal",ts,"PRIVATE"))})(),(0,M.registerVersion)(pe,X),(0,M.registerVersion)(pe,X,"esm2017");const jr="@firebase/remote-config",tr=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jt{constructor(Y,ge,nt,Ht){this.client=Y,this.storage=ge,this.storageCache=nt,this.logger=Ht}isCachedDataFresh(Y,ge){if(!ge)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const nt=Date.now()-ge,Ht=nt<=Y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${nt}. Cache max age millis (minimumFetchIntervalMillis setting): ${Y}. Is cache hit: ${Ht}.`),Ht}fetch(Y){var ge=this;return(0,E.Z)(function*(){const[nt,Ht]=yield Promise.all([ge.storage.getLastSuccessfulFetchTimestampMillis(),ge.storage.getLastSuccessfulFetchResponse()]);if(Ht&&ge.isCachedDataFresh(Y.cacheMaxAgeMillis,nt))return Ht;Y.eTag=Ht&&Ht.eTag;const nn=yield ge.client.fetch(Y),Dn=[ge.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===nn.status&&Dn.push(ge.storage.setLastSuccessfulFetchResponse(nn)),yield Promise.all(Dn),nn})()}}function Yt(U=navigator){return U.languages&&U.languages[0]||U.language}class Nn{constructor(Y,ge,nt,Ht,nn,Dn){this.firebaseInstallations=Y,this.sdkVersion=ge,this.namespace=nt,this.projectId=Ht,this.apiKey=nn,this.appId=Dn}fetch(Y){var ge=this;return(0,E.Z)(function*(){var nt,Ht,nn;const[Dn,Gn]=yield Promise.all([ge.firebaseInstallations.getId(),ge.firebaseInstallations.getToken()]),xi=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ge.projectId}/namespaces/${ge.namespace}:fetch?key=${ge.apiKey}`,Bi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Y.eTag||"*"},wi={sdk_version:ge.sdkVersion,app_instance_id:Dn,app_instance_id_token:Gn,app_id:ge.appId,language_code:Yt()},Qr={method:"POST",headers:Bi,body:JSON.stringify(wi)},Ps=fetch(xi,Qr),Ba=new Promise((yl,Dr)=>{Y.signal.addEventListener(()=>{const ro=new Error("The operation was aborted.");ro.name="AbortError",Dr(ro)})});let Gs;try{yield Promise.race([Ps,Ba]),Gs=yield Ps}catch(yl){let Dr="fetch-client-network";throw"AbortError"===(null===(nt=yl)||void 0===nt?void 0:nt.name)&&(Dr="fetch-timeout"),tr.create(Dr,{originalErrorMessage:null===(Ht=yl)||void 0===Ht?void 0:Ht.message})}let Va=Gs.status;const Rc=Gs.headers.get("ETag")||void 0;let la,gs;if(200===Gs.status){let yl;try{yl=yield Gs.json()}catch(Dr){throw tr.create("fetch-client-parse",{originalErrorMessage:null===(nn=Dr)||void 0===nn?void 0:nn.message})}la=yl.entries,gs=yl.state}if("INSTANCE_STATE_UNSPECIFIED"===gs?Va=500:"NO_CHANGE"===gs?Va=304:("NO_TEMPLATE"===gs||"EMPTY_CONFIG"===gs)&&(la={}),304!==Va&&200!==Va)throw tr.create("fetch-status",{httpStatus:Va});return{status:Va,eTag:Rc,config:la}})()}}class Dt{constructor(Y,ge){this.client=Y,this.storage=ge}fetch(Y){var ge=this;return(0,E.Z)(function*(){const nt=(yield ge.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ge.attemptFetch(Y,nt)})()}attemptFetch(Y,{throttleEndTimeMillis:ge,backoffCount:nt}){var Ht=this;return(0,E.Z)(function*(){yield function Mn(U,Y){return new Promise((ge,nt)=>{const Ht=Math.max(Y-Date.now(),0),nn=setTimeout(ge,Ht);U.addEventListener(()=>{clearTimeout(nn),nt(tr.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Y.signal,ge);try{const nn=yield Ht.client.fetch(Y);return yield Ht.storage.deleteThrottleMetadata(),nn}catch(nn){if(!function It(U){if(!(U instanceof de.ZR&&U.customData))return!1;const Y=Number(U.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(nn))throw nn;const Dn={throttleEndTimeMillis:Date.now()+(0,de.$s)(nt),backoffCount:nt+1};return yield Ht.storage.setThrottleMetadata(Dn),Ht.attemptFetch(Y,Dn)}})()}}class gn{constructor(Y,ge,nt,Ht,nn){this.app=Y,this._client=ge,this._storageCache=nt,this._storage=Ht,this._logger=nn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ln(U,Y){var ge;const nt=U.target.error||void 0;return tr.create(Y,{originalErrorMessage:nt&&(null===(ge=nt)||void 0===ge?void 0:ge.message)})}const fi="app_namespace_store";class Wr{constructor(Y,ge,nt,Ht=function fs(){return new Promise((U,Y)=>{var ge;try{const nt=indexedDB.open("firebase_remote_config",1);nt.onerror=Ht=>{Y(Ln(Ht,"storage-open"))},nt.onsuccess=Ht=>{U(Ht.target.result)},nt.onupgradeneeded=Ht=>{0===Ht.oldVersion&&Ht.target.result.createObjectStore(fi,{keyPath:"compositeKey"})}}catch(nt){Y(tr.create("storage-open",{originalErrorMessage:null===(ge=nt)||void 0===ge?void 0:ge.message}))}})}()){this.appId=Y,this.appName=ge,this.namespace=nt,this.openDbPromise=Ht}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Y){return this.set("last_fetch_status",Y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Y){return this.set("last_successful_fetch_timestamp_millis",Y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Y){return this.set("last_successful_fetch_response",Y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Y){return this.set("active_config",Y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Y){return this.set("active_config_etag",Y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Y){return this.set("throttle_metadata",Y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Y){var ge=this;return(0,E.Z)(function*(){const nt=yield ge.openDbPromise;return new Promise((Ht,nn)=>{var Dn;const vi=nt.transaction([fi],"readonly").objectStore(fi),xi=ge.createCompositeKey(Y);try{const Bi=vi.get(xi);Bi.onerror=wi=>{nn(Ln(wi,"storage-get"))},Bi.onsuccess=wi=>{const Qr=wi.target.result;Ht(Qr?Qr.value:void 0)}}catch(Bi){nn(tr.create("storage-get",{originalErrorMessage:null===(Dn=Bi)||void 0===Dn?void 0:Dn.message}))}})})()}set(Y,ge){var nt=this;return(0,E.Z)(function*(){const Ht=yield nt.openDbPromise;return new Promise((nn,Dn)=>{var Gn;const xi=Ht.transaction([fi],"readwrite").objectStore(fi),Bi=nt.createCompositeKey(Y);try{const wi=xi.put({compositeKey:Bi,value:ge});wi.onerror=Qr=>{Dn(Ln(Qr,"storage-set"))},wi.onsuccess=()=>{nn()}}catch(wi){Dn(tr.create("storage-set",{originalErrorMessage:null===(Gn=wi)||void 0===Gn?void 0:Gn.message}))}})})()}delete(Y){var ge=this;return(0,E.Z)(function*(){const nt=yield ge.openDbPromise;return new Promise((Ht,nn)=>{var Dn;const vi=nt.transaction([fi],"readwrite").objectStore(fi),xi=ge.createCompositeKey(Y);try{const Bi=vi.delete(xi);Bi.onerror=wi=>{nn(Ln(wi,"storage-delete"))},Bi.onsuccess=()=>{Ht()}}catch(Bi){nn(tr.create("storage-delete",{originalErrorMessage:null===(Dn=Bi)||void 0===Dn?void 0:Dn.message}))}})})()}createCompositeKey(Y){return[this.appId,this.appName,this.namespace,Y].join()}}class xs{constructor(Y){this.storage=Y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Y=this;return(0,E.Z)(function*(){const ge=Y.storage.getLastFetchStatus(),nt=Y.storage.getLastSuccessfulFetchTimestampMillis(),Ht=Y.storage.getActiveConfig(),nn=yield ge;nn&&(Y.lastFetchStatus=nn);const Dn=yield nt;Dn&&(Y.lastSuccessfulFetchTimestampMillis=Dn);const Gn=yield Ht;Gn&&(Y.activeConfig=Gn)})()}setLastFetchStatus(Y){return this.lastFetchStatus=Y,this.storage.setLastFetchStatus(Y)}setLastSuccessfulFetchTimestampMillis(Y){return this.lastSuccessfulFetchTimestampMillis=Y,this.storage.setLastSuccessfulFetchTimestampMillis(Y)}setActiveConfig(Y){return this.activeConfig=Y,this.storage.setActiveConfig(Y)}}function Oo(){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,E.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Zo(){(0,M._registerComponent)(new be.wA("remote-config",function U(Y,{instanceIdentifier:ge}){const nt=Y.getProvider("app").getImmediate(),Ht=Y.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tr.create("registration-window");if(!(0,de.hl)())throw tr.create("indexed-db-unavailable");const{projectId:nn,apiKey:Dn,appId:Gn}=nt.options;if(!nn)throw tr.create("registration-project-id");if(!Dn)throw tr.create("registration-api-key");if(!Gn)throw tr.create("registration-app-id");const vi=new Wr(Gn,nt.name,ge=ge||"firebase"),xi=new xs(vi),Bi=new Fe.Yd(jr);Bi.logLevel=Fe.in.ERROR;const wi=new Nn(Ht,M.SDK_VERSION,ge,nn,Dn,Gn),Qr=new Dt(wi,vi),Ps=new jt(Qr,vi,xi,Bi),Ba=new gn(nt,Ps,xi,vi,Bi);return function ki(U){const Y=(0,de.m9)(U);Y._initializePromise||(Y._initializePromise=Y._storageCache.loadFromStorage().then(()=>{Y._isInitializationComplete=!0}))}(Ba),Ba},"PUBLIC").setMultipleInstances(!0)),(0,M.registerVersion)(jr,"0.3.15"),(0,M.registerVersion)(jr,"0.3.15","esm2017")}();const Lr="/firebase-messaging-sw.js",Ys="/firebase-cloud-messaging-push-scope",To="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_a="google.c.a.c_id",mo="google.c.a.c_l",go="google.c.a.ts",Ls="google.c.a.e";var Os=(()=>{return(U=Os||(Os={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",Os;var U})();function ao(U){const Y=new Uint8Array(U);return btoa(String.fromCharCode(...Y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kr(U){const ge=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),nt=atob(ge),Ht=new Uint8Array(nt.length);for(let nn=0;nn<nt.length;++nn)Ht[nn]=nt.charCodeAt(nn);return Ht}const ct="fcm_token_details_db",G="fcm_token_object_Store";function me(U){return $t.apply(this,arguments)}function $t(){return $t=(0,E.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(nn=>nn.name).includes(ct))return null;let Y=null;return(yield(0,re.X3)(ct,5,{upgrade:(nt=(0,E.Z)(function*(Ht,nn,Dn,Gn){var vi;if(nn<2||!Ht.objectStoreNames.contains(G))return;const xi=Gn.objectStore(G),Bi=yield xi.index("fcmSenderId").get(U);if(yield xi.clear(),Bi)if(2===nn){const wi=Bi;if(!wi.auth||!wi.p256dh||!wi.endpoint)return;Y={token:wi.fcmToken,createTime:null!==(vi=wi.createTime)&&void 0!==vi?vi:Date.now(),subscriptionOptions:{auth:wi.auth,p256dh:wi.p256dh,endpoint:wi.endpoint,swScope:wi.swScope,vapidKey:"string"==typeof wi.vapidKey?wi.vapidKey:ao(wi.vapidKey)}}}else if(3===nn){const wi=Bi;Y={token:wi.fcmToken,createTime:wi.createTime,subscriptionOptions:{auth:ao(wi.auth),p256dh:ao(wi.p256dh),endpoint:wi.endpoint,swScope:wi.swScope,vapidKey:ao(wi.vapidKey)}}}else if(4===nn){const wi=Bi;Y={token:wi.fcmToken,createTime:wi.createTime,subscriptionOptions:{auth:ao(wi.auth),p256dh:ao(wi.p256dh),endpoint:wi.endpoint,swScope:wi.swScope,vapidKey:ao(wi.vapidKey)}}}}),function(nn,Dn,Gn,vi){return nt.apply(this,arguments)})})).close(),yield(0,re.Lj)(ct),yield(0,re.Lj)("fcm_vapid_details_db"),yield(0,re.Lj)("undefined"),fn(Y)?Y:null;var nt}),$t.apply(this,arguments)}function fn(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:Y}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof Y.auth&&Y.auth.length>0&&"string"==typeof Y.p256dh&&Y.p256dh.length>0&&"string"==typeof Y.endpoint&&Y.endpoint.length>0&&"string"==typeof Y.swScope&&Y.swScope.length>0&&"string"==typeof Y.vapidKey&&Y.vapidKey.length>0}const mi="firebase-messaging-store";let Di=null;function yi(){return Di||(Di=(0,re.X3)("firebase-messaging-database",1,{upgrade:(U,Y)=>{0===Y&&U.createObjectStore(mi)}})),Di}function kr(U){return os.apply(this,arguments)}function os(){return(os=(0,E.Z)(function*(U){const Y=as(U),nt=yield(yield yi()).transaction(mi).objectStore(mi).get(Y);if(nt)return nt;{const Ht=yield me(U.appConfig.senderId);if(Ht)return yield Yi(U,Ht),Ht}})).apply(this,arguments)}function Yi(U,Y){return cl.apply(this,arguments)}function cl(){return(cl=(0,E.Z)(function*(U,Y){const ge=as(U),Ht=(yield yi()).transaction(mi,"readwrite");return yield Ht.objectStore(mi).put(Y,ge),yield Ht.done,Y})).apply(this,arguments)}function Bs(U){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,E.Z)(function*(U){const Y=as(U),nt=(yield yi()).transaction(mi,"readwrite");yield nt.objectStore(mi).delete(Y),yield nt.done})).apply(this,arguments)}function as({appConfig:U}){return U.appId}const vr=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function di(U,Y){return lo.apply(this,arguments)}function lo(){return(lo=(0,E.Z)(function*(U,Y){var ge;const nt=yield ko(U),Ht=_n(Y),nn={method:"POST",headers:nt,body:JSON.stringify(Ht)};let Dn;try{Dn=yield(yield fetch(Zs(U.appConfig),nn)).json()}catch(Gn){throw vr.create("token-subscribe-failed",{errorInfo:null===(ge=Gn)||void 0===ge?void 0:ge.toString()})}if(Dn.error)throw vr.create("token-subscribe-failed",{errorInfo:Dn.error.message});if(!Dn.token)throw vr.create("token-subscribe-no-token");return Dn.token})).apply(this,arguments)}function qo(U,Y){return ya.apply(this,arguments)}function ya(){return(ya=(0,E.Z)(function*(U,Y){var ge;const nt=yield ko(U),Ht=_n(Y.subscriptionOptions),nn={method:"PATCH",headers:nt,body:JSON.stringify(Ht)};let Dn;try{Dn=yield(yield fetch(`${Zs(U.appConfig)}/${Y.token}`,nn)).json()}catch(Gn){throw vr.create("token-update-failed",{errorInfo:null===(ge=Gn)||void 0===ge?void 0:ge.toString()})}if(Dn.error)throw vr.create("token-update-failed",{errorInfo:Dn.error.message});if(!Dn.token)throw vr.create("token-update-no-token");return Dn.token})).apply(this,arguments)}function ul(U,Y){return to.apply(this,arguments)}function to(){return(to=(0,E.Z)(function*(U,Y){var ge;const Ht={method:"DELETE",headers:yield ko(U)};try{const Dn=yield(yield fetch(`${Zs(U.appConfig)}/${Y}`,Ht)).json();if(Dn.error)throw vr.create("token-unsubscribe-failed",{errorInfo:Dn.error.message})}catch(nn){throw vr.create("token-unsubscribe-failed",{errorInfo:null===(ge=nn)||void 0===ge?void 0:ge.toString()})}})).apply(this,arguments)}function Zs({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function ko(U){return va.apply(this,arguments)}function va(){return(va=(0,E.Z)(function*({appConfig:U,installations:Y}){const ge=yield Y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ge}`})})).apply(this,arguments)}function _n({p256dh:U,auth:Y,endpoint:ge,vapidKey:nt}){const Ht={web:{endpoint:ge,auth:Y,p256dh:U}};return nt!==To&&(Ht.web.applicationPubKey=nt),Ht}const Ii=6048e5;function Xl(U){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,E.Z)(function*(U){const Y=yield Xn(U.swRegistration,U.vapidKey),ge={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:Y.endpoint,auth:ao(Y.getKey("auth")),p256dh:ao(Y.getKey("p256dh"))},nt=yield kr(U.firebaseDependencies);if(nt){if(no(nt.subscriptionOptions,ge))return Date.now()>=nt.createTime+Ii?$(U,{token:nt.token,createTime:Date.now(),subscriptionOptions:ge}):nt.token;try{yield ul(U.firebaseDependencies,nt.token)}catch(Ht){console.warn(Ht)}return we(U.firebaseDependencies,ge)}return we(U.firebaseDependencies,ge)})).apply(this,arguments)}function Yr(U){return K.apply(this,arguments)}function K(){return(K=(0,E.Z)(function*(U){const Y=yield kr(U.firebaseDependencies);Y&&(yield ul(U.firebaseDependencies,Y.token),yield Bs(U.firebaseDependencies));const ge=yield U.swRegistration.pushManager.getSubscription();return!ge||ge.unsubscribe()})).apply(this,arguments)}function $(U,Y){return V.apply(this,arguments)}function V(){return(V=(0,E.Z)(function*(U,Y){try{const ge=yield qo(U.firebaseDependencies,Y),nt=Object.assign(Object.assign({},Y),{token:ge,createTime:Date.now()});return yield Yi(U.firebaseDependencies,nt),ge}catch(ge){throw yield Yr(U),ge}})).apply(this,arguments)}function we(U,Y){return tn.apply(this,arguments)}function tn(){return(tn=(0,E.Z)(function*(U,Y){const nt={token:yield di(U,Y),createTime:Date.now(),subscriptionOptions:Y};return yield Yi(U,nt),nt.token})).apply(this,arguments)}function Xn(U,Y){return pr.apply(this,arguments)}function pr(){return(pr=(0,E.Z)(function*(U,Y){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kr(Y)})})).apply(this,arguments)}function no(U,Y){return Y.vapidKey===U.vapidKey&&Y.endpoint===U.endpoint&&Y.auth===U.auth&&Y.p256dh===U.p256dh}function Rs(U){const Y={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function br(U,Y){if(!Y.notification)return;U.notification={};const ge=Y.notification.title;ge&&(U.notification.title=ge);const nt=Y.notification.body;nt&&(U.notification.body=nt);const Ht=Y.notification.image;Ht&&(U.notification.image=Ht);const nn=Y.notification.icon;nn&&(U.notification.icon=nn)}(Y,U),function Po(U,Y){!Y.data||(U.data=Y.data)}(Y,U),function Mr(U,Y){var ge,nt,Ht,nn,Dn;if(!(Y.fcmOptions||null!==(ge=Y.notification)&&void 0!==ge&&ge.click_action))return;U.fcmOptions={};const Gn=null!==(Ht=null===(nt=Y.fcmOptions)||void 0===nt?void 0:nt.link)&&void 0!==Ht?Ht:null===(nn=Y.notification)||void 0===nn?void 0:nn.click_action;Gn&&(U.fcmOptions.link=Gn);const vi=null===(Dn=Y.fcmOptions)||void 0===Dn?void 0:Dn.analytics_label;vi&&(U.fcmOptions.analyticsLabel=vi)}(Y,U),Y}function Ya(U){return"object"==typeof U&&!!U&&_a in U}function Xo(U,Y){const ge=[];for(let nt=0;nt<U.length;nt++)ge.push(U.charAt(nt)),nt<Y.length&&ge.push(Y.charAt(nt));return ge.join("")}function Cl(U){return vr.create("missing-app-config-values",{valueName:U})}Xo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dl{constructor(Y,ge,nt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ht=function Sc(U){if(!U||!U.options)throw Cl("App Configuration Object");if(!U.name)throw Cl("App Name");const Y=["projectId","apiKey","appId","messagingSenderId"],{options:ge}=U;for(const nt of Y)if(!ge[nt])throw Cl(nt);return{appName:U.name,projectId:ge.projectId,apiKey:ge.apiKey,appId:ge.appId,senderId:ge.messagingSenderId}}(Y);this.firebaseDependencies={app:Y,appConfig:Ht,installations:ge,analyticsProvider:nt}}_delete(){return Promise.resolve()}}function Dl(U){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,E.Z)(function*(U){var Y;try{U.swRegistration=yield navigator.serviceWorker.register(Lr,{scope:Ys}),U.swRegistration.update().catch(()=>{})}catch(ge){throw vr.create("failed-service-worker-registration",{browserErrorMessage:null===(Y=ge)||void 0===Y?void 0:Y.message})}})).apply(this,arguments)}function Ra(U,Y){return Za.apply(this,arguments)}function Za(){return(Za=(0,E.Z)(function*(U,Y){if(!Y&&!U.swRegistration&&(yield Dl(U)),Y||!U.swRegistration){if(!(Y instanceof ServiceWorkerRegistration))throw vr.create("invalid-sw-registration");U.swRegistration=Y}})).apply(this,arguments)}function _o(U,Y){return qs.apply(this,arguments)}function qs(){return(qs=(0,E.Z)(function*(U,Y){Y?U.vapidKey=Y:U.vapidKey||(U.vapidKey=To)})).apply(this,arguments)}function yo(){return(yo=(0,E.Z)(function*(U,Y){if(!navigator)throw vr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vr.create("permission-blocked");return yield _o(U,Y?.vapidKey),yield Ra(U,Y?.serviceWorkerRegistration),Xl(U)})).apply(this,arguments)}function Il(U,Y,ge){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,E.Z)(function*(U,Y,ge){const nt=Xa(Y);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(nt,{message_id:ge[_a],message_name:ge[mo],message_time:ge[go],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xa(U){switch(U){case Os.NOTIFICATION_CLICKED:return"notification_open";case Os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function te(){return(te=(0,E.Z)(function*(U,Y){const ge=Y.data;if(!ge.isFirebaseMessaging)return;U.onMessageHandler&&ge.messageType===Os.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(Rs(ge)):U.onMessageHandler.next(Rs(ge)));const nt=ge.data;Ya(nt)&&"1"===nt[Ls]&&(yield Il(U,ge.messageType,nt))})).apply(this,arguments)}const H="@firebase/messaging",vt=U=>{const Y=new dl(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ge=>function F(U,Y){return te.apply(this,arguments)}(Y,ge)),Y},Zt=U=>{const Y=U.getProvider("messaging").getImmediate();return{getToken:nt=>function qa(U,Y){return yo.apply(this,arguments)}(Y,nt)}};function ei(){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,E.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dn(){(0,M._registerComponent)(new be.wA("messaging",vt,"PUBLIC")),(0,M._registerComponent)(new be.wA("messaging-internal",Zt,"PRIVATE")),(0,M.registerVersion)(H,"0.11.0"),(0,M.registerVersion)(H,"0.11.0","esm2017")}();const Mo="analytics",ba="firebase_id",co="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",No="https://www.googletagmanager.com/gtag/js",_r=new Fe.Yd("@firebase/analytics");function Fo(U){return Promise.all(U.map(Y=>Y.catch(ge=>ge)))}function Jl(U,Y){const ge=document.createElement("script");ge.src=`${No}?l=${U}&id=${Y}`,ge.async=!0,document.head.appendChild(ge)}function io(U,Y,ge,nt,Ht,nn){return ec.apply(this,arguments)}function ec(){return(ec=(0,E.Z)(function*(U,Y,ge,nt,Ht,nn){const Dn=nt[Ht];try{if(Dn)yield Y[Dn];else{const vi=(yield Fo(ge)).find(xi=>xi.measurementId===Ht);vi&&(yield Y[vi.appId])}}catch(Gn){_r.error(Gn)}U("config",Ht,nn)})).apply(this,arguments)}function vs(U,Y,ge,nt,Ht){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,E.Z)(function*(U,Y,ge,nt,Ht){try{let nn=[];if(Ht&&Ht.send_to){let Dn=Ht.send_to;Array.isArray(Dn)||(Dn=[Dn]);const Gn=yield Fo(ge);for(const vi of Dn){const xi=Gn.find(wi=>wi.measurementId===vi),Bi=xi&&Y[xi.appId];if(!Bi){nn=[];break}nn.push(Bi)}}0===nn.length&&(nn=Object.values(Y)),yield Promise.all(nn),U("event",nt,Ht||{})}catch(nn){_r.error(nn)}})).apply(this,arguments)}function Qe(U){const Y=window.document.getElementsByTagName("script");for(const ge of Object.values(Y))if(ge.src&&ge.src.includes(No)&&ge.src.includes(U))return ge;return null}const Vr=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),On=new class nu{constructor(Y={},ge=1e3){this.throttleMetadata=Y,this.intervalMillis=ge}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,ge){this.throttleMetadata[Y]=ge}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function Ai(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function Ea(U){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,E.Z)(function*(U){var Y;const{appId:ge,apiKey:nt}=U,Ht={method:"GET",headers:Ai(nt)},nn=co.replace("{app-id}",ge),Dn=yield fetch(nn,Ht);if(200!==Dn.status&&304!==Dn.status){let Gn="";try{const vi=yield Dn.json();null!==(Y=vi.error)&&void 0!==Y&&Y.message&&(Gn=vi.error.message)}catch{}throw Vr.create("config-fetch-failed",{httpStatus:Dn.status,responseMessage:Gn})}return Dn.json()})).apply(this,arguments)}function si(U){return ai.apply(this,arguments)}function ai(){return(ai=(0,E.Z)(function*(U,Y=On,ge){const{appId:nt,apiKey:Ht,measurementId:nn}=U.options;if(!nt)throw Vr.create("no-app-id");if(!Ht){if(nn)return{measurementId:nn,appId:nt};throw Vr.create("no-api-key")}const Dn=Y.getThrottleMetadata(nt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Gn=new qr;return setTimeout((0,E.Z)(function*(){Gn.abort()}),void 0!==ge?ge:6e4),Mc({appId:nt,apiKey:Ht,measurementId:nn},Dn,Gn,Y)})).apply(this,arguments)}function Mc(U,Y,ge){return $n.apply(this,arguments)}function $n(){return($n=(0,E.Z)(function*(U,{throttleEndTimeMillis:Y,backoffCount:ge},nt,Ht=On){var nn,Dn;const{appId:Gn,measurementId:vi}=U;try{yield sn(nt,Y)}catch(xi){if(vi)return _r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vi} provided in the "measurementId" field in the local Firebase config. [${null===(nn=xi)||void 0===nn?void 0:nn.message}]`),{appId:Gn,measurementId:vi};throw xi}try{const xi=yield Ea(U);return Ht.deleteThrottleMetadata(Gn),xi}catch(xi){const Bi=xi;if(!wn(Bi)){if(Ht.deleteThrottleMetadata(Gn),vi)return _r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vi} provided in the "measurementId" field in the local Firebase config. [${Bi?.message}]`),{appId:Gn,measurementId:vi};throw xi}const wi=503===Number(null===(Dn=Bi?.customData)||void 0===Dn?void 0:Dn.httpStatus)?(0,de.$s)(ge,Ht.intervalMillis,30):(0,de.$s)(ge,Ht.intervalMillis),Qr={throttleEndTimeMillis:Date.now()+wi,backoffCount:ge+1};return Ht.setThrottleMetadata(Gn,Qr),_r.debug(`Calling attemptFetch again in ${wi} millis`),Mc(U,Qr,nt,Ht)}})).apply(this,arguments)}function sn(U,Y){return new Promise((ge,nt)=>{const Ht=Math.max(Y-Date.now(),0),nn=setTimeout(ge,Ht);U.addEventListener(()=>{clearTimeout(nn),nt(Vr.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}function wn(U){if(!(U instanceof de.ZR&&U.customData))return!1;const Y=Number(U.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}class qr{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}let hl,Ei;function tc(){return(tc=(0,E.Z)(function*(U,Y,ge,nt,Ht){if(Ht&&Ht.global)U("event",ge,nt);else{const nn=yield Y;U("event",ge,Object.assign(Object.assign({},nt),{send_to:nn}))}})).apply(this,arguments)}function Ar(U){Ei=U}function Pu(U){hl=U}function ls(){return gi.apply(this,arguments)}function gi(){return(gi=(0,E.Z)(function*(){var U;if(!(0,de.hl)())return _r.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(Y){return _r.warn(Vr.create("indexeddb-unavailable",{errorInfo:null===(U=Y)||void 0===U?void 0:U.toString()}).message),!1}return!0})).apply(this,arguments)}function $i(){return($i=(0,E.Z)(function*(U,Y,ge,nt,Ht,nn,Dn){var Gn;const vi=si(U);vi.then(Ps=>{ge[Ps.measurementId]=Ps.appId,U.options.measurementId&&Ps.measurementId!==U.options.measurementId&&_r.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${Ps.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ps=>_r.error(Ps)),Y.push(vi);const xi=ls().then(Ps=>{if(Ps)return nt.getId()}),[Bi,wi]=yield Promise.all([vi,xi]);Qe(nn)||Jl(nn,Bi.measurementId),Ei&&(Ht("consent","default",Ei),Ar(void 0)),Ht("js",new Date);const Qr=null!==(Gn=Dn?.config)&&void 0!==Gn?Gn:{};return Qr.origin="firebase",Qr.update=!0,null!=wi&&(Qr[ba]=wi),Ht("config",Bi.measurementId,Qr),hl&&(Ht("set",hl),Pu(void 0)),Bi.measurementId})).apply(this,arguments)}class Al{constructor(Y){this.app=Y}_delete(){return delete ji[this.app.options.appId],Promise.resolve()}}let ji={},jn=[];const Hs={};let Fa,ps,Bo="dataLayer",xl=!1;function iu(U,Y,ge){!function xc(){const U=[];if((0,de.ru)()&&U.push("This is a browser extension environment."),(0,de.zI)()||U.push("Cookies are not available."),U.length>0){const Y=U.map((nt,Ht)=>`(${Ht+1}) ${nt}`).join(" "),ge=Vr.create("invalid-analytics-context",{errorInfo:Y});_r.warn(ge.message)}}();const nt=U.options.appId;if(!nt)throw Vr.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw Vr.create("no-api-key");_r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ji[nt])throw Vr.create("already-exists",{id:nt});if(!xl){!function Tl(U){let Y=[];Array.isArray(window[U])?Y=window[U]:window[U]=Y}(Bo);const{wrappedGtag:nn,gtagCore:Dn}=function ea(U,Y,ge,nt,Ht){let nn=function(...Dn){window[nt].push(arguments)};return window[Ht]&&"function"==typeof window[Ht]&&(nn=window[Ht]),window[Ht]=function ka(U,Y,ge,nt){function nn(){return(nn=(0,E.Z)(function*(Dn,Gn,vi){try{"event"===Dn?yield vs(U,Y,ge,Gn,vi):"config"===Dn?yield io(U,Y,ge,nt,Gn,vi):"consent"===Dn?U("consent","update",vi):U("set",Gn)}catch(xi){_r.error(xi)}})).apply(this,arguments)}return function Ht(Dn,Gn,vi){return nn.apply(this,arguments)}}(nn,U,Y,ge),{gtagCore:nn,wrappedGtag:window[Ht]}}(ji,jn,Hs,Bo,"gtag");ps=nn,Fa=Dn,xl=!0}return ji[nt]=function pl(U,Y,ge,nt,Ht,nn,Dn){return $i.apply(this,arguments)}(U,jn,Hs,Y,Fa,Bo,ge),new Al(U)}function Xd(){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,E.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const ia="@firebase/analytics";!function ms(){(0,M._registerComponent)(new be.wA(Mo,(Y,{options:ge})=>iu(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),ge),"PUBLIC")),(0,M._registerComponent)(new be.wA("analytics-internal",function U(Y){try{const ge=Y.getProvider(Mo).getImmediate();return{logEvent:(nt,Ht,nn)=>function ml(U,Y,ge,nt){U=(0,de.m9)(U),function Ac(U,Y,ge,nt,Ht){return tc.apply(this,arguments)}(ps,ji[U.app.options.appId],Y,ge,nt).catch(Ht=>_r.error(Ht))}(ge,nt,Ht,nn)}}catch(ge){throw Vr.create("interop-component-reg-failed",{reason:ge})}},"PRIVATE")),(0,M.registerVersion)(ia,"0.8.4"),(0,M.registerVersion)(ia,"0.8.4","esm2017")}();var Uo=D(233),Rl=D(4986),kl=D(8505),A=D(5363),x=D(9468);const S=new m.GfV("7.5.0"),B="__angularfire_symbol__analyticsIsSupportedValue",W="__angularfire_symbol__analyticsIsSupported",he="__angularfire_symbol__remoteConfigIsSupportedValue",ut="__angularfire_symbol__remoteConfigIsSupported",et="__angularfire_symbol__messagingIsSupportedValue",Wt="__angularfire_symbol__messagingIsSupported";function nr(U,Y,ge){if(Y){if(1===Y.length)return Y[0];const nn=Y.filter(Dn=>Dn.app===ge);if(1===nn.length)return nn[0]}return ge.container.getProvider(U).getImmediate({optional:!0})}globalThis[W]||(globalThis[W]=Xd().then(U=>globalThis[B]=U).catch(()=>globalThis[B]=!1)),globalThis[Wt]||(globalThis[Wt]=ei().then(U=>globalThis[et]=U).catch(()=>globalThis[et]=!1)),globalThis[ut]||(globalThis[ut]=Oo().then(U=>globalThis[he]=U).catch(()=>globalThis[he]=!1));const La=(U,Y)=>{const ge=Y?[Y]:(0,b.C6)(),nt=[];return ge.forEach(Ht=>{Ht.container.getProvider(U).instances.forEach(Dn=>{nt.includes(Dn)||nt.push(Dn)})}),nt};function cs(){}class sr{constructor(Y,ge=Uo.N){this.zone=Y,this.delegate=ge}now(){return this.delegate.now()}schedule(Y,ge,nt){const Ht=this.zone;return this.delegate.schedule(function(Dn){Ht.runGuarded(()=>{Y.apply(this,[Dn])})},ge,nt)}}class ra{constructor(Y){this.zone=Y,this.task=null}call(Y,ge){const nt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)),ge.pipe((0,kl.b)({next:nt,complete:nt,error:nt})).subscribe(Y).add(nt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sa=(()=>{class U{constructor(ge){this.ngZone=ge,this.outsideAngular=ge.runOutsideAngular(()=>new sr(Zone.current)),this.insideAngular=ge.run(()=>new sr(Zone.current,Rl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ge){return new(ge||U)(m.LFG(m.R0b))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function oa(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function aa(U){return U.pipe((0,A.Q)(oa().outsideAngular))}function Pl(U){return oa(),function _l(U){return function(ge){return(ge=ge.lift(new ra(U.ngZone))).pipe((0,x.R)(U.outsideAngular),(0,A.Q)(U.insideAngular))}}(oa())(U)}},8247:(hn,ft,D)=>{D.d(ft,{$:()=>Zs,A:()=>se,B:()=>ze,G:()=>ts,H:()=>Sr,J:()=>Dt,L:()=>ke,M:()=>Ro,N:()=>eo,P:()=>B,Q:()=>_a,R:()=>Fu,T:()=>mo,U:()=>To,V:()=>Os,W:()=>ao,X:()=>me,Y:()=>ys,Z:()=>di,_:()=>qo,a:()=>Na,a0:()=>Xl,a1:()=>Yr,a2:()=>$,a3:()=>we,a4:()=>Xn,a5:()=>no,a6:()=>br,a7:()=>Po,a8:()=>Ya,a9:()=>Xo,aA:()=>He,aB:()=>Ps,aC:()=>Oc,aD:()=>Ca,aE:()=>Zn,aI:()=>Ai,aL:()=>Ls,aa:()=>Dl,ab:()=>Ra,ac:()=>_o,af:()=>Il,ag:()=>Xa,ah:()=>F,ak:()=>mi,al:()=>rr,an:()=>No,ao:()=>ec,ap:()=>Ge,aq:()=>Be,ar:()=>zn,as:()=>Ft,at:()=>vl,au:()=>ro,av:()=>Ne,aw:()=>rt,ax:()=>_e,ay:()=>la,az:()=>Ke,b:()=>Vr,c:()=>xr,d:()=>sr,e:()=>La,f:()=>ge,g:()=>vi,h:()=>nn,i:()=>gi,j:()=>wi,k:()=>tl,l:()=>Lu,m:()=>gp,o:()=>re,r:()=>Uo,s:()=>wa,u:()=>x});var m=D(5861),b=D(2090),E=D(9681),M=D(1877),de=D(655),be=D(4859);const re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ze=function ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Re=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new b.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new M.Yd("@firebase/auth");function $e(O,...v){Je.logLevel<=M.in.ERROR&&Je.error(`Auth (${E.SDK_VERSION}): ${O}`,...v)}function Ft(O,...v){throw Me(O,...v)}function rt(O,...v){return Me(O,...v)}function Oe(O,v,w){const P=Object.assign(Object.assign({},Re()),{[v]:w});return new b.LL("auth","Firebase",P).create(v,{appName:O.name})}function ae(O,v,w){if(!(v instanceof w))throw w.name!==v.constructor.name&&Ft(O,"argument-error"),Oe(O,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(O,...v){if("string"!=typeof O){const w=v[0],P=[...v.slice(1)];return P[0]&&(P[0].appName=O.name),O._errorFactory.create(w,...P)}return dt.create(O,...v)}function _e(O,v,...w){if(!O)throw Me(v,...w)}function fe(O){const v="INTERNAL ASSERTION FAILED: "+O;throw $e(v),new Error(v)}function Ge(O,v){O||fe(v)}const Se=new Map;function Ke(O){Ge(O instanceof Function,"Expected a class definition");let v=Se.get(O);return v?(Ge(v instanceof O,"Instance stored in cache mismatched with class"),v):(v=new O,Se.set(O,v),v)}function Qt(){var O;return typeof self<"u"&&(null===(O=self.location)||void 0===O?void 0:O.href)||""}function Jt(){return"http:"===Sn()||"https:"===Sn()}function Sn(){var O;return typeof self<"u"&&(null===(O=self.location)||void 0===O?void 0:O.protocol)||null}class ne{constructor(v,w){this.shortDelay=v,this.longDelay=w,Ge(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,b.uI)()||(0,b.b$)()}get(){return function xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jt()||(0,b.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function at(O,v){Ge(O.emulator,"Emulator should always be set here");const{url:w}=O.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class it{static initialize(v,w,P){this.fetchImpl=v,w&&(this.headersImpl=w),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ce=new ne(3e4,6e4);function st(O,v){return O.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:O.tenantId}):v}function xe(O,v,w,P){return ve.apply(this,arguments)}function ve(){return(ve=(0,m.Z)(function*(O,v,w,P,ce={}){return Ct(O,ce,(0,m.Z)(function*(){let Ve={},Kt={};P&&("GET"===v?Kt=P:Ve={body:JSON.stringify(P)});const vn=(0,b.xO)(Object.assign({key:O.config.apiKey},Kt)).slice(1),ri=yield O._getAdditionalHeaders();return ri["Content-Type"]="application/json",O.languageCode&&(ri["X-Firebase-Locale"]=O.languageCode),it.fetch()(Pn(O,O.config.apiHost,w,vn),Object.assign({method:v,headers:ri,referrerPolicy:"no-referrer"},Ve))}))})).apply(this,arguments)}function Ct(O,v,w){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,m.Z)(function*(O,v,w){O._canInitEmulator=!1;const P=Object.assign(Object.assign({},Bt),v);try{const ce=new Vn(O),Ve=yield Promise.race([w(),ce.promise]);ce.clearNetworkTimeout();const Kt=yield Ve.json();if("needConfirmation"in Kt)throw xn(O,"account-exists-with-different-credential",Kt);if(Ve.ok&&!("errorMessage"in Kt))return Kt;{const vn=Ve.ok?Kt.errorMessage:Kt.error.message,[ri,Ci]=vn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ri)throw xn(O,"credential-already-in-use",Kt);if("EMAIL_EXISTS"===ri)throw xn(O,"email-already-in-use",Kt);if("USER_DISABLED"===ri)throw xn(O,"user-disabled",Kt);const hi=P[ri]||ri.toLowerCase().replace(/[_\s]+/g,"-");if(Ci)throw Oe(O,hi,Ci);Ft(O,hi)}}catch(ce){if(ce instanceof b.ZR)throw ce;Ft(O,"network-request-failed")}})).apply(this,arguments)}function zt(O,v,w,P){return An.apply(this,arguments)}function An(){return(An=(0,m.Z)(function*(O,v,w,P,ce={}){const Ve=yield xe(O,v,w,P,ce);return"mfaPendingCredential"in Ve&&Ft(O,"multi-factor-auth-required",{_serverResponse:Ve}),Ve})).apply(this,arguments)}function Pn(O,v,w,P){const ce=`${v}${w}?${P}`;return O.config.emulator?at(O.config,ce):`${O.config.apiScheme}://${ce}`}class Vn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,P)=>{this.timer=setTimeout(()=>P(rt(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(O,v,w){const P={appName:O.name};w.email&&(P.email=w.email),w.phoneNumber&&(P.phoneNumber=w.phoneNumber);const ce=rt(O,v,P);return ce.customData._tokenResponse=w,ce}function ci(){return(ci=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Cn(O,v){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function ht(O,v){return j.apply(this,arguments)}function j(){return(j=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Z(O){if(O)try{const v=new Date(Number(O));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function De(){return(De=(0,m.Z)(function*(O,v=!1){const w=(0,b.m9)(O),P=yield w.getIdToken(v),ce=ee(P);_e(ce&&ce.exp&&ce.auth_time&&ce.iat,w.auth,"internal-error");const Ve="object"==typeof ce.firebase?ce.firebase:void 0,Kt=Ve?.sign_in_provider;return{claims:ce,token:P,authTime:Z(z(ce.auth_time)),issuedAtTime:Z(z(ce.iat)),expirationTime:Z(z(ce.exp)),signInProvider:Kt||null,signInSecondFactor:Ve?.sign_in_second_factor||null}})).apply(this,arguments)}function z(O){return 1e3*Number(O)}function ee(O){var v;const[w,P,ce]=O.split(".");if(void 0===w||void 0===P||void 0===ce)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const Ve=(0,b.tV)(P);return Ve?JSON.parse(Ve):($e("Failed to decode base64 JWT payload"),null)}catch(Ve){return $e("Caught error parsing JWT payload as JSON",null===(v=Ve)||void 0===v?void 0:v.toString()),null}}function mt(O,v){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(O,v,w=!1){if(w)return v;try{return yield v}catch(P){throw P instanceof b.ZR&&yn(P)&&O.auth.currentUser===O&&(yield O.auth.signOut()),P}})).apply(this,arguments)}function yn({code:O}){return"auth/user-disabled"===O||"auth/user-token-expired"===O}class qn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const ce=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,ce)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const P=this.getInterval(v);this.timerId=setTimeout((0,m.Z)(function*(){yield w.iteration()}),P)}iteration(){var v=this;return(0,m.Z)(function*(){var w;try{yield v.user.getIdToken(!0)}catch(P){return void("auth/network-request-failed"===(null===(w=P)||void 0===w?void 0:w.code)&&v.schedule(!0))}v.schedule()})()}}class un{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Z(this.lastLoginAt),this.creationTime=Z(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wn(O){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,m.Z)(function*(O){var v;const w=O.auth,P=yield O.getIdToken(),ce=yield mt(O,ht(w,{idToken:P}));_e(ce?.users.length,w,"internal-error");const Ve=ce.users[0];O._notifyReloadListener(Ve);const Kt=null!==(v=Ve.providerUserInfo)&&void 0!==v&&v.length?ot(Ve.providerUserInfo):[],vn=_t(O.providerData,Kt),hi=!!O.isAnonymous&&!(O.email&&Ve.passwordHash||vn?.length),Xr={uid:Ve.localId,displayName:Ve.displayName||null,photoURL:Ve.photoUrl||null,email:Ve.email||null,emailVerified:Ve.emailVerified||!1,phoneNumber:Ve.phoneNumber||null,tenantId:Ve.tenantId||null,providerData:vn,metadata:new un(Ve.createdAt,Ve.lastLoginAt),isAnonymous:hi};Object.assign(O,Xr)})).apply(this,arguments)}function Nt(){return(Nt=(0,m.Z)(function*(O){const v=(0,b.m9)(O);yield Wn(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function _t(O,v){return[...O.filter(P=>!v.some(ce=>ce.providerId===P.providerId)),...v]}function ot(O){return O.map(v=>{var{providerId:w}=v,P=(0,de._T)(v,["providerId"]);return{providerId:w,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}function Ue(){return(Ue=(0,m.Z)(function*(O,v){const w=yield Ct(O,{},(0,m.Z)(function*(){const P=(0,b.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:ce,apiKey:Ve}=O.config,Kt=Pn(O,ce,"/v1/token",`key=${Ve}`),vn=yield O._getAdditionalHeaders();return vn["Content-Type"]="application/x-www-form-urlencoded",it.fetch()(Kt,{method:"POST",headers:vn,body:P})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){_e(v.idToken,"internal-error"),_e(typeof v.idToken<"u","internal-error"),_e(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function qe(O){const v=ee(O);return _e(v,"internal-error"),_e(typeof v.exp<"u","internal-error"),_e(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var P=this;return(0,m.Z)(function*(){return _e(!P.accessToken||P.refreshToken,v,"user-token-expired"),w||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(v,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var P=this;return(0,m.Z)(function*(){const{accessToken:ce,refreshToken:Ve,expiresIn:Kt}=yield function Tt(O,v){return Ue.apply(this,arguments)}(v,w);P.updateTokensAndExpiration(ce,Ve,Number(Kt))})()}updateTokensAndExpiration(v,w,P){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(v,w){const{refreshToken:P,accessToken:ce,expirationTime:Ve}=w,Kt=new je;return P&&(_e("string"==typeof P,"internal-error",{appName:v}),Kt.refreshToken=P),ce&&(_e("string"==typeof ce,"internal-error",{appName:v}),Kt.accessToken=ce),Ve&&(_e("number"==typeof Ve,"internal-error",{appName:v}),Kt.expirationTime=Ve),Kt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new je,this.toJSON())}_performRefresh(){return fe("not implemented")}}function Ae(O,v){_e("string"==typeof O||typeof O>"u","internal-error",{appName:v})}class pt{constructor(v){var{uid:w,auth:P,stsTokenManager:ce}=v,Ve=(0,de._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=P,this.stsTokenManager=ce,this.accessToken=ce.accessToken,this.displayName=Ve.displayName||null,this.email=Ve.email||null,this.emailVerified=Ve.emailVerified||!1,this.phoneNumber=Ve.phoneNumber||null,this.photoURL=Ve.photoURL||null,this.isAnonymous=Ve.isAnonymous||!1,this.tenantId=Ve.tenantId||null,this.providerData=Ve.providerData?[...Ve.providerData]:[],this.metadata=new un(Ve.createdAt||void 0,Ve.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,m.Z)(function*(){const P=yield mt(w,w.stsTokenManager.getToken(w.auth,v));return _e(P,w.auth,"internal-error"),w.accessToken!==P&&(w.accessToken=P,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),P})()}getIdTokenResult(v){return function We(O){return De.apply(this,arguments)}(this,v)}reload(){return function ui(O){return Nt.apply(this,arguments)}(this)}_assign(v){this!==v&&(_e(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new pt(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var P=this;return(0,m.Z)(function*(){let ce=!1;v.idToken&&v.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(v),ce=!0),w&&(yield Wn(P)),yield P.auth._persistUserIfCurrent(P),ce&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var v=this;return(0,m.Z)(function*(){const w=yield v.getIdToken();return yield mt(v,function ii(O,v){return ci.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var P,ce,Ve,Kt,vn,ri,Ci,hi;const Xr=null!==(P=w.displayName)&&void 0!==P?P:void 0,Da=null!==(ce=w.email)&&void 0!==ce?ce:void 0,Fl=null!==(Ve=w.phoneNumber)&&void 0!==Ve?Ve:void 0,Uu=null!==(Kt=w.photoURL)&&void 0!==Kt?Kt:void 0,oc=null!==(vn=w.tenantId)&&void 0!==vn?vn:void 0,Hu=null!==(ri=w._redirectEventId)&&void 0!==ri?ri:void 0,oh=null!==(Ci=w.createdAt)&&void 0!==Ci?Ci:void 0,cu=null!==(hi=w.lastLoginAt)&&void 0!==hi?hi:void 0,{uid:da,emailVerified:df,isAnonymous:hf,providerData:wd,stsTokenManager:ac}=w;_e(da&&ac,v,"internal-error");const ah=je.fromJSON(this.name,ac);_e("string"==typeof da,v,"internal-error"),Ae(Xr,v.name),Ae(Da,v.name),_e("boolean"==typeof df,v,"internal-error"),_e("boolean"==typeof hf,v,"internal-error"),Ae(Fl,v.name),Ae(Uu,v.name),Ae(oc,v.name),Ae(Hu,v.name),Ae(oh,v.name),Ae(cu,v.name);const bp=new pt({uid:da,auth:v,email:Da,emailVerified:df,displayName:Xr,isAnonymous:hf,photoURL:Uu,phoneNumber:Fl,tenantId:oc,stsTokenManager:ah,createdAt:oh,lastLoginAt:cu});return wd&&Array.isArray(wd)&&(bp.providerData=wd.map(bs=>Object.assign({},bs))),Hu&&(bp._redirectEventId=Hu),bp}static _fromIdTokenResponse(v,w,P=!1){return(0,m.Z)(function*(){const ce=new je;ce.updateFromServerResponse(w);const Ve=new pt({uid:w.localId,auth:v,stsTokenManager:ce,isAnonymous:P});return yield Wn(Ve),Ve})()}}const ke=(()=>{class O{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(w,P){var ce=this;return(0,m.Z)(function*(){ce.storage[w]=P})()}_get(w){var P=this;return(0,m.Z)(function*(){const ce=P.storage[w];return void 0===ce?null:ce})()}_remove(w){var P=this;return(0,m.Z)(function*(){delete P.storage[w]})()}_addListener(w,P){}_removeListener(w,P){}}return O.type="NONE",O})();function He(O,v,w){return`firebase:${O}:${v}:${w}`}class bt{constructor(v,w,P){this.persistence=v,this.auth=w,this.userKey=P;const{config:ce,name:Ve}=this.auth;this.fullUserKey=He(this.userKey,ce.apiKey,Ve),this.fullPersistenceKey=He("persistence",ce.apiKey,Ve),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,m.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?pt._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,m.Z)(function*(){if(w.persistence===v)return;const P=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,P?w.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,P="authUser"){return(0,m.Z)(function*(){if(!w.length)return new bt(Ke(ke),v,P);const ce=(yield Promise.all(w.map(function(){var Ci=(0,m.Z)(function*(hi){if(yield hi._isAvailable())return hi});return function(hi){return Ci.apply(this,arguments)}}()))).filter(Ci=>Ci);let Ve=ce[0]||Ke(ke);const Kt=He(P,v.config.apiKey,v.name);let vn=null;for(const Ci of w)try{const hi=yield Ci._get(Kt);if(hi){const Xr=pt._fromJSON(v,hi);Ci!==Ve&&(vn=Xr),Ve=Ci;break}}catch{}const ri=ce.filter(Ci=>Ci._shouldAllowMigration);return Ve._shouldAllowMigration&&ri.length?(Ve=ri[0],vn&&(yield Ve._set(Kt,vn.toJSON())),yield Promise.all(w.map(function(){var Ci=(0,m.Z)(function*(hi){if(hi!==Ve)try{yield hi._remove(Kt)}catch{}});return function(hi){return Ci.apply(this,arguments)}}())),new bt(Ve,v,P)):new bt(Ve,v,P)})()}}function Xe(O){const v=O.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(pn(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(oe(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(Hn(v))return"Blackberry";if(Ze(v))return"Webos";if(Le(v))return"Safari";if((v.includes("chrome/")||kt(v))&&!v.includes("edge/"))return"Chrome";if(zn(v))return"Android";{const P=O.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===P?.length)return P[1]}return"Other"}function oe(O=(0,b.z$)()){return/firefox\//i.test(O)}function Le(O=(0,b.z$)()){const v=O.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function kt(O=(0,b.z$)()){return/crios\//i.test(O)}function pn(O=(0,b.z$)()){return/iemobile/i.test(O)}function zn(O=(0,b.z$)()){return/android/i.test(O)}function Hn(O=(0,b.z$)()){return/blackberry/i.test(O)}function Ze(O=(0,b.z$)()){return/webos/i.test(O)}function Be(O=(0,b.z$)()){return/iphone|ipad|ipod/i.test(O)||/macintosh/i.test(O)&&/mobile/i.test(O)}function Ne(O=(0,b.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(O)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(O)}function In(O=(0,b.z$)()){return Be(O)||zn(O)||Ze(O)||Hn(O)||/windows phone/i.test(O)||pn(O)}function pi(O,v=[]){let w;switch(O){case"Browser":w=Xe((0,b.z$)());break;case"Worker":w=`${Xe((0,b.z$)())}-${O}`;break;default:w=O}const P=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${E.SDK_VERSION}/${P}`}class Ri{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const P=Ve=>new Promise((Kt,vn)=>{try{Kt(v(Ve))}catch(ri){vn(ri)}});P.onAbort=w,this.queue.push(P);const ce=this.queue.length-1;return()=>{this.queue[ce]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,m.Z)(function*(){var P;if(w.auth.currentUser===v)return;const ce=[];try{for(const Ve of w.queue)yield Ve(v),Ve.onAbort&&ce.push(Ve.onAbort)}catch(Ve){ce.reverse();for(const Kt of ce)try{Kt()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:null===(P=Ve)||void 0===P?void 0:P.message})}})()}}class Hr{constructor(v,w,P){this.app=v,this.heartbeatServiceProvider=w,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tr(this),this.idTokenSubscription=new Tr(this),this.beforeStateQueue=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(v,w){var P=this;return w&&(this._popupRedirectResolver=Ke(w)),this._initializationPromise=this.queue((0,m.Z)(function*(){var ce,Ve;if(!P._deleted&&(P.persistenceManager=yield bt.create(P,v),!P._deleted)){if(null!==(ce=P._popupRedirectResolver)&&void 0!==ce&&ce._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(w),P.lastNotifiedUid=(null===(Ve=P.currentUser)||void 0===Ve?void 0:Ve.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,m.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,m.Z)(function*(){var P;const ce=yield w.assertedPersistence.getCurrentUser();let Ve=ce,Kt=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const vn=null===(P=w.redirectUser)||void 0===P?void 0:P._redirectEventId,ri=Ve?._redirectEventId,Ci=yield w.tryRedirectSignIn(v);(!vn||vn===ri)&&Ci?.user&&(Ve=Ci.user,Kt=!0)}if(!Ve)return w.directlySetCurrentUser(null);if(!Ve._redirectEventId){if(Kt)try{yield w.beforeStateQueue.runMiddleware(Ve)}catch(vn){Ve=ce,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(vn))}return Ve?w.reloadAndSetCurrentUserOrClear(Ve):w.directlySetCurrentUser(null)}return _e(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===Ve._redirectEventId?w.directlySetCurrentUser(Ve):w.reloadAndSetCurrentUserOrClear(Ve)})()}tryRedirectSignIn(v){var w=this;return(0,m.Z)(function*(){let P=null;try{P=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,m.Z)(function*(){var P;try{yield Wn(v)}catch(ce){if("auth/network-request-failed"!==(null===(P=ce)||void 0===P?void 0:P.code))return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function an(){if(typeof navigator>"u")return null;const O=navigator;return O.languages&&O.languages[0]||O.language||null}()}_delete(){var v=this;return(0,m.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,m.Z)(function*(){const P=v?(0,b.m9)(v):null;return P&&_e(P.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(P&&P._clone(w))})()}_updateCurrentUser(v,w=!1){var P=this;return(0,m.Z)(function*(){if(!P._deleted)return v&&_e(P.tenantId===v.tenantId,P,"tenant-id-mismatch"),w||(yield P.beforeStateQueue.runMiddleware(v)),P.queue((0,m.Z)(function*(){yield P.directlySetCurrentUser(v),P.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,m.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,m.Z)(function*(){yield w.assertedPersistence.setPersistence(Ke(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new b.LL("auth","Firebase",v())}onAuthStateChanged(v,w,P){return this.registerStateListener(this.authStateSubscription,v,w,P)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,P){return this.registerStateListener(this.idTokenSubscription,v,w,P)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var P=this;return(0,m.Z)(function*(){const ce=yield P.getOrInitRedirectPersistenceManager(w);return null===v?ce.removeCurrentUser():ce.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,m.Z)(function*(){if(!w.redirectPersistenceManager){const P=v&&Ke(v)||w._popupRedirectResolver;_e(P,w,"argument-error"),w.redirectPersistenceManager=yield bt.create(w,[Ke(P._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,m.Z)(function*(){var P,ce;return w._isInitialized&&(yield w.queue((0,m.Z)(function*(){}))),(null===(P=w._currentUser)||void 0===P?void 0:P._redirectEventId)===v?w._currentUser:(null===(ce=w.redirectUser)||void 0===ce?void 0:ce._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,m.Z)(function*(){if(v===w.currentUser)return w.queue((0,m.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,P,ce){if(this._deleted)return()=>{};const Ve="function"==typeof w?w:w.next.bind(w),Kt=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(Kt,this,"internal-error"),Kt.then(()=>Ve(this.currentUser)),"function"==typeof w?v.addObserver(w,P,ce):v.addObserver(w)}directlySetCurrentUser(v){var w=this;return(0,m.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=pi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,m.Z)(function*(){var w;const P={"X-Client-Version":v.clientVersion};v.app.options.appId&&(P["X-Firebase-gmpid"]=v.app.options.appId);const ce=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return ce&&(P["X-Firebase-Client"]=ce),P})()}}function Zn(O){return(0,b.m9)(O)}class Tr{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,b.ne)(w=>this.observer=w)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ts(O,v,w){const P=Zn(O);_e(P._canInitEmulator,P,"emulator-config-failed"),_e(/^https?:\/\//.test(v),P,"invalid-emulator-scheme");const ce=!!w?.disableWarnings,Ve=As(v),{host:Kt,port:vn}=function jr(O){const v=As(O),w=/(\/\/)?([^?#/]+)/.exec(O.substr(v.length));if(!w)return{host:"",port:null};const P=w[2].split("@").pop()||"",ce=/^(\[[^\]]+\])(:|$)/.exec(P);if(ce){const Ve=ce[1];return{host:Ve,port:zi(P.substr(Ve.length+1))}}{const[Ve,Kt]=P.split(":");return{host:Ve,port:zi(Kt)}}}(v);P.config.emulator={url:`${Ve}//${Kt}${null===vn?"":`:${vn}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:Kt,port:vn,protocol:Ve.replace(":",""),options:Object.freeze({disableWarnings:ce})}),ce||function us(){function O(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",O):O())}()}function As(O){const v=O.indexOf(":");return v<0?"":O.substr(0,v+1)}function zi(O){if(!O)return null;const v=Number(O);return isNaN(v)?null:v}class Sr{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return fe("not implemented")}_getIdTokenResponse(v){return fe("not implemented")}_linkToIdToken(v,w){return fe("not implemented")}_getReauthenticationResolver(v){return fe("not implemented")}}function fr(O,v){return tr.apply(this,arguments)}function tr(){return(tr=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:resetPassword",st(O,v))})).apply(this,arguments)}function ns(O,v){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Js(O,v){return zr.apply(this,arguments)}function zr(){return(zr=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:update",st(O,v))})).apply(this,arguments)}function rs(){return(rs=(0,m.Z)(function*(O,v){return zt(O,"POST","/v1/accounts:signInWithPassword",st(O,v))})).apply(this,arguments)}function Fr(O,v){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:sendOobCode",st(O,v))})).apply(this,arguments)}function ds(O,v){return ki.apply(this,arguments)}function ki(){return(ki=(0,m.Z)(function*(O,v){return Fr(O,v)})).apply(this,arguments)}function $s(O,v){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,m.Z)(function*(O,v){return Fr(O,v)})).apply(this,arguments)}function hs(O,v){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,m.Z)(function*(O,v){return Fr(O,v)})).apply(this,arguments)}function $r(O,v){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,m.Z)(function*(O,v){return Fr(O,v)})).apply(this,arguments)}function lt(){return(lt=(0,m.Z)(function*(O,v){return zt(O,"POST","/v1/accounts:signInWithEmailLink",st(O,v))})).apply(this,arguments)}function jt(){return(jt=(0,m.Z)(function*(O,v){return zt(O,"POST","/v1/accounts:signInWithEmailLink",st(O,v))})).apply(this,arguments)}class Yt extends Sr{constructor(v,w,P,ce=null){super("password",P),this._email=v,this._password=w,this._tenantId=ce}static _fromEmailAndPassword(v,w){return new Yt(v,w,"password")}static _fromEmailAndCode(v,w,P=null){return new Yt(v,w,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,m.Z)(function*(){switch(w.signInMethod){case"password":return function is(O,v){return rs.apply(this,arguments)}(v,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Rr(O,v){return lt.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:Ft(v,"internal-error")}})()}_linkToIdToken(v,w){var P=this;return(0,m.Z)(function*(){switch(P.signInMethod){case"password":return ns(v,{idToken:w,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function en(O,v){return jt.apply(this,arguments)}(v,{idToken:w,email:P._email,oobCode:P._password});default:Ft(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Nn(O,v){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*(O,v){return zt(O,"POST","/v1/accounts:signInWithIdp",st(O,v))})).apply(this,arguments)}class Dt extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const w=new Dt(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(w.idToken=v.idToken),v.accessToken&&(w.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(w.nonce=v.nonce),v.pendingToken&&(w.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(w.accessToken=v.oauthToken,w.secret=v.oauthTokenSecret):Ft("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v,{providerId:P,signInMethod:ce}=w,Ve=(0,de._T)(w,["providerId","signInMethod"]);if(!P||!ce)return null;const Kt=new Dt(P,ce);return Kt.idToken=Ve.idToken||void 0,Kt.accessToken=Ve.accessToken||void 0,Kt.secret=Ve.secret,Kt.nonce=Ve.nonce,Kt.pendingToken=Ve.pendingToken||null,Kt}_getIdTokenResponse(v){return Nn(v,this.buildRequest())}_linkToIdToken(v,w){const P=this.buildRequest();return P.idToken=w,Nn(v,P)}_getReauthenticationResolver(v){const w=this.buildRequest();return w.autoCreate=!1,Nn(v,w)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),v.postBody=(0,b.xO)(w)}return v}}function Vt(O,v){return ln.apply(this,arguments)}function ln(){return(ln=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:sendVerificationCode",st(O,v))})).apply(this,arguments)}function Ln(){return(Ln=(0,m.Z)(function*(O,v){return zt(O,"POST","/v1/accounts:signInWithPhoneNumber",st(O,v))})).apply(this,arguments)}function ir(){return(ir=(0,m.Z)(function*(O,v){const w=yield zt(O,"POST","/v1/accounts:signInWithPhoneNumber",st(O,v));if(w.temporaryProof)throw xn(O,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const Ui={USER_NOT_FOUND:"user-not-found"};function Wr(){return(Wr=(0,m.Z)(function*(O,v){return zt(O,"POST","/v1/accounts:signInWithPhoneNumber",st(O,Object.assign(Object.assign({},v),{operation:"REAUTH"})),Ui)})).apply(this,arguments)}class xs extends Sr{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,w){return new xs({verificationId:v,verificationCode:w})}static _fromTokenResponse(v,w){return new xs({phoneNumber:v,temporaryProof:w})}_getIdTokenResponse(v){return function gn(O,v){return Ln.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,w){return function fi(O,v){return ir.apply(this,arguments)}(v,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function fs(O,v){return Wr.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:w,verificationId:P,verificationCode:ce}=this.params;return v&&w?{temporaryProof:v,phoneNumber:w}:{sessionInfo:P,code:ce}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:w,verificationCode:P,phoneNumber:ce,temporaryProof:Ve}=v;return P||w||ce||Ve?new xs({verificationId:w,verificationCode:P,phoneNumber:ce,temporaryProof:Ve}):null}}class Fs{constructor(v){var w,P,ce,Ve,Kt,vn;const ri=(0,b.zd)((0,b.pd)(v)),Ci=null!==(w=ri.apiKey)&&void 0!==w?w:null,hi=null!==(P=ri.oobCode)&&void 0!==P?P:null,Xr=function Zo(O){switch(O){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ce=ri.mode)&&void 0!==ce?ce:null);_e(Ci&&hi&&Xr,"argument-error"),this.apiKey=Ci,this.operation=Xr,this.code=hi,this.continueUrl=null!==(Ve=ri.continueUrl)&&void 0!==Ve?Ve:null,this.languageCode=null!==(Kt=ri.languageCode)&&void 0!==Kt?Kt:null,this.tenantId=null!==(vn=ri.tenantId)&&void 0!==vn?vn:null}static parseLink(v){const w=function ss(O){const v=(0,b.zd)((0,b.pd)(O)).link,w=v?(0,b.zd)((0,b.pd)(v)).deep_link_id:null,P=(0,b.zd)((0,b.pd)(O)).deep_link_id;return(P?(0,b.zd)((0,b.pd)(P)).link:null)||P||w||v||O}(v);try{return new Fs(w)}catch{return null}}}let Ro=(()=>{class O{constructor(){this.providerId=O.PROVIDER_ID}static credential(w,P){return Yt._fromEmailAndPassword(w,P)}static credentialWithLink(w,P){const ce=Fs.parseLink(P);return _e(ce,"argument-error"),Yt._fromEmailAndCode(w,ce.code,ce.tenantId)}}return O.PROVIDER_ID="password",O.EMAIL_PASSWORD_SIGN_IN_METHOD="password",O.EMAIL_LINK_SIGN_IN_METHOD="emailLink",O})();class Lr{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Ys extends Lr{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class To extends Ys{static credentialFromJSON(v){const w="string"==typeof v?JSON.parse(v):v;return _e("providerId"in w&&"signInMethod"in w,"argument-error"),Dt._fromParams(w)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return _e(v.idToken||v.accessToken,"argument-error"),Dt._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return To.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return To.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:w,oauthAccessToken:P,oauthTokenSecret:ce,pendingToken:Ve,nonce:Kt,providerId:vn}=v;if(!P&&!ce&&!w&&!Ve||!vn)return null;try{return new To(vn)._credential({idToken:w,accessToken:P,nonce:Kt,pendingToken:Ve})}catch{return null}}}let eo=(()=>{class O extends Ys{constructor(){super("facebook.com")}static credential(w){return Dt._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return O.credentialFromTaggedObject(w)}static credentialFromError(w){return O.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return O.credential(w.oauthAccessToken)}catch{return null}}}return O.FACEBOOK_SIGN_IN_METHOD="facebook.com",O.PROVIDER_ID="facebook.com",O})(),_a=(()=>{class O extends Ys{constructor(){super("google.com"),this.addScope("profile")}static credential(w,P){return Dt._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:P})}static credentialFromResult(w){return O.credentialFromTaggedObject(w)}static credentialFromError(w){return O.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:P,oauthAccessToken:ce}=w;if(!P&&!ce)return null;try{return O.credential(P,ce)}catch{return null}}}return O.GOOGLE_SIGN_IN_METHOD="google.com",O.PROVIDER_ID="google.com",O})(),mo=(()=>{class O extends Ys{constructor(){super("github.com")}static credential(w){return Dt._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return O.credentialFromTaggedObject(w)}static credentialFromError(w){return O.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return O.credential(w.oauthAccessToken)}catch{return null}}}return O.GITHUB_SIGN_IN_METHOD="github.com",O.PROVIDER_ID="github.com",O})();class Ls extends Sr{constructor(v,w){super(v,v),this.pendingToken=w}_getIdTokenResponse(v){return Nn(v,this.buildRequest())}_linkToIdToken(v,w){const P=this.buildRequest();return P.idToken=w,Nn(v,P)}_getReauthenticationResolver(v){const w=this.buildRequest();return w.autoCreate=!1,Nn(v,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v,{providerId:P,signInMethod:ce,pendingToken:Ve}=w;return P&&ce&&Ve&&P===ce?new Ls(P,Ve):null}static _create(v,w){return new Ls(v,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Os extends Lr{constructor(v){_e(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return Os.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return Os.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const w=Ls.fromJSON(v);return _e(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:w,providerId:P}=v;if(!w||!P)return null;try{return Ls._create(P,w)}catch{return null}}}let ao=(()=>{class O extends Ys{constructor(){super("twitter.com")}static credential(w,P){return Dt._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:P})}static credentialFromResult(w){return O.credentialFromTaggedObject(w)}static credentialFromError(w){return O.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:P,oauthTokenSecret:ce}=w;if(!P||!ce)return null;try{return O.credential(P,ce)}catch{return null}}}return O.TWITTER_SIGN_IN_METHOD="twitter.com",O.PROVIDER_ID="twitter.com",O})();function Kr(O,v){return ct.apply(this,arguments)}function ct(){return(ct=(0,m.Z)(function*(O,v){return zt(O,"POST","/v1/accounts:signUp",st(O,v))})).apply(this,arguments)}class Mt{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,P,ce=!1){return(0,m.Z)(function*(){const Ve=yield pt._fromIdTokenResponse(v,P,ce),Kt=G(P);return new Mt({user:Ve,providerId:Kt,_tokenResponse:P,operationType:w})})()}static _forOperation(v,w,P){return(0,m.Z)(function*(){yield v._updateTokensIfNecessary(P,!0);const ce=G(P);return new Mt({user:v,providerId:ce,_tokenResponse:P,operationType:w})})()}}function G(O){return O.providerId?O.providerId:"phoneNumber"in O?"phone":null}function me(O){return $t.apply(this,arguments)}function $t(){return($t=(0,m.Z)(function*(O){var v;const w=Zn(O);if(yield w._initializationPromise,null!==(v=w.currentUser)&&void 0!==v&&v.isAnonymous)return new Mt({user:w.currentUser,providerId:null,operationType:"signIn"});const P=yield Kr(w,{returnSecureToken:!0}),ce=yield Mt._fromIdTokenResponse(w,"signIn",P,!0);return yield w._updateCurrentUser(ce.user),ce})).apply(this,arguments)}class fn extends b.ZR{constructor(v,w,P,ce){var Ve;super(w.code,w.message),this.operationType=P,this.user=ce,Object.setPrototypeOf(this,fn.prototype),this.customData={appName:v.name,tenantId:null!==(Ve=v.tenantId)&&void 0!==Ve?Ve:void 0,_serverResponse:w.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(v,w,P,ce){return new fn(v,w,P,ce)}}function Yn(O,v,w,P){return("reauthenticate"===v?w._getReauthenticationResolver(O):w._getIdTokenResponse(O)).catch(Ve=>{throw"auth/multi-factor-auth-required"===Ve.code?fn._fromErrorAndOperation(O,Ve,v,P):Ve})}function Bn(O){return new Set(O.map(({providerId:v})=>v).filter(v=>!!v))}function mi(O,v){return Di.apply(this,arguments)}function Di(){return(Di=(0,m.Z)(function*(O,v){const w=(0,b.m9)(O);yield os(!0,w,v);const{providerUserInfo:P}=yield Cn(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[v]}),ce=Bn(P||[]);return w.providerData=w.providerData.filter(Ve=>ce.has(Ve.providerId)),ce.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function yi(O,v){return kr.apply(this,arguments)}function kr(){return(kr=(0,m.Z)(function*(O,v,w=!1){const P=yield mt(O,v._linkToIdToken(O.auth,yield O.getIdToken()),w);return Mt._forOperation(O,"link",P)})).apply(this,arguments)}function os(O,v,w){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,m.Z)(function*(O,v,w){yield Wn(v);const ce=!1===O?"provider-already-linked":"no-such-provider";_e(Bn(v.providerData).has(w)===O,v.auth,ce)})).apply(this,arguments)}function cl(O,v){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,m.Z)(function*(O,v,w=!1){var P;const{auth:ce}=O,Ve="reauthenticate";try{const Kt=yield mt(O,Yn(ce,Ve,v,O),w);_e(Kt.idToken,ce,"internal-error");const vn=ee(Kt.idToken);_e(vn,ce,"internal-error");const{sub:ri}=vn;return _e(O.uid===ri,ce,"user-mismatch"),Mt._forOperation(O,Ve,Kt)}catch(Kt){throw"auth/user-not-found"===(null===(P=Kt)||void 0===P?void 0:P.code)&&Ft(ce,"user-mismatch"),Kt}})).apply(this,arguments)}function Vs(O,v){return as.apply(this,arguments)}function as(){return(as=(0,m.Z)(function*(O,v,w=!1){const P="signIn",ce=yield Yn(O,P,v),Ve=yield Mt._fromIdTokenResponse(O,P,ce);return w||(yield O._updateCurrentUser(Ve.user)),Ve})).apply(this,arguments)}function ys(O,v){return vr.apply(this,arguments)}function vr(){return(vr=(0,m.Z)(function*(O,v){return Vs(Zn(O),v)})).apply(this,arguments)}function di(O,v){return lo.apply(this,arguments)}function lo(){return(lo=(0,m.Z)(function*(O,v){const w=(0,b.m9)(O);return yield os(!1,w,v.providerId),yi(w,v)})).apply(this,arguments)}function qo(O,v){return ya.apply(this,arguments)}function ya(){return(ya=(0,m.Z)(function*(O,v){return cl((0,b.m9)(O),v)})).apply(this,arguments)}function ul(O,v){return to.apply(this,arguments)}function to(){return(to=(0,m.Z)(function*(O,v){return zt(O,"POST","/v1/accounts:signInWithCustomToken",st(O,v))})).apply(this,arguments)}function Zs(O,v){return ko.apply(this,arguments)}function ko(){return(ko=(0,m.Z)(function*(O,v){const w=Zn(O),P=yield ul(w,{token:v,returnSecureToken:!0}),ce=yield Mt._fromIdTokenResponse(w,"signIn",P);return yield w._updateCurrentUser(ce.user),ce})).apply(this,arguments)}class va{constructor(v,w){this.factorId=v,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(v,w){return"phoneInfo"in w?_n._fromServerResponse(v,w):Ft(v,"internal-error")}}class _n extends va{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,w){return new _n(w)}}function Ii(O,v,w){var P;_e((null===(P=w.url)||void 0===P?void 0:P.length)>0,O,"invalid-continue-uri"),_e(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,O,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(_e(w.iOS.bundleId.length>0,O,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(_e(w.android.packageName.length>0,O,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}function Xl(O,v,w){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O),ce={requestType:"PASSWORD_RESET",email:v};w&&Ii(P,ce,w),yield $s(P,ce)})).apply(this,arguments)}function Yr(O,v,w){return K.apply(this,arguments)}function K(){return(K=(0,m.Z)(function*(O,v,w){yield fr((0,b.m9)(O),{oobCode:v,newPassword:w})})).apply(this,arguments)}function $(O,v){return V.apply(this,arguments)}function V(){return(V=(0,m.Z)(function*(O,v){yield Js((0,b.m9)(O),{oobCode:v})})).apply(this,arguments)}function we(O,v){return tn.apply(this,arguments)}function tn(){return(tn=(0,m.Z)(function*(O,v){const w=(0,b.m9)(O),P=yield fr(w,{oobCode:v}),ce=P.requestType;switch(_e(ce,w,"internal-error"),ce){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_e(P.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_e(P.mfaInfo,w,"internal-error");default:_e(P.email,w,"internal-error")}let Ve=null;return P.mfaInfo&&(Ve=va._fromServerResponse(Zn(w),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:Ve},operation:ce}})).apply(this,arguments)}function Xn(O,v){return pr.apply(this,arguments)}function pr(){return(pr=(0,m.Z)(function*(O,v){const{data:w}=yield we((0,b.m9)(O),v);return w.email})).apply(this,arguments)}function no(O,v,w){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,m.Z)(function*(O,v,w){const P=Zn(O),ce=yield Kr(P,{returnSecureToken:!0,email:v,password:w}),Ve=yield Mt._fromIdTokenResponse(P,"signIn",ce);return yield P._updateCurrentUser(Ve.user),Ve})).apply(this,arguments)}function br(O,v,w){return ys((0,b.m9)(O),Ro.credential(v,w))}function Po(O,v,w){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O),ce={requestType:"EMAIL_SIGNIN",email:v};_e(w.handleCodeInApp,P,"argument-error"),w&&Ii(P,ce,w),yield hs(P,ce)})).apply(this,arguments)}function Ya(O,v){return"EMAIL_SIGNIN"===Fs.parseLink(v)?.operation}function Xo(O,v,w){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O),ce=Ro.credentialWithLink(v,w||Qt());return _e(ce._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),ys(P,ce)})).apply(this,arguments)}function Cl(O,v){return dl.apply(this,arguments)}function dl(){return(dl=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:createAuthUri",st(O,v))})).apply(this,arguments)}function Dl(O,v){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,m.Z)(function*(O,v){const P={identifier:v,continueUri:Jt()?Qt():"http://localhost"},{signinMethods:ce}=yield Cl((0,b.m9)(O),P);return ce||[]})).apply(this,arguments)}function Ra(O,v){return Za.apply(this,arguments)}function Za(){return(Za=(0,m.Z)(function*(O,v){const w=(0,b.m9)(O),ce={requestType:"VERIFY_EMAIL",idToken:yield O.getIdToken()};v&&Ii(w.auth,ce,v);const{email:Ve}=yield ds(w.auth,ce);Ve!==O.email&&(yield O.reload())})).apply(this,arguments)}function _o(O,v,w){return qs.apply(this,arguments)}function qs(){return(qs=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O),Ve={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield O.getIdToken(),newEmail:v};w&&Ii(P.auth,Ve,w);const{email:Kt}=yield $r(P.auth,Ve);Kt!==O.email&&(yield O.reload())})).apply(this,arguments)}function qa(O,v){return yo.apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(O,v){return xe(O,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Il(O,v){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,m.Z)(function*(O,{displayName:v,photoURL:w}){if(void 0===v&&void 0===w)return;const P=(0,b.m9)(O),Ve={idToken:yield P.getIdToken(),displayName:v,photoUrl:w,returnSecureToken:!0},Kt=yield mt(P,qa(P.auth,Ve));P.displayName=Kt.displayName||null,P.photoURL=Kt.photoUrl||null;const vn=P.providerData.find(({providerId:ri})=>"password"===ri);vn&&(vn.displayName=P.displayName,vn.photoURL=P.photoURL),yield P._updateTokensIfNecessary(Kt)})).apply(this,arguments)}function Xa(O,v){return te((0,b.m9)(O),v,null)}function F(O,v){return te((0,b.m9)(O),null,v)}function te(O,v,w){return H.apply(this,arguments)}function H(){return(H=(0,m.Z)(function*(O,v,w){const{auth:P}=O,Ve={idToken:yield O.getIdToken(),returnSecureToken:!0};v&&(Ve.email=v),w&&(Ve.password=w);const Kt=yield mt(O,ns(P,Ve));yield O._updateTokensIfNecessary(Kt,!0)})).apply(this,arguments)}class vt{constructor(v,w,P={}){this.isNewUser=v,this.providerId=w,this.profile=P}}class Zt extends vt{constructor(v,w,P,ce){super(v,w,P),this.username=ce}}class dn extends vt{constructor(v,w){super(v,"facebook.com",w)}}class ei extends Zt{constructor(v,w){super(v,"github.com",w,"string"==typeof w?.login?w?.login:null)}}class Ji extends vt{constructor(v,w){super(v,"google.com",w)}}class Zi extends Zt{constructor(v,w,P){super(v,"twitter.com",w,P)}}function rr(O){const{user:v,_tokenResponse:w}=O;return v.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function ye(O){var v,w;if(!O)return null;const{providerId:P}=O,ce=O.rawUserInfo?JSON.parse(O.rawUserInfo):{},Ve=O.isNewUser||"identitytoolkit#SignupNewUserResponse"===O.kind;if(!P&&O?.idToken){const Kt=null===(w=null===(v=ee(O.idToken))||void 0===v?void 0:v.firebase)||void 0===w?void 0:w.sign_in_provider;if(Kt)return new vt(Ve,"anonymous"!==Kt&&"custom"!==Kt?Kt:null)}if(!P)return null;switch(P){case"facebook.com":return new dn(Ve,ce);case"github.com":return new ei(Ve,ce);case"google.com":return new Ji(Ve,ce);case"twitter.com":return new Zi(Ve,ce,O.screenName||null);case"custom":case"anonymous":return new vt(Ve,null);default:return new vt(Ve,P,ce)}}(w)}class wr{constructor(v,w,P){this.type=v,this.credential=w,this.auth=P}static _fromIdtoken(v,w){return new wr("enroll",v,w)}static _fromMfaPendingCredential(v){return new wr("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var w,P;if(v?.multiFactorSession){if(null!==(w=v.multiFactorSession)&&void 0!==w&&w.pendingCredential)return wr._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(P=v.multiFactorSession)&&void 0!==P&&P.idToken)return wr._fromIdtoken(v.multiFactorSession.idToken)}return null}}class co{constructor(v,w,P){this.session=v,this.hints=w,this.signInResolver=P}static _fromError(v,w){const P=Zn(v),ce=w.customData._serverResponse,Ve=(ce.mfaInfo||[]).map(vn=>va._fromServerResponse(P,vn));_e(ce.mfaPendingCredential,P,"internal-error");const Kt=wr._fromMfaPendingCredential(ce.mfaPendingCredential);return new co(Kt,Ve,function(){var vn=(0,m.Z)(function*(ri){const Ci=yield ri._process(P,Kt);delete ce.mfaInfo,delete ce.mfaPendingCredential;const hi=Object.assign(Object.assign({},ce),{idToken:Ci.idToken,refreshToken:Ci.refreshToken});switch(w.operationType){case"signIn":const Xr=yield Mt._fromIdTokenResponse(P,w.operationType,hi);return yield P._updateCurrentUser(Xr.user),Xr;case"reauthenticate":return _e(w.user,P,"internal-error"),Mt._forOperation(w.user,w.operationType,hi);default:Ft(P,"internal-error")}});return function(ri){return vn.apply(this,arguments)}}())}resolveSignIn(v){var w=this;return(0,m.Z)(function*(){return w.signInResolver(v)})()}}function No(O,v){var w;const P=(0,b.m9)(O),ce=v;return _e(v.customData.operationType,P,"argument-error"),_e(null===(w=ce.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,P,"argument-error"),co._fromError(P,ce)}function _r(O,v){return xe(O,"POST","/v2/accounts/mfaEnrollment:start",st(O,v))}class Tl{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(P=>va._fromServerResponse(v.auth,P)))})}static _fromUser(v){return new Tl(v)}getSession(){var v=this;return(0,m.Z)(function*(){return wr._fromIdtoken(yield v.user.getIdToken(),v.user.auth)})()}enroll(v,w){var P=this;return(0,m.Z)(function*(){const ce=v,Ve=yield P.getSession(),Kt=yield mt(P.user,ce._process(P.user.auth,Ve,w));return yield P.user._updateTokensIfNecessary(Kt),P.user.reload()})()}unenroll(v){var w=this;return(0,m.Z)(function*(){var P;const ce="string"==typeof v?v:v.uid,Ve=yield w.user.getIdToken(),Kt=yield mt(w.user,function Jl(O,v){return xe(O,"POST","/v2/accounts/mfaEnrollment:withdraw",st(O,v))}(w.user.auth,{idToken:Ve,mfaEnrollmentId:ce}));w.enrolledFactors=w.enrolledFactors.filter(({uid:vn})=>vn!==ce),yield w.user._updateTokensIfNecessary(Kt);try{yield w.user.reload()}catch(vn){if("auth/user-token-expired"!==(null===(P=vn)||void 0===P?void 0:P.code))throw vn}})()}}const io=new WeakMap;function ec(O){const v=(0,b.m9)(O);return io.has(v)||io.set(v,Tl._fromUser(v)),io.get(v)}const vs="__sak";class Sl{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(vs,"1"),this.storage.removeItem(vs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vr=(()=>{class O extends Sl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,P)=>this.onStorageEvent(w,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ka(){const O=(0,b.z$)();return Le(O)||Be(O)}()&&function li(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=In(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const P of Object.keys(this.listeners)){const ce=this.storage.getItem(P),Ve=this.localCache[P];ce!==Ve&&w(P,Ve,ce)}}onStorageEvent(w,P=!1){if(!w.key)return void this.forAllChangedKeys((vn,ri,Ci)=>{this.notifyListeners(vn,Ci)});const ce=w.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vn=this.storage.getItem(ce);if(w.newValue!==vn)null!==w.newValue?this.storage.setItem(ce,w.newValue):this.storage.removeItem(ce);else if(this.localCache[ce]===w.newValue&&!P)return}const Ve=()=>{const vn=this.storage.getItem(ce);!P&&this.localCache[ce]===vn||this.notifyListeners(ce,vn)},Kt=this.storage.getItem(ce);!function Ut(){return(0,b.w1)()&&10===document.documentMode}()||Kt===w.newValue||w.newValue===w.oldValue?Ve():setTimeout(Ve,10)}notifyListeners(w,P){this.localCache[w]=P;const ce=this.listeners[w];if(ce)for(const Ve of Array.from(ce))Ve(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,P,ce)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:P,newValue:ce}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(P)}_removeListener(w,P){this.listeners[w]&&(this.listeners[w].delete(P),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,P){var ce=()=>super._set,Ve=this;return(0,m.Z)(function*(){yield ce().call(Ve,w,P),Ve.localCache[w]=JSON.stringify(P)})()}_get(w){var P=()=>super._get,ce=this;return(0,m.Z)(function*(){const Ve=yield P().call(ce,w);return ce.localCache[w]=JSON.stringify(Ve),Ve})()}_remove(w){var P=()=>super._remove,ce=this;return(0,m.Z)(function*(){yield P().call(ce,w),delete ce.localCache[w]})()}}return O.type="LOCAL",O})(),Na=(()=>{class O extends Sl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,P){}_removeListener(w,P){}}return O.type="SESSION",O})();let On=(()=>{class O{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const P=this.receivers.find(Ve=>Ve.isListeningto(w));if(P)return P;const ce=new O(w);return this.receivers.push(ce),ce}isListeningto(w){return this.eventTarget===w}handleEvent(w){var P=this;return(0,m.Z)(function*(){const ce=w,{eventId:Ve,eventType:Kt,data:vn}=ce.data,ri=P.handlersMap[Kt];if(!ri?.size)return;ce.ports[0].postMessage({status:"ack",eventId:Ve,eventType:Kt});const Ci=Array.from(ri).map(function(){var Xr=(0,m.Z)(function*(Da){return Da(ce.origin,vn)});return function(Da){return Xr.apply(this,arguments)}}()),hi=yield function nu(O){return Promise.all(O.map(function(){var v=(0,m.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(P){return{fulfilled:!1,reason:P}}});return function(w){return v.apply(this,arguments)}}()))}(Ci);ce.ports[0].postMessage({status:"done",eventId:Ve,eventType:Kt,response:hi})})()}_subscribe(w,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(P)}_unsubscribe(w,P){this.handlersMap[w]&&P&&this.handlersMap[w].delete(P),(!P||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return O.receivers=[],O})();function Ai(O="",v=10){let w="";for(let P=0;P<v;P++)w+=Math.floor(10*Math.random());return O+w}class Ea{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,P=50){var ce=this;return(0,m.Z)(function*(){const Ve=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ve)throw new Error("connection_unavailable");let Kt,vn;return new Promise((ri,Ci)=>{const hi=Ai("",20);Ve.port1.start();const Xr=setTimeout(()=>{Ci(new Error("unsupported_event"))},P);vn={messageChannel:Ve,onMessage(Da){const Fl=Da;if(Fl.data.eventId===hi)switch(Fl.data.status){case"ack":clearTimeout(Xr),Kt=setTimeout(()=>{Ci(new Error("timeout"))},3e3);break;case"done":clearTimeout(Kt),ri(Fl.data.response);break;default:clearTimeout(Xr),clearTimeout(Kt),Ci(new Error("invalid_response"))}}},ce.handlers.add(vn),Ve.port1.addEventListener("message",vn.onMessage),ce.target.postMessage({eventType:v,eventId:hi,data:w},[Ve.port2])}).finally(()=>{vn&&ce.removeMessageHandler(vn)})})()}}function Cr(){return window}function ai(){return typeof Cr().WorkerGlobalScope<"u"&&"function"==typeof Cr().importScripts}function $n(){return($n=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qr="firebaseLocalStorageDb",Ac="firebaseLocalStorage",tc="fbase_key";class fl{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Ja(O,v){return O.transaction([Ac],v?"readwrite":"readonly").objectStore(Ac)}function Ml(){const O=indexedDB.open(qr,1);return new Promise((v,w)=>{O.addEventListener("error",()=>{w(O.error)}),O.addEventListener("upgradeneeded",()=>{const P=O.result;try{P.createObjectStore(Ac,{keyPath:tc})}catch(ce){w(ce)}}),O.addEventListener("success",(0,m.Z)(function*(){const P=O.result;P.objectStoreNames.contains(Ac)?v(P):(P.close(),yield function ks(){const O=indexedDB.deleteDatabase(qr);return new fl(O).toPromise()}(),v(yield Ml()))}))})}function ta(O,v,w){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,m.Z)(function*(O,v,w){const P=Ja(O,!0).put({[tc]:v,value:w});return new fl(P).toPromise()})).apply(this,arguments)}function na(){return(na=(0,m.Z)(function*(O,v){const w=Ja(O,!1).get(v),P=yield new fl(w).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function Ei(O,v){const w=Ja(O,!0).delete(v);return new fl(w).toPromise()}const gi=(()=>{class O{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,m.Z)(function*(){return w.db||(w.db=yield Ml()),w.db})()}_withRetries(w){var P=this;return(0,m.Z)(function*(){let ce=0;for(;;)try{const Ve=yield P._openDb();return yield w(Ve)}catch(Ve){if(ce++>3)throw Ve;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,m.Z)(function*(){return ai()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,m.Z)(function*(){w.receiver=On._getInstance(function wn(){return ai()?self:null}()),w.receiver._subscribe("keyChanged",function(){var P=(0,m.Z)(function*(ce,Ve){return{keyProcessed:(yield w._poll()).includes(Ve.key)}});return function(ce,Ve){return P.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var P=(0,m.Z)(function*(ce,Ve){return["keyChanged"]});return function(ce,Ve){return P.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,m.Z)(function*(){var P,ce;if(w.activeServiceWorker=yield function Mc(){return $n.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new Ea(w.activeServiceWorker);const Ve=yield w.sender._send("ping",{},800);!Ve||(null===(P=Ve[0])||void 0===P?void 0:P.fulfilled)&&(null===(ce=Ve[0])||void 0===ce?void 0:ce.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var P=this;return(0,m.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function sn(){var O;return(null===(O=navigator?.serviceWorker)||void 0===O?void 0:O.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:w},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Ml();return yield ta(w,vs,"1"),yield Ei(w,vs),!0}catch{}return!1})()}_withPendingWrite(w){var P=this;return(0,m.Z)(function*(){P.pendingWrites++;try{yield w()}finally{P.pendingWrites--}})()}_set(w,P){var ce=this;return(0,m.Z)(function*(){return ce._withPendingWrite((0,m.Z)(function*(){return yield ce._withRetries(Ve=>ta(Ve,w,P)),ce.localCache[w]=P,ce.notifyServiceWorker(w)}))})()}_get(w){var P=this;return(0,m.Z)(function*(){const ce=yield P._withRetries(Ve=>function nc(O,v){return na.apply(this,arguments)}(Ve,w));return P.localCache[w]=ce,ce})()}_remove(w){var P=this;return(0,m.Z)(function*(){return P._withPendingWrite((0,m.Z)(function*(){return yield P._withRetries(ce=>Ei(ce,w)),delete P.localCache[w],P.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,m.Z)(function*(){const P=yield w._withRetries(Kt=>{const vn=Ja(Kt,!1).getAll();return new fl(vn).toPromise()});if(!P)return[];if(0!==w.pendingWrites)return[];const ce=[],Ve=new Set;for(const{fbase_key:Kt,value:vn}of P)Ve.add(Kt),JSON.stringify(w.localCache[Kt])!==JSON.stringify(vn)&&(w.notifyListeners(Kt,vn),ce.push(Kt));for(const Kt of Object.keys(w.localCache))w.localCache[Kt]&&!Ve.has(Kt)&&(w.notifyListeners(Kt,null),ce.push(Kt));return ce})()}notifyListeners(w,P){this.localCache[w]=P;const ce=this.listeners[w];if(ce)for(const Ve of Array.from(ce))Ve(P)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(P)}_removeListener(w,P){this.listeners[w]&&(this.listeners[w].delete(P),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return O.type="LOCAL",O})();function pl(O,v){return xe(O,"POST","/v2/accounts/mfaSignIn:start",st(O,v))}function ji(){return(ji=(0,m.Z)(function*(O){return(yield xe(O,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hs(O){return new Promise((v,w)=>{const P=document.createElement("script");P.setAttribute("src",O),P.onload=v,P.onerror=ce=>{const Ve=rt("internal-error");Ve.customData=ce,w(Ve)},P.type="text/javascript",P.charset="UTF-8",function jn(){var O,v;return null!==(v=null===(O=document.getElementsByTagName("head"))||void 0===O?void 0:O[0])&&void 0!==v?v:document}().appendChild(P)})}function Bo(O){return`__${O}${Math.floor(1e6*Math.random())}`}const ps=1e12;class xl{constructor(v){this.auth=v,this.counter=ps,this._widgets=new Map}render(v,w){const P=this.counter;return this._widgets.set(P,new yr(v,this.auth.name,w||{})),this.counter++,P}reset(v){var w;const P=v||ps;null===(w=this._widgets.get(P))||void 0===w||w.delete(),this._widgets.delete(P)}getResponse(v){var w;return(null===(w=this._widgets.get(v||ps))||void 0===w?void 0:w.getResponse())||""}execute(v){var w=this;return(0,m.Z)(function*(){var P;return null===(P=w._widgets.get(v||ps))||void 0===P||P.execute(),""})()}}class yr{constructor(v,w,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ce="string"==typeof v?document.getElementById(v):v;_e(ce,"argument-error",{appName:w}),this.container=ce,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xc(O){const v=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<O;P++)v.push(w.charAt(Math.floor(Math.random()*w.length)));return v.join("")}(50);const{callback:v,"expired-callback":w}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const iu=Bo("rcb"),Vo=new ne(3e4,6e4);class Xd{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=Cr().grecaptcha)||void 0===v||!v.render)}load(v,w=""){return _e(function Ol(O){return O.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(O)}(w),v,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(Cr().grecaptcha):new Promise((P,ce)=>{const Ve=Cr().setTimeout(()=>{ce(rt(v,"network-request-failed"))},Vo.get());Cr()[iu]=()=>{Cr().clearTimeout(Ve),delete Cr()[iu];const vn=Cr().grecaptcha;if(!vn)return void ce(rt(v,"internal-error"));const ri=vn.render;vn.render=(Ci,hi)=>{const Xr=ri(Ci,hi);return this.counter++,Xr},this.hostLanguage=w,P(vn)},Hs(`https://www.google.com/recaptcha/api.js??${(0,b.xO)({onload:iu,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(Ve),ce(rt(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var w;return!(null===(w=Cr().grecaptcha)||void 0===w||!w.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ic{load(v){return(0,m.Z)(function*(){return new xl(v)})()}clearedOneInstance(){}}const el="recaptcha",rn={theme:"light",type:"image"};class Fu{constructor(v,w=Object.assign({},rn),P){this.parameters=w,this.type=el,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(P),this.isInvisible="invisible"===this.parameters.size,_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ce="string"==typeof v?document.getElementById(v):v;_e(ce,this.auth,"argument-error"),this.container=ce,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ic:new Xd,this.validateStartingState()}verify(){var v=this;return(0,m.Z)(function*(){v.assertNotDestroyed();const w=yield v.render(),P=v.getAssertedRecaptcha();return P.getResponse(w)||new Promise(Ve=>{const Kt=vn=>{!vn||(v.tokenChangeListeners.delete(Kt),Ve(vn))};v.tokenChangeListeners.add(Kt),v.isInvisible&&P.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){_e(!this.parameters.sitekey,this.auth,"argument-error"),_e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return w=>{if(this.tokenChangeListeners.forEach(P=>P(w)),"function"==typeof v)v(w);else if("string"==typeof v){const P=Cr()[v];"function"==typeof P&&P(w)}}}assertNotDestroyed(){_e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,m.Z)(function*(){if(yield v.init(),!v.widgetId){let w=v.container;if(!v.isInvisible){const P=document.createElement("div");w.appendChild(P),w=P}v.widgetId=v.getAssertedRecaptcha().render(w,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,m.Z)(function*(){_e(Jt()&&!ai(),v.auth,"internal-error"),yield function Li(){let O=null;return new Promise(v=>{"complete"!==document.readyState?(O=()=>v(),window.addEventListener("load",O)):v()}).catch(v=>{throw O&&window.removeEventListener("load",O),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const w=yield function Al(O){return ji.apply(this,arguments)}(v.auth);_e(w,v.auth,"internal-error"),v.parameters.sitekey=w})()}getAssertedRecaptcha(){return _e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ml{constructor(v,w){this.verificationId=v,this.onConfirmation=w}confirm(v){const w=xs._fromVerification(this.verificationId,v);return this.onConfirmation(w)}}function wa(O,v,w){return ia.apply(this,arguments)}function ia(){return(ia=(0,m.Z)(function*(O,v,w){const P=Zn(O),ce=yield kl(P,v,(0,b.m9)(w));return new ml(ce,Ve=>ys(P,Ve))})).apply(this,arguments)}function Lu(O,v,w){return ms.apply(this,arguments)}function ms(){return(ms=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O);yield os(!1,P,"phone");const ce=yield kl(P.auth,v,(0,b.m9)(w));return new ml(ce,Ve=>di(P,Ve))})).apply(this,arguments)}function Uo(O,v,w){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O),ce=yield kl(P.auth,v,(0,b.m9)(w));return new ml(ce,Ve=>qo(P,Ve))})).apply(this,arguments)}function kl(O,v,w){return A.apply(this,arguments)}function A(){return(A=(0,m.Z)(function*(O,v,w){var P;const ce=yield w.verify();try{let Ve;if(_e("string"==typeof ce,O,"argument-error"),_e(w.type===el,O,"argument-error"),Ve="string"==typeof v?{phoneNumber:v}:v,"session"in Ve){const Kt=Ve.session;if("phoneNumber"in Ve)return _e("enroll"===Kt.type,O,"internal-error"),(yield _r(O,{idToken:Kt.credential,phoneEnrollmentInfo:{phoneNumber:Ve.phoneNumber,recaptchaToken:ce}})).phoneSessionInfo.sessionInfo;{_e("signin"===Kt.type,O,"internal-error");const vn=(null===(P=Ve.multiFactorHint)||void 0===P?void 0:P.uid)||Ve.multiFactorUid;return _e(vn,O,"missing-multi-factor-info"),(yield pl(O,{mfaPendingCredential:Kt.credential,mfaEnrollmentId:vn,phoneSignInInfo:{recaptchaToken:ce}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Kt}=yield Vt(O,{phoneNumber:Ve.phoneNumber,recaptchaToken:ce});return Kt}}finally{w._reset()}})).apply(this,arguments)}function x(O,v){return S.apply(this,arguments)}function S(){return(S=(0,m.Z)(function*(O,v){yield yi((0,b.m9)(O),v)})).apply(this,arguments)}let B=(()=>{class O{constructor(w){this.providerId=O.PROVIDER_ID,this.auth=Zn(w)}verifyPhoneNumber(w,P){return kl(this.auth,w,(0,b.m9)(P))}static credential(w,P){return xs._fromVerification(w,P)}static credentialFromResult(w){return O.credentialFromTaggedObject(w)}static credentialFromError(w){return O.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:P,temporaryProof:ce}=w;return P&&ce?xs._fromTokenResponse(P,ce):null}}return O.PROVIDER_ID="phone",O.PHONE_SIGN_IN_METHOD="phone",O})();function W(O,v){return v?Ke(v):(_e(O._popupRedirectResolver,O,"argument-error"),O._popupRedirectResolver)}class he extends Sr{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Nn(v,this._buildIdpRequest())}_linkToIdToken(v,w){return Nn(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return Nn(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function ut(O){return Vs(O.auth,new he(O),O.bypassAuthState)}function et(O){const{auth:v,user:w}=O;return _e(w,v,"internal-error"),cl(w,new he(O),O.bypassAuthState)}function Wt(O){return Un.apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(O){const{auth:v,user:w}=O;return _e(w,v,"internal-error"),yi(w,new he(O),O.bypassAuthState)})).apply(this,arguments)}class Si{constructor(v,w,P,ce,Ve=!1){this.auth=v,this.resolver=P,this.user=ce,this.bypassAuthState=Ve,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,m.Z)(function*(P,ce){v.pendingPromise={resolve:P,reject:ce};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(Ve){v.reject(Ve)}});return function(P,ce){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,m.Z)(function*(){const{urlResponse:P,sessionId:ce,postBody:Ve,tenantId:Kt,error:vn,type:ri}=v;if(vn)return void w.reject(vn);const Ci={auth:w.auth,requestUri:P,sessionId:ce,tenantId:Kt||void 0,postBody:Ve||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(ri)(Ci))}catch(hi){w.reject(hi)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return ut;case"linkViaPopup":case"linkViaRedirect":return Wt;case"reauthViaPopup":case"reauthViaRedirect":return et;default:Ft(this.auth,"internal-error")}}resolve(v){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qn=new ne(2e3,1e4);function xr(O,v,w){return nr.apply(this,arguments)}function nr(){return(nr=(0,m.Z)(function*(O,v,w){const P=Zn(O);ae(O,v,Lr);const ce=W(P,w);return new sa(P,"signInViaPopup",v,ce).executeNotNull()})).apply(this,arguments)}function La(O,v,w){return cs.apply(this,arguments)}function cs(){return(cs=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O);ae(P.auth,v,Lr);const ce=W(P.auth,w);return new sa(P.auth,"reauthViaPopup",v,ce,P).executeNotNull()})).apply(this,arguments)}function sr(O,v,w){return ra.apply(this,arguments)}function ra(){return(ra=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O);ae(P.auth,v,Lr);const ce=W(P.auth,w);return new sa(P.auth,"linkViaPopup",v,ce,P).executeNotNull()})).apply(this,arguments)}let sa=(()=>{class O extends Si{constructor(w,P,ce,Ve,Kt){super(w,P,Ve,Kt),this.provider=ce,this.authWindow=null,this.pollId=null,O.currentPopupAction&&O.currentPopupAction.cancel(),O.currentPopupAction=this}executeNotNull(){var w=this;return(0,m.Z)(function*(){const P=yield w.execute();return _e(P,w.auth,"internal-error"),P})()}onExecution(){var w=this;return(0,m.Z)(function*(){Ge(1===w.filter.length,"Popup operations only handle one event");const P=Ai();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],P),w.authWindow.associatedEvent=P,w.resolver._originValidation(w.auth).catch(ce=>{w.reject(ce)}),w.resolver._isIframeWebStorageSupported(w.auth,ce=>{ce||w.reject(rt(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,O.currentPopupAction=null}pollUserCancellation(){const w=()=>{var P,ce;this.pollId=null!==(ce=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==ce&&ce.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,Qn.get())};w()}}return O.currentPopupAction=null,O})();const uo=new Map;class js extends Si{constructor(v,w,P=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,P),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,m.Z)(function*(){let P=uo.get(w.auth._key());if(!P){try{const Ve=(yield function aa(O,v){return gl.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;P=()=>Promise.resolve(Ve)}catch(ce){P=()=>Promise.reject(ce)}uo.set(w.auth._key(),P)}return w.bypassAuthState||uo.set(w.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,P=this;return(0,m.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(P,v);if("unknown"!==v.type){if(v.eventId){const ce=yield P.auth._redirectUserForId(v.eventId);if(ce)return P.user=ce,w().call(P,v);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function gl(){return(gl=(0,m.Z)(function*(O,v){const w=Y(v),P=U(O);if(!(yield P._isAvailable()))return!1;const ce="true"===(yield P._get(w));return yield P._remove(w),ce})).apply(this,arguments)}function Pl(O,v){return _l.apply(this,arguments)}function _l(){return(_l=(0,m.Z)(function*(O,v){return U(O)._set(Y(v),"true")})).apply(this,arguments)}function Ca(){uo.clear()}function Oc(O,v){uo.set(O._key(),v)}function U(O){return Ke(O._redirectPersistence)}function Y(O){return He("pendingRedirect",O.config.apiKey,O.name)}function ge(O,v,w){return function nt(O,v,w){return Ht.apply(this,arguments)}(O,v,w)}function Ht(){return(Ht=(0,m.Z)(function*(O,v,w){const P=Zn(O);ae(O,v,Lr);const ce=W(P,w);return yield Pl(ce,P),ce._openRedirect(P,v,"signInViaRedirect")})).apply(this,arguments)}function nn(O,v,w){return function Dn(O,v,w){return Gn.apply(this,arguments)}(O,v,w)}function Gn(){return(Gn=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O);ae(P.auth,v,Lr);const ce=W(P.auth,w);yield Pl(ce,P.auth);const Ve=yield Gs(P);return ce._openRedirect(P.auth,v,"reauthViaRedirect",Ve)})).apply(this,arguments)}function vi(O,v,w){return function xi(O,v,w){return Bi.apply(this,arguments)}(O,v,w)}function Bi(){return(Bi=(0,m.Z)(function*(O,v,w){const P=(0,b.m9)(O);ae(P.auth,v,Lr);const ce=W(P.auth,w);yield os(!1,P,v.providerId),yield Pl(ce,P.auth);const Ve=yield Gs(P);return ce._openRedirect(P.auth,v,"linkViaRedirect",Ve)})).apply(this,arguments)}function wi(O,v){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,m.Z)(function*(O,v){return yield Zn(O)._initializationPromise,Ps(O,v,!1)})).apply(this,arguments)}function Ps(O,v){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,m.Z)(function*(O,v,w=!1){const P=Zn(O),ce=W(P,v),Kt=yield new js(P,ce,w).execute();return Kt&&!w&&(delete Kt.user._redirectEventId,yield P._persistUserIfCurrent(Kt.user),yield P._setRedirectUser(null,v)),Kt})).apply(this,arguments)}function Gs(O){return Va.apply(this,arguments)}function Va(){return(Va=(0,m.Z)(function*(O){const v=Ai(`${O.uid}:::`);return O._redirectEventId=v,yield O.auth._setRedirectUser(O),yield O.auth._persistUserIfCurrent(O),v})).apply(this,arguments)}class la{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(v,P)&&(w=!0,this.sendToConsumer(v,P),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Dr(O){switch(O.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yl(O);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var P;if(v.error&&!yl(v)){const ce=(null===(P=v.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";w.onError(rt(this.auth,ce))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const P=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&P}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gs(v))}saveEventToCache(v){this.cachedEventUids.add(gs(v)),this.lastProcessedEventTime=Date.now()}}function gs(O){return[O.type,O.eventId,O.sessionId,O.tenantId].filter(v=>v).join("-")}function yl({type:O,error:v}){return"unknown"===O&&"auth/no-auth-event"===v?.code}function ro(O){return kc.apply(this,arguments)}function kc(){return(kc=(0,m.Z)(function*(O,v={}){return xe(O,"GET","/v1/projects",v)})).apply(this,arguments)}const ru=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z_=/^https?/;function su(){return(su=(0,m.Z)(function*(O){if(O.config.emulator)return;const{authorizedDomains:v}=yield ro(O);for(const w of v)try{if(rc(w))return}catch{}Ft(O,"unauthorized-domain")})).apply(this,arguments)}function rc(O){const v=Qt(),{protocol:w,hostname:P}=new URL(v);if(O.startsWith("chrome-extension://")){const Kt=new URL(O);return""===Kt.hostname&&""===P?"chrome-extension:"===w&&O.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&Kt.hostname===P}if(!Z_.test(w))return!1;if(ru.test(O))return P===O;const ce=O.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ce+"|"+ce+")$","i").test(P)}const fp=new ne(3e4,6e4);function af(){const O=Cr().___jsl;if(O?.H)for(const v of Object.keys(O.H))if(O.H[v].r=O.H[v].r||[],O.H[v].L=O.H[v].L||[],O.H[v].r=[...O.H[v].L],O.CP)for(let w=0;w<O.CP.length;w++)O.CP[w]=null}let ou=null;function pp(O){return ou=ou||function vo(O){return new Promise((v,w)=>{var P,ce,Ve;function Kt(){af(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{af(),w(rt(O,"network-request-failed"))},timeout:fp.get()})}if(null!==(ce=null===(P=Cr().gapi)||void 0===P?void 0:P.iframes)&&void 0!==ce&&ce.Iframe)v(gapi.iframes.getContext());else{if(null===(Ve=Cr().gapi)||void 0===Ve||!Ve.load){const vn=Bo("iframefcb");return Cr()[vn]=()=>{gapi.load?Kt():w(rt(O,"network-request-failed"))},Hs(`https://apis.google.com/js/api.js?onload=${vn}`).catch(ri=>w(ri))}Kt()}}).catch(v=>{throw ou=null,v})}(O),ou}const qm=new ne(5e3,15e3),lf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qm(O){const v=O.config;_e(v.authDomain,O,"auth-domain-config-required");const w=v.emulator?at(v,"emulator/auth/iframe"):`https://${O.config.authDomain}/__/auth/iframe`,P={apiKey:v.apiKey,appName:O.name,v:E.SDK_VERSION},ce=q_.get(O.config.apiHost);ce&&(P.eid=ce);const Ve=O._getFrameworks();return Ve.length&&(P.fw=Ve.join(",")),`${w}?${(0,b.xO)(P).slice(1)}`}function Nl(){return Nl=(0,m.Z)(function*(O){const v=yield pp(O),w=Cr().gapi;return _e(w,O,"internal-error"),v.open({where:document.body,url:Qm(O),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lf,dontclear:!0},P=>new Promise(function(){var ce=(0,m.Z)(function*(Ve,Kt){yield P.restyle({setHideOnLeave:!1});const vn=rt(O,"network-request-failed"),ri=Cr().setTimeout(()=>{Kt(vn)},qm.get());function Ci(){Cr().clearTimeout(ri),Ve(P)}P.ping(Ci).then(Ci,()=>{Kt(vn)})});return function(Ve,Kt){return ce.apply(this,arguments)}}()))}),Nl.apply(this,arguments)}const Xm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class au{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vl(O,v,w,P,ce,Ve){_e(O.config.authDomain,O,"auth-domain-config-required"),_e(O.config.apiKey,O,"invalid-api-key");const Kt={apiKey:O.config.apiKey,appName:O.name,authType:w,redirectUrl:P,v:E.SDK_VERSION,eventId:ce};if(v instanceof Lr){v.setDefaultLanguage(O.languageCode),Kt.providerId=v.providerId||"",(0,b.xb)(v.getCustomParameters())||(Kt.customParameters=JSON.stringify(v.getCustomParameters()));for(const[ri,Ci]of Object.entries(Ve||{}))Kt[ri]=Ci}if(v instanceof Ys){const ri=v.getScopes().filter(Ci=>""!==Ci);ri.length>0&&(Kt.scopes=ri.join(","))}O.tenantId&&(Kt.tid=O.tenantId);const vn=Kt;for(const ri of Object.keys(vn))void 0===vn[ri]&&delete vn[ri];return`${function ca({config:O}){return O.emulator?at(O,"emulator/auth/handler"):`https://${O.authDomain}/__/auth/handler`}(O)}?${(0,b.xO)(vn).slice(1)}`}const Vu="webStorageSupport",tl=class bd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Na,this._completeRedirectFn=Ps,this._overrideRedirectResult=Oc}_openPopup(v,w,P,ce){var Ve=this;return(0,m.Z)(function*(){var Kt;Ge(null===(Kt=Ve.eventManagers[v._key()])||void 0===Kt?void 0:Kt.manager,"_initialize() not called before _openPopup()");const vn=vl(v,w,P,Qt(),ce);return function tg(O,v,w,P=500,ce=600){const Ve=Math.max((window.screen.availHeight-ce)/2,0).toString(),Kt=Math.max((window.screen.availWidth-P)/2,0).toString();let vn="";const ri=Object.assign(Object.assign({},Xm),{width:P.toString(),height:ce.toString(),top:Ve,left:Kt}),Ci=(0,b.z$)().toLowerCase();w&&(vn=kt(Ci)?"_blank":w),oe(Ci)&&(v=v||"http://localhost",ri.scrollbars="yes");const hi=Object.entries(ri).reduce((Da,[Fl,Uu])=>`${Da}${Fl}=${Uu},`,"");if(function At(O=(0,b.z$)()){var v;return Be(O)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(Ci)&&"_self"!==vn)return function th(O,v){const w=document.createElement("a");w.href=O,w.target=v;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(P)}(v||"",vn),new au(null);const Xr=window.open(v||"",vn,hi);_e(Xr,O,"popup-blocked");try{Xr.focus()}catch{}return new au(Xr)}(v,vn,Ai())})()}_openRedirect(v,w,P,ce){var Ve=this;return(0,m.Z)(function*(){return yield Ve._originValidation(v),function si(O){Cr().location.href=O}(vl(v,w,P,Qt(),ce)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:ce,promise:Ve}=this.eventManagers[w];return ce?Promise.resolve(ce):(Ge(Ve,"If manager is not set, promise should be"),Ve)}const P=this.initAndGetManager(v);return this.eventManagers[w]={promise:P},P.catch(()=>{delete this.eventManagers[w]}),P}initAndGetManager(v){var w=this;return(0,m.Z)(function*(){const P=yield function Pc(O){return Nl.apply(this,arguments)}(v),ce=new la(v);return P.register("authEvent",Ve=>(_e(Ve?.authEvent,v,"invalid-auth-event"),{status:ce.onEvent(Ve.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:ce},w.iframes[v._key()]=P,ce})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(Vu,{type:Vu},ce=>{var Ve;const Kt=null===(Ve=ce?.[0])||void 0===Ve?void 0:Ve[Vu];void 0!==Kt&&w(!!Kt),Ft(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Bu(O){return su.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return In()||Le()||Be()}};class Ed extends class cf{constructor(v){this.factorId=v}_process(v,w,P){switch(w.type){case"enroll":return this._finalizeEnroll(v,w.credential,P);case"signin":return this._finalizeSignIn(v,w.credential);default:return fe("unexpected MultiFactorSessionType")}}}{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new Ed(v)}_finalizeEnroll(v,w,P){return function Fo(O,v){return xe(O,"POST","/v2/accounts/mfaEnrollment:finalize",st(O,v))}(v,{idToken:w,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,w){return function $i(O,v){return xe(O,"POST","/v2/accounts/mfaSignIn:finalize",st(O,v))}(v,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gp=(()=>{class O{constructor(){}static assertion(w){return Ed._fromCredential(w)}}return O.FACTOR_ID="phone",O})();var ih="@firebase/auth",rh="0.20.11";class _p{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,m.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(P=>{var ce;v((null===(ce=P)||void 0===ce?void 0:ce.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);!w||(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,b.Pz)("authIdTokenMaxAge"),function yp(O){(0,E._registerComponent)(new be.wA("auth",(v,{options:w})=>{const P=v.getProvider("app").getImmediate(),ce=v.getProvider("heartbeat"),{apiKey:Ve,authDomain:Kt}=P.options;return((vn,ri)=>{_e(Ve&&!Ve.includes(":"),"invalid-api-key",{appName:vn.name}),_e(!Kt?.includes(":"),"argument-error",{appName:vn.name});const Ci={apiKey:Ve,authDomain:Kt,clientPlatform:O,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pi(O)},hi=new Hr(vn,ri,Ci);return function yt(O,v){const w=v?.persistence||[],P=(Array.isArray(w)?w:[w]).map(Ke);v?.errorMap&&O._updateErrorMap(v.errorMap),O._initializeWithPersistence(P,v?.popupRedirectResolver)}(hi,w),hi})(P,ce)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,P)=>{v.getProvider("auth-internal").initialize()})),(0,E._registerComponent)(new be.wA("auth-internal",v=>{const w=Zn(v.getProvider("auth").getImmediate());return new _p(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,E.registerVersion)(ih,rh,function uf(O){switch(O){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(O)),(0,E.registerVersion)(ih,rh,"esm2017")}("Browser")},2090:(hn,ft,D)=>{D.d(ft,{$s:()=>je,BH:()=>an,DV:()=>xn,Dv:()=>Pt,G6:()=>ae,GJ:()=>Pn,L:()=>re,LL:()=>Bt,Pz:()=>xt,Sg:()=>ne,UG:()=>Re,UI:()=>ci,US:()=>be,Wj:()=>un,Wl:()=>ve,Yr:()=>Oe,ZB:()=>se,ZR:()=>it,aH:()=>Sn,b$:()=>Je,cI:()=>xe,dS:()=>Tn,eu:()=>_e,g5:()=>E,gK:()=>yn,gQ:()=>We,h$:()=>Fe,hl:()=>Me,hu:()=>b,jU:()=>dt,lb:()=>Wn,m9:()=>Rt,ne:()=>De,p$:()=>X,pd:()=>Ie,r3:()=>Vn,ru:()=>Ye,tV:()=>pe,uI:()=>ze,ug:()=>ui,vZ:()=>Cn,w1:()=>Ft,w9:()=>An,xO:()=>j,xb:()=>ii,z$:()=>Te,zI:()=>fe,zd:()=>Z});const b=function(ke,He){if(!ke)throw E(He)},E=function(ke){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ke)},M=function(ke){const He=[];let bt=0;for(let Xe=0;Xe<ke.length;Xe++){let oe=ke.charCodeAt(Xe);oe<128?He[bt++]=oe:oe<2048?(He[bt++]=oe>>6|192,He[bt++]=63&oe|128):55296==(64512&oe)&&Xe+1<ke.length&&56320==(64512&ke.charCodeAt(Xe+1))?(oe=65536+((1023&oe)<<10)+(1023&ke.charCodeAt(++Xe)),He[bt++]=oe>>18|240,He[bt++]=oe>>12&63|128,He[bt++]=oe>>6&63|128,He[bt++]=63&oe|128):(He[bt++]=oe>>12|224,He[bt++]=oe>>6&63|128,He[bt++]=63&oe|128)}return He},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ke,He){if(!Array.isArray(ke))throw Error("encodeByteArray takes an array as a parameter");this.init_();const bt=He?this.byteToCharMapWebSafe_:this.byteToCharMap_,Xe=[];for(let oe=0;oe<ke.length;oe+=3){const Le=ke[oe],kt=oe+1<ke.length,pn=kt?ke[oe+1]:0,zn=oe+2<ke.length,Hn=zn?ke[oe+2]:0;let Ne=(15&pn)<<2|Hn>>6,At=63&Hn;zn||(At=64,kt||(Ne=64)),Xe.push(bt[Le>>2],bt[(3&Le)<<4|pn>>4],bt[Ne],bt[At])}return Xe.join("")},encodeString(ke,He){return this.HAS_NATIVE_SUPPORT&&!He?btoa(ke):this.encodeByteArray(M(ke),He)},decodeString(ke,He){return this.HAS_NATIVE_SUPPORT&&!He?atob(ke):function(ke){const He=[];let bt=0,Xe=0;for(;bt<ke.length;){const oe=ke[bt++];if(oe<128)He[Xe++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Le=ke[bt++];He[Xe++]=String.fromCharCode((31&oe)<<6|63&Le)}else if(oe>239&&oe<365){const zn=((7&oe)<<18|(63&ke[bt++])<<12|(63&ke[bt++])<<6|63&ke[bt++])-65536;He[Xe++]=String.fromCharCode(55296+(zn>>10)),He[Xe++]=String.fromCharCode(56320+(1023&zn))}else{const Le=ke[bt++],kt=ke[bt++];He[Xe++]=String.fromCharCode((15&oe)<<12|(63&Le)<<6|63&kt)}}return He.join("")}(this.decodeStringToByteArray(ke,He))},decodeStringToByteArray(ke,He){this.init_();const bt=He?this.charToByteMapWebSafe_:this.charToByteMap_,Xe=[];for(let oe=0;oe<ke.length;){const Le=bt[ke.charAt(oe++)],pn=oe<ke.length?bt[ke.charAt(oe)]:0;++oe;const Hn=oe<ke.length?bt[ke.charAt(oe)]:64;++oe;const Be=oe<ke.length?bt[ke.charAt(oe)]:64;if(++oe,null==Le||null==pn||null==Hn||null==Be)throw Error();Xe.push(Le<<2|pn>>4),64!==Hn&&(Xe.push(pn<<4&240|Hn>>2),64!==Be&&Xe.push(Hn<<6&192|Be))}return Xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ke=0;ke<this.ENCODED_VALS.length;ke++)this.byteToCharMap_[ke]=this.ENCODED_VALS.charAt(ke),this.charToByteMap_[this.byteToCharMap_[ke]]=ke,this.byteToCharMapWebSafe_[ke]=this.ENCODED_VALS_WEBSAFE.charAt(ke),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ke]]=ke,ke>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ke)]=ke,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ke)]=ke)}}},Fe=function(ke){const He=M(ke);return be.encodeByteArray(He,!0)},re=function(ke){return Fe(ke).replace(/\./g,"")},pe=function(ke){try{return be.decodeString(ke,!0)}catch(He){console.error("base64Decode failed: ",He)}return null};function X(ke){return se(void 0,ke)}function se(ke,He){if(!(He instanceof Object))return He;switch(He.constructor){case Date:return new Date(He.getTime());case Object:void 0===ke&&(ke={});break;case Array:ke=[];break;default:return He}for(const bt in He)!He.hasOwnProperty(bt)||!ue(bt)||(ke[bt]=se(ke[bt],He[bt]));return ke}function ue(ke){return"__proto__"!==ke}function Te(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function Re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function dt(){return"object"==typeof self&&self.self===self}function Ye(){const ke="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ke&&void 0!==ke.id}function Je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ft(){const ke=Te();return ke.indexOf("MSIE ")>=0||ke.indexOf("Trident/")>=0}function Oe(){return!1}function ae(){return!Re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){return"object"==typeof indexedDB}function _e(){return new Promise((ke,He)=>{try{let bt=!0;const Xe="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(Xe);oe.onsuccess=()=>{oe.result.close(),bt||self.indexedDB.deleteDatabase(Xe),ke(!0)},oe.onupgradeneeded=()=>{bt=!1},oe.onerror=()=>{var Le;He((null===(Le=oe.error)||void 0===Le?void 0:Le.message)||"")}}catch(bt){He(bt)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const yt=()=>{try{return function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ke=process.env.__FIREBASE_DEFAULTS__;return ke?JSON.parse(ke):void 0})()||(()=>{if(typeof document>"u")return;let ke;try{ke=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const He=ke&&pe(ke[1]);return He&&JSON.parse(He)})()}catch(ke){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ke}`)}},Sn=()=>{var ke;return null===(ke=yt())||void 0===ke?void 0:ke.config},xt=ke=>{var He;return null===(He=yt())||void 0===He?void 0:He[`_${ke}`]};class an{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((He,bt)=>{this.resolve=He,this.reject=bt})}wrapCallback(He){return(bt,Xe)=>{bt?this.reject(bt):this.resolve(Xe),"function"==typeof He&&(this.promise.catch(()=>{}),1===He.length?He(bt):He(bt,Xe))}}}function ne(ke,He){if(ke.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Xe=He||"demo-project",oe=ke.iat||0,Le=ke.sub||ke.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const kt=Object.assign({iss:`https://securetoken.google.com/${Xe}`,aud:Xe,iat:oe,exp:oe+3600,auth_time:oe,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},ke);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(kt)),""].join(".")}class it extends Error{constructor(He,bt,Xe){super(bt),this.code=He,this.customData=Xe,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}}class Bt{constructor(He,bt,Xe){this.service=He,this.serviceName=bt,this.errors=Xe}create(He,...bt){const Xe=bt[0]||{},oe=`${this.service}/${He}`,Le=this.errors[He],kt=Le?function Ce(ke,He){return ke.replace(st,(bt,Xe)=>{const oe=He[Xe];return null!=oe?String(oe):`<${Xe}?>`})}(Le,Xe):"Error";return new it(oe,`${this.serviceName}: ${kt} (${oe}).`,Xe)}}const st=/\{\$([^}]+)}/g;function xe(ke){return JSON.parse(ke)}function ve(ke){return JSON.stringify(ke)}const Ct=function(ke){let He={},bt={},Xe={},oe="";try{const Le=ke.split(".");He=xe(pe(Le[0])||""),bt=xe(pe(Le[1])||""),oe=Le[2],Xe=bt.d||{},delete bt.d}catch{}return{header:He,claims:bt,data:Xe,signature:oe}},An=function(ke){const bt=Ct(ke).claims;return!!bt&&"object"==typeof bt&&bt.hasOwnProperty("iat")},Pn=function(ke){const He=Ct(ke).claims;return"object"==typeof He&&!0===He.admin};function Vn(ke,He){return Object.prototype.hasOwnProperty.call(ke,He)}function xn(ke,He){if(Object.prototype.hasOwnProperty.call(ke,He))return ke[He]}function ii(ke){for(const He in ke)if(Object.prototype.hasOwnProperty.call(ke,He))return!1;return!0}function ci(ke,He,bt){const Xe={};for(const oe in ke)Object.prototype.hasOwnProperty.call(ke,oe)&&(Xe[oe]=He.call(bt,ke[oe],oe,ke));return Xe}function Cn(ke,He){if(ke===He)return!0;const bt=Object.keys(ke),Xe=Object.keys(He);for(const oe of bt){if(!Xe.includes(oe))return!1;const Le=ke[oe],kt=He[oe];if(Fn(Le)&&Fn(kt)){if(!Cn(Le,kt))return!1}else if(Le!==kt)return!1}for(const oe of Xe)if(!bt.includes(oe))return!1;return!0}function Fn(ke){return null!==ke&&"object"==typeof ke}function j(ke){const He=[];for(const[bt,Xe]of Object.entries(ke))Array.isArray(Xe)?Xe.forEach(oe=>{He.push(encodeURIComponent(bt)+"="+encodeURIComponent(oe))}):He.push(encodeURIComponent(bt)+"="+encodeURIComponent(Xe));return He.length?"&"+He.join("&"):""}function Z(ke){const He={};return ke.replace(/^\?/,"").split("&").forEach(Xe=>{if(Xe){const[oe,Le]=Xe.split("=");He[decodeURIComponent(oe)]=decodeURIComponent(Le)}}),He}function Ie(ke){const He=ke.indexOf("?");if(!He)return"";const bt=ke.indexOf("#",He);return ke.substring(He,bt>0?bt:void 0)}class We{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let He=1;He<this.blockSize;++He)this.pad_[He]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(He,bt){bt||(bt=0);const Xe=this.W_;if("string"==typeof He)for(let Be=0;Be<16;Be++)Xe[Be]=He.charCodeAt(bt)<<24|He.charCodeAt(bt+1)<<16|He.charCodeAt(bt+2)<<8|He.charCodeAt(bt+3),bt+=4;else for(let Be=0;Be<16;Be++)Xe[Be]=He[bt]<<24|He[bt+1]<<16|He[bt+2]<<8|He[bt+3],bt+=4;for(let Be=16;Be<80;Be++){const Ne=Xe[Be-3]^Xe[Be-8]^Xe[Be-14]^Xe[Be-16];Xe[Be]=4294967295&(Ne<<1|Ne>>>31)}let Hn,Ze,oe=this.chain_[0],Le=this.chain_[1],kt=this.chain_[2],pn=this.chain_[3],zn=this.chain_[4];for(let Be=0;Be<80;Be++){Be<40?Be<20?(Hn=pn^Le&(kt^pn),Ze=1518500249):(Hn=Le^kt^pn,Ze=1859775393):Be<60?(Hn=Le&kt|pn&(Le|kt),Ze=2400959708):(Hn=Le^kt^pn,Ze=3395469782);const Ne=(oe<<5|oe>>>27)+Hn+zn+Ze+Xe[Be]&4294967295;zn=pn,pn=kt,kt=4294967295&(Le<<30|Le>>>2),Le=oe,oe=Ne}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+Le&4294967295,this.chain_[2]=this.chain_[2]+kt&4294967295,this.chain_[3]=this.chain_[3]+pn&4294967295,this.chain_[4]=this.chain_[4]+zn&4294967295}update(He,bt){if(null==He)return;void 0===bt&&(bt=He.length);const Xe=bt-this.blockSize;let oe=0;const Le=this.buf_;let kt=this.inbuf_;for(;oe<bt;){if(0===kt)for(;oe<=Xe;)this.compress_(He,oe),oe+=this.blockSize;if("string"==typeof He){for(;oe<bt;)if(Le[kt]=He.charCodeAt(oe),++kt,++oe,kt===this.blockSize){this.compress_(Le),kt=0;break}}else for(;oe<bt;)if(Le[kt]=He[oe],++kt,++oe,kt===this.blockSize){this.compress_(Le),kt=0;break}}this.inbuf_=kt,this.total_+=bt}digest(){const He=[];let bt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&bt,bt/=256;this.compress_(this.buf_);let Xe=0;for(let oe=0;oe<5;oe++)for(let Le=24;Le>=0;Le-=8)He[Xe]=this.chain_[oe]>>Le&255,++Xe;return He}}function De(ke,He){const bt=new z(ke,He);return bt.subscribe.bind(bt)}class z{constructor(He,bt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=bt,this.task.then(()=>{He(this)}).catch(Xe=>{this.error(Xe)})}next(He){this.forEachObserver(bt=>{bt.next(He)})}error(He){this.forEachObserver(bt=>{bt.error(He)}),this.close(He)}complete(){this.forEachObserver(He=>{He.complete()}),this.close()}subscribe(He,bt,Xe){let oe;if(void 0===He&&void 0===bt&&void 0===Xe)throw new Error("Missing Observer.");oe=function qe(ke,He){if("object"!=typeof ke||null===ke)return!1;for(const bt of He)if(bt in ke&&"function"==typeof ke[bt])return!0;return!1}(He,["next","error","complete"])?He:{next:He,error:bt,complete:Xe},void 0===oe.next&&(oe.next=mt),void 0===oe.error&&(oe.error=mt),void 0===oe.complete&&(oe.complete=mt);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),Le}unsubscribeOne(He){void 0===this.observers||void 0===this.observers[He]||(delete this.observers[He],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(He){if(!this.finalized)for(let bt=0;bt<this.observers.length;bt++)this.sendOne(bt,He)}sendOne(He,bt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[He])try{bt(this.observers[He])}catch(Xe){typeof console<"u"&&console.error&&console.error(Xe)}})}close(He){this.finalized||(this.finalized=!0,void 0!==He&&(this.finalError=He),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mt(){}const Pt=function(ke,He,bt,Xe){let oe;if(Xe<He?oe="at least "+He:Xe>bt&&(oe=0===bt?"none":"no more than "+bt),oe)throw new Error(ke+" failed: Was called with "+Xe+(1===Xe?" argument.":" arguments.")+" Expects "+oe+".")};function yn(ke,He){return`${ke} failed: ${He} argument `}function un(ke,He,bt,Xe){if((!Xe||bt)&&"function"!=typeof bt)throw new Error(yn(ke,He)+"must be a valid function.")}function Wn(ke,He,bt,Xe){if((!Xe||bt)&&("object"!=typeof bt||null===bt))throw new Error(yn(ke,He)+"must be a valid context object.")}const Tn=function(ke){const He=[];let bt=0;for(let Xe=0;Xe<ke.length;Xe++){let oe=ke.charCodeAt(Xe);if(oe>=55296&&oe<=56319){const Le=oe-55296;Xe++,b(Xe<ke.length,"Surrogate pair missing trail surrogate."),oe=65536+(Le<<10)+(ke.charCodeAt(Xe)-56320)}oe<128?He[bt++]=oe:oe<2048?(He[bt++]=oe>>6|192,He[bt++]=63&oe|128):oe<65536?(He[bt++]=oe>>12|224,He[bt++]=oe>>6&63|128,He[bt++]=63&oe|128):(He[bt++]=oe>>18|240,He[bt++]=oe>>12&63|128,He[bt++]=oe>>6&63|128,He[bt++]=63&oe|128)}return He},ui=function(ke){let He=0;for(let bt=0;bt<ke.length;bt++){const Xe=ke.charCodeAt(bt);Xe<128?He++:Xe<2048?He+=2:Xe>=55296&&Xe<=56319?(He+=4,bt++):He+=3}return He};function je(ke,He=1e3,bt=2){const Xe=He*Math.pow(bt,ke),oe=Math.round(.5*Xe*(Math.random()-.5)*2);return Math.min(144e5,Xe+oe)}function Rt(ke){return ke&&ke._delegate?ke._delegate:ke}},6992:(hn,ft,D)=>{D.d(ft,{e:()=>ue});var m=(()=>{return(Te=m||(m={}))[Te.sms_otp=1]="sms_otp",Te[Te.email_otp=2]="email_otp",Te[Te.google_authenticator=3]="google_authenticator",m;var Te})(),b=D(1135),E=D(8247),re=(D(2090),D(9681),D(1877),D(4859),D(4650)),pe=D(7407),X=D(3385),se=D(6806);let ue=(()=>{class Te{constructor(Re,dt,Ye){this.afs=Re,this.afAuth=dt,this.router=Ye,this.onUserInfoFetched=new b.X({}),this.user2FAType=m.sms_otp,this.GA_verify=!1,this.user2FATypeTemp=m.sms_otp,this.data={mobile:""},this.afAuth.authState.subscribe(Je=>{Je?(this.userData=Je,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),this.router.navigate(["/"]),this.getUserInfo(this.userData.uid)):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}getUserInfoFetch(){return this.onUserInfoFetched}resetData(){this.data={mobile:""},this.user2FAType=m.sms_otp,this.GA_verify=!1,this.user2FATypeTemp=m.sms_otp}SignIn(Re,dt){return this.afAuth.signInWithEmailAndPassword(Re,dt).then(Ye=>{console.log(Ye.user?.toJSON())}).catch(Ye=>{window.alert(Ye.message)})}SignUp(Re){return this.afAuth.createUserWithEmailAndPassword(Re.email,Re.password).then(dt=>{let Ye={};dt&&dt.user&&(Ye={firstname:Re.firstname,lastname:Re.lastname}),this.SetUserData(dt.user,Ye)}).catch(dt=>{window.alert(dt.message)})}SetUserData(Re,dt){return console.log(Re),this.afs.doc(`users/${Re.uid}`).set({firstname:dt?.firstname||null,lastname:dt?.lastname||null},{merge:!0})}getUserInfo(Re){this.afs.doc(`users/${Re}`).get().subscribe(Ye=>{Ye.exists?(this.userData.firstname=Ye.data().firstname,this.userData.lastname=Ye.data().lastname,console.log("this.userData",this.userData),this.onUserInfoFetched.next(this.userData)):console.log("No such document!")})}GoogleAuth(){return this.AuthLogin(new E.Q).then(Re=>{this.router.navigate(["/"])})}AuthLogin(Re){return this.afAuth.signInWithPopup(Re).then(dt=>{console.log("result",dt),this.router.navigate(["/"]),this.SetUserData(dt.user,{})}).catch(dt=>{window.alert(dt)})}SendVerificationMail(){return this.afAuth.currentUser.then(Re=>{console.log("Uuuuuuu",Re),Re.sendEmailVerification()}).then(()=>{this.router.navigate(["/auth/verify-email-address"])})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/auth/sign-in"])})}}return Te.\u0275fac=function(Re){return new(Re||Te)(re.LFG(pe.ST),re.LFG(X.zQ),re.LFG(se.F0))},Te.\u0275prov=re.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},9798:(hn,ft,D)=>{D.d(ft,{K:()=>E});var m=D(655),b=D(4650);let E=class{constructor(de){this.platformId=de}static set(de,be){"string"!=typeof be&&(be=JSON.stringify(be));try{localStorage.setItem(de,be)}catch{console.log("Out of space")}}static get(de){let be=localStorage.getItem(de);if(typeof be>"u"||null===be)return null;try{be=JSON.parse(be)}catch{}return be}static remove(de){localStorage.removeItem(de)}static clear(){localStorage.clear()}};E=(0,m.gn)([(0,m.fM)(0,(0,b.tBr)(b.Lbi))],E)},450:(hn,ft,D)=>{D.d(ft,{z:()=>ue});var m=D(4650),b=D(6895),E=D(1135),M=D(2340),de=D(9798);let be=["add-fill","add-mid","add-thin","mobile-mid","add-fill","add-mid","add-thin","arrow-down-mid","arrow-down-thin","arrow-left-mid","arrow-left-thin","arrow-right-mid","arrow-right-thin","arrow-up-mid","arrow-up-thin","barchart-fill","barchart-mid","barchart-thin","bill-fill","bill-mid","bill-thin","bookmark-fill","bookmark-mid","bookmark-thin","calendar-fill","calendar-mid","calendar-thin","card-fill","card-mid","card-thin","chart-arrow-down-mid","chart-arrow-down-thin","chart-arrow-up-mid","chart-arrow-up-thin","chart-pie-fill","chart-pie-mid","chart-pie-thin","chart-wave-mid","chart-wave-thin","check-circle-fill","check-circle-mid","check-circle-thin","check-fill","check-mid","check-thin","clear-fill","clear-mid","clear-thin","close-mid","close-thin","copy-fill","copy-mid","copy-thin","direction-down-mid","direction-down-thin","direction-left2-mid","direction-left2-thin","direction-left-mid","direction-left-thin","direction-right2-mid","direction-right2-thin","direction-right-mid","direction-right-thin","direction-up-mid","direction-up-thin","document-fill","document-mid","document-thin","edit-fill","edit-mid","edit-thin","eye-disable-fill","eye-disable-mid","eye-disable-thin","eye-fill","eye-mid","eye-thin","filter2-fill","filter2-mid","filter2-thin","filter-fill","filter-mid","filter-thin","globe-fill","globe-mid","globe-thin","headphones-fill","headphones-mid","headphones-thin","help-fill","help-mid","help-thin","home-fill","home-mid","home-thin","idcard-fill","idcard-mid","idcard-thin","income-fill","income-mid","income-thin","information-circle-fill","information-circle-mid","information-circle-thin","information-fill","information-mid","information-thin","instagram-fill","instagram-mid","instagram-thin","line-chart-fill","line-chart-mid","line-chart-thin","linkedin-fill","linkedin-mid","linkedin-thin","lock-fill","lock-mid","lock-thin","login-fill","login-mid","login-thin","logout-fill","logout-mid","logout-thin","mobile-fill","mobile-mid","mobile-thin","money-fill","money-mid","money-thin","moon-fill","moon-mid","moon-thin","more-fill","more-mid","more-thin","notification-fill","notification-mid","notification-new-fill","notification-new-mid","notification-new-thin","notification-silent-fill","notification-silent-mid","notification-silent-thin","notification-thin","pin-fill","pin-mid","pin-thin","profit-fill","profit-mid","profit-thin","remove-circle-fill","remove-circle-mid","remove-circle-thin","remove-fill","remove-mid","remove-thin","report-fill","report-mid","report-thin","search-mid","search-thin","setting-fill","setting-mid","setting-thin","share-fill","share-mid","share-thin","star-fill","star-mid","star-thin","sun-fill","sun-mid","sun-thin","swap-fill","swap-mid","swap-thin","telegram-fill","telegram-mid","telegram-thin","trash-fill","trash-mid","trash-thin","twitter-fill","twitter-mid","twitter-thin","unlock-fill","unlock-mid","unlock-thin","user3-fill","user3-mid","user3-thin","user-fill","user-mid","user-thin","wallet-fill","wallet-mid","wallet-thin","warning-erroe-fill","warning-erroe-mid","warning-erroe-thin","adduser-fill","adduser-thin","adduser-mid","blog-fill","blog-mid","blog-thin","call-fill","call-mid","call-thin","fee-fill","fee-mid","fee-thin","rules-fill","rules-mid","rules-thin","upload-fill","upload-mid","upload-thin"];var Fe=D(17),re=D(6806),pe=D(6188),X=D(7392),se=D(1481);let ue=(()=>{class Te{constructor(Re,dt,Ye,Je,$e,Ft,rt){this.platformId=Re,this._tokenService=dt,this._router=Ye,this.translateService=Je,this.iconRegistry=$e,this.sanitizer=Ft,this.document=rt,this.dir="rtl",this.userInfo={},this.kycLevel=0,this.showProgressBar=!1,this.onThemeChanged=new E.X(null),this.onLangChanged=new E.X(null),this.onRunTimer=new E.X(120),this.isMobileView=!1,this.pageTitleKey="",this.isHovered=!1,this.isExchangePage=!1,this.isFullModePage=!1,this.isHomePage=!1,this.isDownloadingUpdates=!1,this.openProfileEditOnLoad=!1,this.isRaychatReady=!1,this.lang="fa"}getThemeChange(){return this.onThemeChanged}getLangChange(){return this.onLangChanged}setTheme(Re){de.K.set(M.N.themeKey,Re),this.document.body.classList.remove("light","dark"),this.document.body.classList.add(Re),this.onThemeChanged.next(Re)}setLang(Re){de.K.set(M.N.languageKey,Re),this.translateService.use(Re),this.onLangChanged.next(Re)}getTheme(){return de.K.get(M.N.themeKey)||"light"}getLang(){return de.K.get("lang")||"fa"}signOut(){de.K.remove("user"),this._router.navigate(["/auth"])}addSVGIcon(Re){let dt=be.findIndex(Ye=>Ye==Re);-1!=dt&&this.iconRegistry.addSvgIcon(be[dt],this.sanitizer.bypassSecurityTrustResourceUrl("/assets/images/bitmax-icon/"+be[dt]+".svg"))}unSubscribeInterval(){}}return Te.\u0275fac=function(Re){return new(Re||Te)(m.LFG(m.Lbi),m.LFG(Fe.i),m.LFG(re.F0),m.LFG(pe.sK),m.LFG(X.jv),m.LFG(se.H7),m.LFG(b.K0))},Te.\u0275prov=m.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},2024:(hn,ft,D)=>{D.d(ft,{H:()=>E});var m=D(7579),b=D(4650);let E=(()=>{class M{constructor(){this.stop$=new m.x}ngOnDestroy(){this.stop$.next(),this.stop$.complete()}}return M.\u0275fac=function(be){return new(be||M)},M.\u0275cmp=b.Xpm({type:M,selectors:[["ng-component"]],decls:0,vars:0,template:function(be,Fe){},encapsulation:2}),M})()},17:(hn,ft,D)=>{D.d(ft,{i:()=>de});var m=D(2340),b=D(9798),E=D(4650),M=D(6806);let de=(()=>{class be{constructor(re){this._router=re}saveToken(re){b.K.set(m.N.accessTokenKey,re)}getToken(){return b.K.get(m.N.accessTokenKey)}isAuthorized(){return!!b.K.get("user")}decodeToken(re){if(!re||""===re)return!1;const pe=re.split(".");if(3!==pe.length)return!1;const X=this.urlBase64Decode(pe[1]);return!!X&&JSON.parse(X)}urlBase64Decode(re){let pe=re.replace(/-/g,"+").replace(/_/g,"/");switch(pe.length%4){case 0:break;case 2:pe+="==";break;case 3:pe+="=";break;default:return null}return this.b64DecodeUnicode(pe)}b64DecodeUnicode(re){return decodeURIComponent(Array.prototype.map.call(this.b64decode(re),pe=>"%"+("00"+pe.charCodeAt(0).toString(16)).slice(-2)).join(""))}b64decode(re){let X="";if((re=String(re).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let ue,Te,se=0,ze=0;Te=re.charAt(ze++);~Te&&(ue=se%4?64*ue+Te:Te,se++%4)?X+=String.fromCharCode(255&ue>>(-2*se&6)):0)Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Te);return X}saveRefreshToken(re){b.K.set(m.N.refreshTokenKey,re)}getRefreshToken(){return b.K.get(m.N.refreshTokenKey)}}return be.\u0275fac=function(re){return new(re||be)(E.LFG(M.F0))},be.\u0275prov=E.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},8450:(hn,ft,D)=>{D.d(ft,{Ak:()=>ze,EF:()=>Je,Ez:()=>Oe,Fj:()=>Me,Le:()=>Re,Q7:()=>dt,WG:()=>$e,_5:()=>Ft,bl:()=>rt,eT:()=>ae,rf:()=>_e,vr:()=>Ye});var m=D(9653);const ze=(0,m.PH)("[Task] Get Tasks"),Re=(0,m.PH)("[Task] Get Tasks Success",(0,m.Ky)()),dt=(0,m.PH)("[Task] Get Tasks Failure",(0,m.Ky)()),Ye=(0,m.PH)("[Task] Create Task",(0,m.Ky)()),Je=(0,m.PH)("[Task] Create Task Success",(0,m.Ky)()),$e=(0,m.PH)("[Task] Create Task Failure",(0,m.Ky)()),Ft=(0,m.PH)("[Task] Delete Task",(0,m.Ky)()),rt=(0,m.PH)("[Task] Delete Task Success",(0,m.Ky)()),Oe=(0,m.PH)("[Task] Delete Task Failure",(0,m.Ky)()),ae=(0,m.PH)("[Task] Edit Task",(0,m.Ky)()),Me=(0,m.PH)("[Task] Edit Task Success",(0,m.Ky)()),_e=(0,m.PH)("[Task] Edit Task Failure",(0,m.Ky)())},3329:(hn,ft,D)=>{D.d(ft,{DE:()=>be,nq:()=>M});var m=D(9653),b=D(8450);const M=(0,m.Lq)({tasks:[{id:1,task:""}],currentTask:{},deleteTaskId:"",result:"",isLoading:!1,isLoadingSuccess:!1,isLoadingFailure:!1},(0,m.on)(b.Ak,re=>(console.log("00000-------------",re),{...re,isLoading:!0})),(0,m.on)(b.Q7,re=>(console.log("rrrrrrrrrrr",re),{...re,isLoading:!0})),(0,m.on)(b.Le,(re,pe)=>(console.log("__________>",re,pe),{...re,tasks:pe.data,isLoading:!1,isLoadingSuccess:!0})),(0,m.on)(b.vr,(re,{task:pe})=>({...re,isLoading:!0,currentTask:pe})),(0,m.on)(b.EF,(re,pe)=>{const X=void 0!==re.tasks?JSON.parse(JSON.stringify(re.tasks)):[],se=void 0!==re.currentTask?JSON.parse(JSON.stringify(re.currentTask)):{};return se.id=pe.taskId,X.push(se),{tasks:X,isLoading:!1,isLoadingSuccess:!0}}),(0,m.on)(b._5,(re,{taskid:pe})=>({...re,isLoading:!0,deleteTaskId:pe})),(0,m.on)(b.bl,(re,pe)=>{let X=void 0!==re.tasks?JSON.parse(JSON.stringify(re.tasks)):[];return pe.status&&(X=X.filter(se=>se.id!==re.deleteTaskId)),{tasks:X,isLoading:!1,isLoadingSuccess:!0}}),(0,m.on)(b.eT,(re,{task:pe})=>({...re,isLoading:!0,currentTask:pe})),(0,m.on)(b.Fj,(re,pe)=>{let X=void 0!==re.tasks?JSON.parse(JSON.stringify(re.tasks)):[];const se=void 0!==re.currentTask?JSON.parse(JSON.stringify(re.currentTask)):{};return X=X.map(ue=>(ue.id===se.id&&(ue=se),ue)),{tasks:X,isLoading:!1,isLoadingSuccess:!0}})),be=(0,m.P1)((0,m.ZF)("todos"),re=>re)},2084:(hn,ft,D)=>{D.d(ft,{Z:()=>be});var m=D(8996),b=D(4650),E=D(529),M=D(7407),de=D(6992);let be=(()=>{class Fe{constructor(pe,X,se){this.http=pe,this.afs=X,this._authService=se,this.rootURL="/api"}getTasks(){console.log("oooooooo",this._authService.userData.uid);const pe=this.afs.collection("tasks").ref;return(0,m.D)(pe.where("createBy","==",this._authService.userData.uid).get())}addTask(pe){let X=Math.random();const se=this.afs.doc(`tasks/${X}`);return(0,m.D)(se.set({task:pe.task||null,status:pe.status||null,createBy:pe.createdBy},{merge:!0}))}editTask(pe){return this.http.put(this.rootURL+"/task",{task:pe})}deleteTask(pe){return console.log("deleting task:::",pe),this.http.delete(`${this.rootURL}/task/${pe}`)}}return Fe.\u0275fac=function(pe){return new(pe||Fe)(b.LFG(E.eN),b.LFG(M.ST),b.LFG(de.e))},Fe.\u0275prov=b.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})()},3106:(hn,ft,D)=>{D.d(ft,{m:()=>Kr});var m=D(6895),b=D(6188),E=D(4633),M=D(4650),de=D(3238),be=D(2687);let se=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({imports:[be.rt,de.BQ,de.BQ]}),ct})();var ue=D(457),Te=D(266),ze=D(9101),Re=D(7392),dt=D(6709);let ae=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({imports:[de.BQ,de.BQ]}),ct})();var Me=D(9643),fe=(D(1281),D(4006));let it=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({}),ct})(),Bt=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({imports:[it,de.si,de.BQ,Me.Q8,it,de.BQ]}),ct})();var Ce=D(445),st=D(9521),xe=D(3353);D(727);let We=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({imports:[m.ez,de.BQ,de.BQ]}),ct})();var De=D(4098),z=D(7340);let Xe=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({imports:[m.ez,de.BQ,De.ZD,De.ZD,de.BQ]}),ct})();var oe=D(8184),Le=D(4080),kt=D(7579),pn=D(9770),zn=D(9646),Hn=D(8675);function Ze(ct,Mt){}class Be{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let At=(()=>{class ct extends Le.en{constructor(G,me,$t,fn,Yn,Bn,mi,Di){super(),this._elementRef=G,this._focusTrapFactory=me,this._config=fn,this._interactivityChecker=Yn,this._ngZone=Bn,this._overlayRef=mi,this._focusMonitor=Di,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=yi=>{this._portalOutlet.hasAttached();const kr=this._portalOutlet.attachDomPortal(yi);return this._contentAttached(),kr},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=$t}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(G){this._portalOutlet.hasAttached();const me=this._portalOutlet.attachComponentPortal(G);return this._contentAttached(),me}attachTemplatePortal(G){this._portalOutlet.hasAttached();const me=this._portalOutlet.attachTemplatePortal(G);return this._contentAttached(),me}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(G,me){this._interactivityChecker.isFocusable(G)||(G.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const $t=()=>{G.removeEventListener("blur",$t),G.removeEventListener("mousedown",$t),G.removeAttribute("tabindex")};G.addEventListener("blur",$t),G.addEventListener("mousedown",$t)})),G.focus(me)}_focusByCssSelector(G,me){let $t=this._elementRef.nativeElement.querySelector(G);$t&&this._forceFocus($t,me)}_trapFocus(){const G=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||G.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(me=>{me||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const G=this._config.restoreFocus;let me=null;if("string"==typeof G?me=this._document.querySelector(G):"boolean"==typeof G?me=G?this._elementFocusedBeforeDialogWasOpened:null:G&&(me=G),this._config.restoreFocus&&me&&"function"==typeof me.focus){const $t=(0,xe.ht)(),fn=this._elementRef.nativeElement;(!$t||$t===this._document.body||$t===fn||fn.contains($t))&&(this._focusMonitor?(this._focusMonitor.focusVia(me,this._closeInteractionType),this._closeInteractionType=null):me.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const G=this._elementRef.nativeElement,me=(0,xe.ht)();return G===me||G.contains(me)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,xe.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return ct.\u0275fac=function(G){return new(G||ct)(M.Y36(M.SBq),M.Y36(be.qV),M.Y36(m.K0,8),M.Y36(Be),M.Y36(be.ic),M.Y36(M.R0b),M.Y36(oe.Iu),M.Y36(be.tE))},ct.\u0275cmp=M.Xpm({type:ct,selectors:[["cdk-dialog-container"]],viewQuery:function(G,me){if(1&G&&M.Gf(Le.Pl,7),2&G){let $t;M.iGM($t=M.CRH())&&(me._portalOutlet=$t.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(G,me){2&G&&M.uIk("id",me._config.id||null)("role",me._config.role)("aria-modal",me._config.ariaModal)("aria-labelledby",me._config.ariaLabel?null:me._ariaLabelledBy)("aria-label",me._config.ariaLabel)("aria-describedby",me._config.ariaDescribedBy||null)},features:[M.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(G,me){1&G&&M.YNc(0,Ze,0,0,"ng-template",0)},dependencies:[Le.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),ct})();class Ut{constructor(Mt,G){this.overlayRef=Mt,this.config=G,this.closed=new kt.x,this.disableClose=G.disableClose,this.backdropClick=Mt.backdropClick(),this.keydownEvents=Mt.keydownEvents(),this.outsidePointerEvents=Mt.outsidePointerEvents(),this.id=G.id,this.keydownEvents.subscribe(me=>{me.keyCode===st.hY&&!this.disableClose&&!(0,st.Vb)(me)&&(me.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(Mt,G){if(this.containerInstance){const me=this.closed;this.containerInstance._closeInteractionType=G?.focusOrigin||"program",this.overlayRef.dispose(),me.next(Mt),me.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Mt="",G=""){return this.overlayRef.updateSize({width:Mt,height:G}),this}addPanelClass(Mt){return this.overlayRef.addPanelClass(Mt),this}removePanelClass(Mt){return this.overlayRef.removePanelClass(Mt),this}}const In=new M.OlP("DialogScrollStrategy"),li=new M.OlP("DialogData"),pi=new M.OlP("DefaultDialogConfig"),Hr={provide:In,deps:[oe.aV],useFactory:function Ri(ct){return()=>ct.scrollStrategies.block()}};let Zn=0,Tr=(()=>{class ct{constructor(G,me,$t,fn,Yn,Bn){this._overlay=G,this._injector=me,this._defaultOptions=$t,this._parentDialog=fn,this._overlayContainer=Yn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new kt.x,this._afterOpenedAtThisLevel=new kt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,pn.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Hn.O)(void 0))),this._scrollStrategy=Bn}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(G,me){(me={...this._defaultOptions||new Be,...me}).id=me.id||"cdk-dialog-"+Zn++,me.id&&this.getDialogById(me.id);const fn=this._getOverlayConfig(me),Yn=this._overlay.create(fn),Bn=new Ut(Yn,me),mi=this._attachContainer(Yn,Bn,me);return Bn.containerInstance=mi,this._attachDialogContent(G,Bn,mi,me),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Bn),Bn.closed.subscribe(()=>this._removeOpenDialog(Bn,!0)),this.afterOpened.next(Bn),Bn}closeAll(){ts(this.openDialogs,G=>G.close())}getDialogById(G){return this.openDialogs.find(me=>me.id===G)}ngOnDestroy(){ts(this._openDialogsAtThisLevel,G=>{!1===G.config.closeOnDestroy&&this._removeOpenDialog(G,!1)}),ts(this._openDialogsAtThisLevel,G=>G.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(G){const me=new oe.X_({positionStrategy:G.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:G.scrollStrategy||this._scrollStrategy(),panelClass:G.panelClass,hasBackdrop:G.hasBackdrop,direction:G.direction,minWidth:G.minWidth,minHeight:G.minHeight,maxWidth:G.maxWidth,maxHeight:G.maxHeight,width:G.width,height:G.height,disposeOnNavigation:G.closeOnNavigation});return G.backdropClass&&(me.backdropClass=G.backdropClass),me}_attachContainer(G,me,$t){const fn=$t.injector||$t.viewContainerRef?.injector,Yn=[{provide:Be,useValue:$t},{provide:Ut,useValue:me},{provide:oe.Iu,useValue:G}];let Bn;$t.container?"function"==typeof $t.container?Bn=$t.container:(Bn=$t.container.type,Yn.push(...$t.container.providers($t))):Bn=At;const mi=new Le.C5(Bn,$t.viewContainerRef,M.zs3.create({parent:fn||this._injector,providers:Yn}),$t.componentFactoryResolver);return G.attach(mi).instance}_attachDialogContent(G,me,$t,fn){if(G instanceof M.Rgc){const Yn=this._createInjector(fn,me,$t,void 0);let Bn={$implicit:fn.data,dialogRef:me};fn.templateContext&&(Bn={...Bn,..."function"==typeof fn.templateContext?fn.templateContext():fn.templateContext}),$t.attachTemplatePortal(new Le.UE(G,null,Bn,Yn))}else{const Yn=this._createInjector(fn,me,$t,this._injector),Bn=$t.attachComponentPortal(new Le.C5(G,fn.viewContainerRef,Yn,fn.componentFactoryResolver));me.componentInstance=Bn.instance}}_createInjector(G,me,$t,fn){const Yn=G.injector||G.viewContainerRef?.injector,Bn=[{provide:li,useValue:G.data},{provide:Ut,useValue:me}];return G.providers&&("function"==typeof G.providers?Bn.push(...G.providers(me,G,$t)):Bn.push(...G.providers)),G.direction&&(!Yn||!Yn.get(Ce.Is,null,M.XFs.Optional))&&Bn.push({provide:Ce.Is,useValue:{value:G.direction,change:(0,zn.of)()}}),M.zs3.create({parent:Yn||fn,providers:Bn})}_removeOpenDialog(G,me){const $t=this.openDialogs.indexOf(G);$t>-1&&(this.openDialogs.splice($t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((fn,Yn)=>{fn?Yn.setAttribute("aria-hidden",fn):Yn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),me&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const G=this._overlayContainer.getContainerElement();if(G.parentElement){const me=G.parentElement.children;for(let $t=me.length-1;$t>-1;$t--){const fn=me[$t];fn!==G&&"SCRIPT"!==fn.nodeName&&"STYLE"!==fn.nodeName&&!fn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(fn,fn.getAttribute("aria-hidden")),fn.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const G=this._parentDialog;return G?G._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return ct.\u0275fac=function(G){return new(G||ct)(M.LFG(oe.aV),M.LFG(M.zs3),M.LFG(pi,8),M.LFG(ct,12),M.LFG(oe.Xj),M.LFG(In))},ct.\u0275prov=M.Yz7({token:ct,factory:ct.\u0275fac}),ct})();function ts(ct,Mt){let G=ct.length;for(;G--;)Mt(ct[G])}let As=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({providers:[Tr,Hr],imports:[oe.U8,Le.eL,be.rt,Le.eL]}),ct})();var jr=D(6451),zi=D(9300),us=D(5698);function Sr(ct,Mt){}const fr={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},tr={dialogContainer:(0,z.X$)("dialogContainer",[(0,z.SB)("void, exit",(0,z.oB)({opacity:0,transform:"scale(0.7)"})),(0,z.SB)("enter",(0,z.oB)({transform:"none"})),(0,z.eR)("* => enter",(0,z.ru)([(0,z.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,z.oB)({transform:"none",opacity:1})),(0,z.IO)("@*",(0,z.pV)(),{optional:!0})]),fr),(0,z.eR)("* => void, * => exit",(0,z.ru)([(0,z.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,z.oB)({opacity:0})),(0,z.IO)("@*",(0,z.pV)(),{optional:!0})]),fr)])};class ns{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=fr.params.enterAnimationDuration,this.exitAnimationDuration=fr.params.exitAnimationDuration}}let Ti=(()=>{class ct extends At{constructor(G,me,$t,fn,Yn,Bn,mi,Di){super(G,me,$t,fn,Yn,Bn,mi,Di),this._animationStateChanged=new M.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(G){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:G})}}return ct.\u0275fac=function(G){return new(G||ct)(M.Y36(M.SBq),M.Y36(be.qV),M.Y36(m.K0,8),M.Y36(ns),M.Y36(be.ic),M.Y36(M.R0b),M.Y36(oe.Iu),M.Y36(be.tE))},ct.\u0275cmp=M.Xpm({type:ct,selectors:[["ng-component"]],features:[M.qOj],decls:0,vars:0,template:function(G,me){},encapsulation:2}),ct})(),Js=(()=>{class ct extends Ti{constructor(G,me,$t,fn,Yn,Bn,mi,Di,yi){super(G,me,$t,fn,Yn,Bn,mi,yi),this._changeDetectorRef=Di,this._state="enter"}_onAnimationDone({toState:G,totalTime:me}){"enter"===G?this._openAnimationDone(me):"exit"===G&&this._animationStateChanged.next({state:"closed",totalTime:me})}_onAnimationStart({toState:G,totalTime:me}){"enter"===G?this._animationStateChanged.next({state:"opening",totalTime:me}):("exit"===G||"void"===G)&&this._animationStateChanged.next({state:"closing",totalTime:me})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||fr.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||fr.params.exitAnimationDuration}}}}return ct.\u0275fac=function(G){return new(G||ct)(M.Y36(M.SBq),M.Y36(be.qV),M.Y36(m.K0,8),M.Y36(ns),M.Y36(be.ic),M.Y36(M.R0b),M.Y36(oe.Iu),M.Y36(M.sBO),M.Y36(be.tE))},ct.\u0275cmp=M.Xpm({type:ct,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(G,me){1&G&&M.WFA("@dialogContainer.start",function(fn){return me._onAnimationStart(fn)})("@dialogContainer.done",function(fn){return me._onAnimationDone(fn)}),2&G&&(M.Ikx("id",me._config.id),M.uIk("aria-modal",me._config.ariaModal)("role",me._config.role)("aria-labelledby",me._config.ariaLabel?null:me._ariaLabelledBy)("aria-label",me._config.ariaLabel)("aria-describedby",me._config.ariaDescribedBy||null),M.d8E("@dialogContainer",me._getAnimationState()))},features:[M.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(G,me){1&G&&M.YNc(0,Sr,0,0,"ng-template",0)},dependencies:[Le.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[tr.dialogContainer]}}),ct})();class zr{constructor(Mt,G,me){this._ref=Mt,this._containerInstance=me,this._afterOpened=new kt.x,this._beforeClosed=new kt.x,this._state=0,this.disableClose=G.disableClose,this.id=Mt.id,me._animationStateChanged.pipe((0,zi.h)($t=>"opened"===$t.state),(0,us.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),me._animationStateChanged.pipe((0,zi.h)($t=>"closed"===$t.state),(0,us.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Mt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,jr.T)(this.backdropClick(),this.keydownEvents().pipe((0,zi.h)($t=>$t.keyCode===st.hY&&!this.disableClose&&!(0,st.Vb)($t)))).subscribe($t=>{this.disableClose||($t.preventDefault(),function is(ct,Mt,G){ct._closeInteractionType=Mt,ct.close(G)}(this,"keydown"===$t.type?"keyboard":"mouse"))})}close(Mt){this._result=Mt,this._containerInstance._animationStateChanged.pipe((0,zi.h)(G=>"closing"===G.state),(0,us.q)(1)).subscribe(G=>{this._beforeClosed.next(Mt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),G.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Mt){let G=this._ref.config.positionStrategy;return Mt&&(Mt.left||Mt.right)?Mt.left?G.left(Mt.left):G.right(Mt.right):G.centerHorizontally(),Mt&&(Mt.top||Mt.bottom)?Mt.top?G.top(Mt.top):G.bottom(Mt.bottom):G.centerVertically(),this._ref.updatePosition(),this}updateSize(Mt="",G=""){return this._ref.updateSize(Mt,G),this}addPanelClass(Mt){return this._ref.addPanelClass(Mt),this}removePanelClass(Mt){return this._ref.removePanelClass(Mt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const rs=new M.OlP("MatDialogData"),Fr=new M.OlP("mat-dialog-default-options"),Xi=new M.OlP("mat-dialog-scroll-strategy"),$s={provide:Xi,deps:[oe.aV],useFactory:function ki(ct){return()=>ct.scrollStrategies.block()}};let Ki=0,hs=(()=>{class ct{constructor(G,me,$t,fn,Yn,Bn,mi,Di,yi,kr){this._overlay=G,this._defaultOptions=$t,this._parentDialog=fn,this._dialogRefConstructor=mi,this._dialogContainerType=Di,this._dialogDataToken=yi,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new kt.x,this._afterOpenedAtThisLevel=new kt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,pn.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Hn.O)(void 0))),this._scrollStrategy=Bn,this._dialog=me.get(Tr)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const G=this._parentDialog;return G?G._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(G,me){let $t;(me={...this._defaultOptions||new ns,...me}).id=me.id||`${this._idPrefix}${Ki++}`,me.scrollStrategy=me.scrollStrategy||this._scrollStrategy();const fn=this._dialog.open(G,{...me,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:ns,useValue:me},{provide:Be,useValue:me}]},templateContext:()=>({dialogRef:$t}),providers:(Yn,Bn,mi)=>($t=new this._dialogRefConstructor(Yn,me,mi),$t.updatePosition(me?.position),[{provide:this._dialogContainerType,useValue:mi},{provide:this._dialogDataToken,useValue:Bn.data},{provide:this._dialogRefConstructor,useValue:$t}])});return $t.componentInstance=fn.componentInstance,this.openDialogs.push($t),this.afterOpened.next($t),$t.afterClosed().subscribe(()=>{const Yn=this.openDialogs.indexOf($t);Yn>-1&&(this.openDialogs.splice(Yn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),$t}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(G){return this.openDialogs.find(me=>me.id===G)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(G){let me=G.length;for(;me--;)G[me].close()}}return ct.\u0275fac=function(G){M.$Z()},ct.\u0275prov=M.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),Ws=(()=>{class ct extends hs{constructor(G,me,$t,fn,Yn,Bn,mi,Di){super(G,me,fn,Bn,mi,Yn,zr,Js,rs,Di)}}return ct.\u0275fac=function(G){return new(G||ct)(M.LFG(oe.aV),M.LFG(M.zs3),M.LFG(m.Ye,8),M.LFG(Fr,8),M.LFG(Xi),M.LFG(ct,12),M.LFG(oe.Xj),M.LFG(M.QbO,8))},ct.\u0275prov=M.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),Yt=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({providers:[Ws,$s],imports:[As,oe.U8,Le.eL,de.BQ,de.BQ]}),ct})();var Nn=D(9549),Mn=D(4144),It=D(4385);D(5017);let Lr=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({imports:[de.si,de.BQ,de.BQ]}),ct})();var Ys=D(6806);let ao=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({imports:[m.ez,de.BQ,de.BQ]}),ct})(),Kr=(()=>{class ct{}return ct.\u0275fac=function(G){return new(G||ct)},ct.\u0275mod=M.oAB({type:ct}),ct.\u0275inj=M.cJS({imports:[m.ez,b.aw,Xe,We,Bt,ae,dt.p9,Re.Ps,ze.ot,Te.AV,ue.Tx,se,E.ie,fe.u5,Yt,Nn.lN,Mn.c,It.LD,Lr,Ys.Bz,ao,m.ez,b.aw,Xe,We,Bt,ae,dt.p9,Re.Ps,ze.ot,Te.AV,ue.Tx,se,E.ie,Yt,Nn.lN,Mn.c,It.LD,Lr]}),ct})()},2340:(hn,ft,D)=>{D.d(ft,{N:()=>m});const m={production:!0,languageKey:"lang",themeKey:"theme",defaultLang:"fa",accessTokenKey:"access",refreshTokenKey:"refresh",firebaseConfig:{apiKey:"AIzaSyCByFTdDwxgEvT1QzeWPmOQ1N4wJxjJtk0",authDomain:"bam-test-98ac0.firebaseapp.com",projectId:"bam-test-98ac0",storageBucket:"bam-test-98ac0.appspot.com",messagingSenderId:"905460066882",appId:"1:905460066882:web:758ac69f99d792cf50dbdb",measurementId:"G-MGLK0VX8E9"}}},590:(hn,ft,D)=>{var m=D(1481),b=D(4650),E=D(7340);function de(a){return new b.vHH(3e3,!1)}function st(){return typeof window<"u"&&typeof window.document<"u"}function xe(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ve(a){switch(a.length){case 0:return new E.ZN;case 1:return a[0];default:return new E.ZE(a)}}function Ct(a,n,r,u,f=new Map,y=new Map){const T=[],N=[];let q=-1,le=null;if(u.forEach(gt=>{const Et=gt.get("offset"),Gt=Et==q,cn=Gt&&le||new Map;gt.forEach((on,kn)=>{let ti=kn,Pi=on;if("offset"!==kn)switch(ti=n.normalizePropertyName(ti,T),Pi){case E.k1:Pi=f.get(kn);break;case E.l3:Pi=y.get(kn);break;default:Pi=n.normalizeStyleValue(kn,ti,Pi,T)}cn.set(ti,Pi)}),Gt||N.push(cn),le=cn,q=Et}),T.length)throw function Ke(a){return new b.vHH(3502,!1)}();return N}function Lt(a,n,r,u){switch(n){case"start":a.onStart(()=>u(r&&zt(r,"start",a)));break;case"done":a.onDone(()=>u(r&&zt(r,"done",a)));break;case"destroy":a.onDestroy(()=>u(r&&zt(r,"destroy",a)))}}function zt(a,n,r){const y=An(a.element,a.triggerName,a.fromState,a.toState,n||a.phaseName,r.totalTime??a.totalTime,!!r.disabled),T=a._data;return null!=T&&(y._data=T),y}function An(a,n,r,u,f="",y=0,T){return{element:a,triggerName:n,fromState:r,toState:u,phaseName:f,totalTime:y,disabled:!!T}}function Pn(a,n,r){let u=a.get(n);return u||a.set(n,u=r),u}function Vn(a){const n=a.indexOf(":");return[a.substring(1,n),a.slice(n+1)]}let xn=(a,n)=>!1,ii=(a,n,r)=>[],ci=null;function Cn(a){const n=a.parentNode||a.host;return n===ci?null:n}(xe()||typeof Element<"u")&&(st()?(ci=(()=>document.documentElement)(),xn=(a,n)=>{for(;n;){if(n===a)return!0;n=Cn(n)}return!1}):xn=(a,n)=>a.contains(n),ii=(a,n,r)=>{if(r)return Array.from(a.querySelectorAll(n));const u=a.querySelector(n);return u?[u]:[]});let j=null,Z=!1;const z=xn,ee=ii;let mt=(()=>{class a{validateStyleProperty(r){return function Ie(a){j||(j=function De(){return typeof document<"u"?document.body:null}()||{},Z=!!j.style&&"WebkitAppearance"in j.style);let n=!0;return j.style&&!function ht(a){return"ebkit"==a.substring(1,6)}(a)&&(n=a in j.style,!n&&Z&&(n="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in j.style)),n}(r)}matchesElement(r,u){return!1}containsElement(r,u){return z(r,u)}getParentElement(r){return Cn(r)}query(r,u,f){return ee(r,u,f)}computeStyle(r,u,f){return f||""}animate(r,u,f,y,T,N=[],q){return new E.ZN(f,y)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac}),a})(),Pt=(()=>{class a{}return a.NOOP=new mt,a})();const Wn="ng-enter",Tn="ng-leave",ui="ng-trigger",Nt=".ng-trigger",_t="ng-animating",ot=".ng-animating";function Tt(a){if("number"==typeof a)return a;const n=a.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Ue(parseFloat(n[1]),n[2])}function Ue(a,n){return"s"===n?1e3*a:a}function je(a,n,r){return a.hasOwnProperty("duration")?a:function Ae(a,n,r){let f,y=0,T="";if("string"==typeof a){const N=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===N)return n.push(de()),{duration:0,delay:0,easing:""};f=Ue(parseFloat(N[1]),N[2]);const q=N[3];null!=q&&(y=Ue(parseFloat(q),N[4]));const le=N[5];le&&(T=le)}else f=a;if(!r){let N=!1,q=n.length;f<0&&(n.push(function be(){return new b.vHH(3100,!1)}()),N=!0),y<0&&(n.push(function Fe(){return new b.vHH(3101,!1)}()),N=!0),N&&n.splice(q,0,de())}return{duration:f,delay:y,easing:T}}(a,n,r)}function pt(a,n={}){return Object.keys(a).forEach(r=>{n[r]=a[r]}),n}function Rt(a){const n=new Map;return Object.keys(a).forEach(r=>{n.set(r,a[r])}),n}function bt(a,n=new Map,r){if(r)for(let[u,f]of r)n.set(u,f);for(let[u,f]of a)n.set(u,f);return n}function Xe(a,n,r){return r?n+":"+r+";":""}function oe(a){let n="";for(let r=0;r<a.style.length;r++){const u=a.style.item(r);n+=Xe(0,u,a.style.getPropertyValue(u))}for(const r in a.style)a.style.hasOwnProperty(r)&&!r.startsWith("_")&&(n+=Xe(0,In(r),a.style[r]));a.setAttribute("style",n)}function Le(a,n,r){a.style&&(n.forEach((u,f)=>{const y=Ut(f);r&&!r.has(f)&&r.set(f,a.style[y]),a.style[y]=u}),xe()&&oe(a))}function kt(a,n){a.style&&(n.forEach((r,u)=>{const f=Ut(u);a.style[f]=""}),xe()&&oe(a))}function pn(a){return Array.isArray(a)?1==a.length?a[0]:(0,E.vP)(a):a}const Hn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ze(a){let n=[];if("string"==typeof a){let r;for(;r=Hn.exec(a);)n.push(r[1]);Hn.lastIndex=0}return n}function Be(a,n,r){const u=a.toString(),f=u.replace(Hn,(y,T)=>{let N=n[T];return null==N&&(r.push(function pe(a){return new b.vHH(3003,!1)}()),N=""),N.toString()});return f==u?a:f}function Ne(a){const n=[];let r=a.next();for(;!r.done;)n.push(r.value),r=a.next();return n}const At=/-+([a-z0-9])/g;function Ut(a){return a.replace(At,(...n)=>n[1].toUpperCase())}function In(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ri(a,n,r){switch(n.type){case 7:return a.visitTrigger(n,r);case 0:return a.visitState(n,r);case 1:return a.visitTransition(n,r);case 2:return a.visitSequence(n,r);case 3:return a.visitGroup(n,r);case 4:return a.visitAnimate(n,r);case 5:return a.visitKeyframes(n,r);case 6:return a.visitStyle(n,r);case 8:return a.visitReference(n,r);case 9:return a.visitAnimateChild(n,r);case 10:return a.visitAnimateRef(n,r);case 11:return a.visitQuery(n,r);case 12:return a.visitStagger(n,r);default:throw function X(a){return new b.vHH(3004,!1)}()}}function Hr(a,n){return window.getComputedStyle(a)[n]}function fr(a,n){const r=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(u=>function tr(a,n,r){if(":"==a[0]){const q=function ns(a,n){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,u)=>parseFloat(u)>parseFloat(r);case":decrement":return(r,u)=>parseFloat(u)<parseFloat(r);default:return n.push(function _e(a){return new b.vHH(3016,!1)}()),"* => *"}}(a,r);if("function"==typeof q)return void n.push(q);a=q}const u=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return r.push(function Me(a){return new b.vHH(3015,!1)}()),n;const f=u[1],y=u[2],T=u[3];n.push(zr(f,T));"<"==y[0]&&!("*"==f&&"*"==T)&&n.push(zr(T,f))}(u,r,n)):r.push(a),r}const Ti=new Set(["true","1"]),Js=new Set(["false","0"]);function zr(a,n){const r=Ti.has(a)||Js.has(a),u=Ti.has(n)||Js.has(n);return(f,y)=>{let T="*"==a||a==f,N="*"==n||n==y;return!T&&r&&"boolean"==typeof f&&(T=f?Ti.has(a):Js.has(a)),!N&&u&&"boolean"==typeof y&&(N=y?Ti.has(n):Js.has(n)),T&&N}}const rs=new RegExp("s*:selfs*,?","g");function Fr(a,n,r,u){return new ds(a).build(n,r,u)}class ds{constructor(n){this._driver=n}build(n,r,u){const f=new Ki(r);return this._resetContextStyleTimingState(f),Ri(this,pn(n),f)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,r){let u=r.queryCount=0,f=r.depCount=0;const y=[],T=[];return"@"==n.name.charAt(0)&&r.errors.push(function ue(){return new b.vHH(3006,!1)}()),n.definitions.forEach(N=>{if(this._resetContextStyleTimingState(r),0==N.type){const q=N,le=q.name;le.toString().split(/\s*,\s*/).forEach(gt=>{q.name=gt,y.push(this.visitState(q,r))}),q.name=le}else if(1==N.type){const q=this.visitTransition(N,r);u+=q.queryCount,f+=q.depCount,T.push(q)}else r.errors.push(function Te(){return new b.vHH(3007,!1)}())}),{type:7,name:n.name,states:y,transitions:T,queryCount:u,depCount:f,options:null}}visitState(n,r){const u=this.visitStyle(n.styles,r),f=n.options&&n.options.params||null;if(u.containsDynamicStyles){const y=new Set,T=f||{};u.styles.forEach(N=>{N instanceof Map&&N.forEach(q=>{Ze(q).forEach(le=>{T.hasOwnProperty(le)||y.add(le)})})}),y.size&&(Ne(y.values()),r.errors.push(function ze(a,n){return new b.vHH(3008,!1)}()))}return{type:0,name:n.name,style:u,options:f?{params:f}:null}}visitTransition(n,r){r.queryCount=0,r.depCount=0;const u=Ri(this,pn(n.animation),r);return{type:1,matchers:fr(n.expr,r.errors),animation:u,queryCount:r.queryCount,depCount:r.depCount,options:$r(n.options)}}visitSequence(n,r){return{type:2,steps:n.steps.map(u=>Ri(this,u,r)),options:$r(n.options)}}visitGroup(n,r){const u=r.currentTime;let f=0;const y=n.steps.map(T=>{r.currentTime=u;const N=Ri(this,T,r);return f=Math.max(f,r.currentTime),N});return r.currentTime=f,{type:3,steps:y,options:$r(n.options)}}visitAnimate(n,r){const u=function Ws(a,n){if(a.hasOwnProperty("duration"))return a;if("number"==typeof a)return Ks(je(a,n).duration,0,"");const r=a;if(r.split(/\s+/).some(y=>"{"==y.charAt(0)&&"{"==y.charAt(1))){const y=Ks(0,0,"");return y.dynamic=!0,y.strValue=r,y}const f=je(r,n);return Ks(f.duration,f.delay,f.easing)}(n.timings,r.errors);r.currentAnimateTimings=u;let f,y=n.styles?n.styles:(0,E.oB)({});if(5==y.type)f=this.visitKeyframes(y,r);else{let T=n.styles,N=!1;if(!T){N=!0;const le={};u.easing&&(le.easing=u.easing),T=(0,E.oB)(le)}r.currentTime+=u.duration+u.delay;const q=this.visitStyle(T,r);q.isEmptyStep=N,f=q}return r.currentAnimateTimings=null,{type:4,timings:u,style:f,options:null}}visitStyle(n,r){const u=this._makeStyleAst(n,r);return this._validateStyleAst(u,r),u}_makeStyleAst(n,r){const u=[],f=Array.isArray(n.styles)?n.styles:[n.styles];for(let N of f)"string"==typeof N?N===E.l3?u.push(N):r.errors.push(new b.vHH(3002,!1)):u.push(Rt(N));let y=!1,T=null;return u.forEach(N=>{if(N instanceof Map&&(N.has("easing")&&(T=N.get("easing"),N.delete("easing")),!y))for(let q of N.values())if(q.toString().indexOf("{{")>=0){y=!0;break}}),{type:6,styles:u,easing:T,offset:n.offset,containsDynamicStyles:y,options:null}}_validateStyleAst(n,r){const u=r.currentAnimateTimings;let f=r.currentTime,y=r.currentTime;u&&y>0&&(y-=u.duration+u.delay),n.styles.forEach(T=>{"string"!=typeof T&&T.forEach((N,q)=>{const le=r.collectedStyles.get(r.currentQuerySelector),gt=le.get(q);let Et=!0;gt&&(y!=f&&y>=gt.startTime&&f<=gt.endTime&&(r.errors.push(function Ye(a,n,r,u,f){return new b.vHH(3010,!1)}()),Et=!1),y=gt.startTime),Et&&le.set(q,{startTime:y,endTime:f}),r.options&&function zn(a,n,r){const u=n.params||{},f=Ze(a);f.length&&f.forEach(y=>{u.hasOwnProperty(y)||r.push(function re(a){return new b.vHH(3001,!1)}())})}(N,r.options,r.errors)})})}visitKeyframes(n,r){const u={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function Je(){return new b.vHH(3011,!1)}()),u;let y=0;const T=[];let N=!1,q=!1,le=0;const gt=n.steps.map(Pi=>{const Qi=this._makeStyleAst(Pi,r);let hr=null!=Qi.offset?Qi.offset:function hs(a){if("string"==typeof a)return null;let n=null;if(Array.isArray(a))a.forEach(r=>{if(r instanceof Map&&r.has("offset")){const u=r;n=parseFloat(u.get("offset")),u.delete("offset")}});else if(a instanceof Map&&a.has("offset")){const r=a;n=parseFloat(r.get("offset")),r.delete("offset")}return n}(Qi.styles),Ir=0;return null!=hr&&(y++,Ir=Qi.offset=hr),q=q||Ir<0||Ir>1,N=N||Ir<le,le=Ir,T.push(Ir),Qi});q&&r.errors.push(function $e(){return new b.vHH(3012,!1)}()),N&&r.errors.push(function Ft(){return new b.vHH(3200,!1)}());const Et=n.steps.length;let Gt=0;y>0&&y<Et?r.errors.push(function rt(){return new b.vHH(3202,!1)}()):0==y&&(Gt=1/(Et-1));const cn=Et-1,on=r.currentTime,kn=r.currentAnimateTimings,ti=kn.duration;return gt.forEach((Pi,Qi)=>{const hr=Gt>0?Qi==cn?1:Gt*Qi:T[Qi],Ir=hr*ti;r.currentTime=on+kn.delay+Ir,kn.duration=Ir,this._validateStyleAst(Pi,r),Pi.offset=hr,u.styles.push(Pi)}),u}visitReference(n,r){return{type:8,animation:Ri(this,pn(n.animation),r),options:$r(n.options)}}visitAnimateChild(n,r){return r.depCount++,{type:9,options:$r(n.options)}}visitAnimateRef(n,r){return{type:10,animation:this.visitReference(n.animation,r),options:$r(n.options)}}visitQuery(n,r){const u=r.currentQuerySelector,f=n.options||{};r.queryCount++,r.currentQuery=n;const[y,T]=function ki(a){const n=!!a.split(/\s*,\s*/).find(r=>":self"==r);return n&&(a=a.replace(rs,"")),a=a.replace(/@\*/g,Nt).replace(/@\w+/g,r=>Nt+"-"+r.slice(1)).replace(/:animating/g,ot),[a,n]}(n.selector);r.currentQuerySelector=u.length?u+" "+y:y,Pn(r.collectedStyles,r.currentQuerySelector,new Map);const N=Ri(this,pn(n.animation),r);return r.currentQuery=null,r.currentQuerySelector=u,{type:11,selector:y,limit:f.limit||0,optional:!!f.optional,includeSelf:T,animation:N,originalSelector:n.selector,options:$r(n.options)}}visitStagger(n,r){r.currentQuery||r.errors.push(function Oe(){return new b.vHH(3013,!1)}());const u="full"===n.timings?{duration:0,delay:0,easing:"full"}:je(n.timings,r.errors,!0);return{type:12,animation:Ri(this,pn(n.animation),r),timings:u,options:null}}}class Ki{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $r(a){return a?(a=pt(a)).params&&(a.params=function $s(a){return a?pt(a):null}(a.params)):a={},a}function Ks(a,n,r){return{duration:a,delay:n,easing:r}}function Rr(a,n,r,u,f,y,T=null,N=!1){return{type:1,element:a,keyframes:n,preStyleProps:r,postStyleProps:u,duration:f,delay:y,totalTime:f+y,easing:T,subTimeline:N}}class lt{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,r){let u=this._map.get(n);u||this._map.set(n,u=[]),u.push(...r)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Yt=new RegExp(":enter","g"),Mn=new RegExp(":leave","g");function It(a,n,r,u,f,y=new Map,T=new Map,N,q,le=[]){return(new Dt).buildKeyframes(a,n,r,u,f,y,T,N,q,le)}class Dt{buildKeyframes(n,r,u,f,y,T,N,q,le,gt=[]){le=le||new lt;const Et=new ln(n,r,le,f,y,gt,[]);Et.options=q;const Gt=q.delay?Tt(q.delay):0;Et.currentTimeline.delayNextStep(Gt),Et.currentTimeline.setStyles([T],null,Et.errors,q),Ri(this,u,Et);const cn=Et.timelines.filter(on=>on.containsAnimation());if(cn.length&&N.size){let on;for(let kn=cn.length-1;kn>=0;kn--){const ti=cn[kn];if(ti.element===r){on=ti;break}}on&&!on.allowOnlyTimelineStyles()&&on.setStyles([N],null,Et.errors,q)}return cn.length?cn.map(on=>on.buildKeyframes()):[Rr(r,[],[],[],0,Gt,"",!1)]}visitTrigger(n,r){}visitState(n,r){}visitTransition(n,r){}visitAnimateChild(n,r){const u=r.subInstructions.get(r.element);if(u){const f=r.createSubContext(n.options),y=r.currentTimeline.currentTime,T=this._visitSubInstructions(u,f,f.options);y!=T&&r.transformIntoNewTimeline(T)}r.previousNode=n}visitAnimateRef(n,r){const u=r.createSubContext(n.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],r,u),this.visitReference(n.animation,u),r.transformIntoNewTimeline(u.currentTimeline.currentTime),r.previousNode=n}_applyAnimationRefDelays(n,r,u){for(const f of n){const y=f?.delay;if(y){const T="number"==typeof y?y:Tt(Be(y,f?.params??{},r.errors));u.delayNextStep(T)}}}_visitSubInstructions(n,r,u){let y=r.currentTimeline.currentTime;const T=null!=u.duration?Tt(u.duration):null,N=null!=u.delay?Tt(u.delay):null;return 0!==T&&n.forEach(q=>{const le=r.appendInstructionToTimeline(q,T,N);y=Math.max(y,le.duration+le.delay)}),y}visitReference(n,r){r.updateOptions(n.options,!0),Ri(this,n.animation,r),r.previousNode=n}visitSequence(n,r){const u=r.subContextCount;let f=r;const y=n.options;if(y&&(y.params||y.delay)&&(f=r.createSubContext(y),f.transformIntoNewTimeline(),null!=y.delay)){6==f.previousNode.type&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=Vt);const T=Tt(y.delay);f.delayNextStep(T)}n.steps.length&&(n.steps.forEach(T=>Ri(this,T,f)),f.currentTimeline.applyStylesToKeyframe(),f.subContextCount>u&&f.transformIntoNewTimeline()),r.previousNode=n}visitGroup(n,r){const u=[];let f=r.currentTimeline.currentTime;const y=n.options&&n.options.delay?Tt(n.options.delay):0;n.steps.forEach(T=>{const N=r.createSubContext(n.options);y&&N.delayNextStep(y),Ri(this,T,N),f=Math.max(f,N.currentTimeline.currentTime),u.push(N.currentTimeline)}),u.forEach(T=>r.currentTimeline.mergeTimelineCollectedStyles(T)),r.transformIntoNewTimeline(f),r.previousNode=n}_visitTiming(n,r){if(n.dynamic){const u=n.strValue;return je(r.params?Be(u,r.params,r.errors):u,r.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,r){const u=r.currentAnimateTimings=this._visitTiming(n.timings,r),f=r.currentTimeline;u.delay&&(r.incrementTime(u.delay),f.snapshotCurrentStyles());const y=n.style;5==y.type?this.visitKeyframes(y,r):(r.incrementTime(u.duration),this.visitStyle(y,r),f.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=n}visitStyle(n,r){const u=r.currentTimeline,f=r.currentAnimateTimings;!f&&u.hasCurrentStyleProperties()&&u.forwardFrame();const y=f&&f.easing||n.easing;n.isEmptyStep?u.applyEmptyStep(y):u.setStyles(n.styles,y,r.errors,r.options),r.previousNode=n}visitKeyframes(n,r){const u=r.currentAnimateTimings,f=r.currentTimeline.duration,y=u.duration,N=r.createSubContext().currentTimeline;N.easing=u.easing,n.styles.forEach(q=>{N.forwardTime((q.offset||0)*y),N.setStyles(q.styles,q.easing,r.errors,r.options),N.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(N),r.transformIntoNewTimeline(f+y),r.previousNode=n}visitQuery(n,r){const u=r.currentTimeline.currentTime,f=n.options||{},y=f.delay?Tt(f.delay):0;y&&(6===r.previousNode.type||0==u&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Vt);let T=u;const N=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!f.optional,r.errors);r.currentQueryTotal=N.length;let q=null;N.forEach((le,gt)=>{r.currentQueryIndex=gt;const Et=r.createSubContext(n.options,le);y&&Et.delayNextStep(y),le===r.element&&(q=Et.currentTimeline),Ri(this,n.animation,Et),Et.currentTimeline.applyStylesToKeyframe(),T=Math.max(T,Et.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(T),q&&(r.currentTimeline.mergeTimelineCollectedStyles(q),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}visitStagger(n,r){const u=r.parentContext,f=r.currentTimeline,y=n.timings,T=Math.abs(y.duration),N=T*(r.currentQueryTotal-1);let q=T*r.currentQueryIndex;switch(y.duration<0?"reverse":y.easing){case"reverse":q=N-q;break;case"full":q=u.currentStaggerTime}const gt=r.currentTimeline;q&&gt.delayNextStep(q);const Et=gt.currentTime;Ri(this,n.animation,r),r.previousNode=n,u.currentStaggerTime=f.currentTime-Et+(f.startTime-u.currentTimeline.startTime)}}const Vt={};class ln{constructor(n,r,u,f,y,T,N,q){this._driver=n,this.element=r,this.subInstructions=u,this._enterClassName=f,this._leaveClassName=y,this.errors=T,this.timelines=N,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=q||new gn(this._driver,r,0),N.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,r){if(!n)return;const u=n;let f=this.options;null!=u.duration&&(f.duration=Tt(u.duration)),null!=u.delay&&(f.delay=Tt(u.delay));const y=u.params;if(y){let T=f.params;T||(T=this.options.params={}),Object.keys(y).forEach(N=>{(!r||!T.hasOwnProperty(N))&&(T[N]=Be(y[N],T,this.errors))})}}_copyOptions(){const n={};if(this.options){const r=this.options.params;if(r){const u=n.params={};Object.keys(r).forEach(f=>{u[f]=r[f]})}}return n}createSubContext(n=null,r,u){const f=r||this.element,y=new ln(this._driver,f,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(f,u||0));return y.previousNode=this.previousNode,y.currentAnimateTimings=this.currentAnimateTimings,y.options=this._copyOptions(),y.updateOptions(n),y.currentQueryIndex=this.currentQueryIndex,y.currentQueryTotal=this.currentQueryTotal,y.parentContext=this,this.subContextCount++,y}transformIntoNewTimeline(n){return this.previousNode=Vt,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,r,u){const f={duration:r??n.duration,delay:this.currentTimeline.currentTime+(u??0)+n.delay,easing:""},y=new Ln(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,f,n.stretchStartingKeyframe);return this.timelines.push(y),f}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,r,u,f,y,T){let N=[];if(f&&N.push(this.element),n.length>0){n=(n=n.replace(Yt,"."+this._enterClassName)).replace(Mn,"."+this._leaveClassName);let le=this._driver.query(this.element,n,1!=u);0!==u&&(le=u<0?le.slice(le.length+u,le.length):le.slice(0,u)),N.push(...le)}return!y&&0==N.length&&T.push(function ae(a){return new b.vHH(3014,!1)}()),N}}class gn{constructor(n,r,u,f){this._driver=n,this.element=r,this.startTime=u,this._elementTimelineStylesLookup=f,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+n),r&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,r){return this.applyStylesToKeyframe(),new gn(this._driver,n,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,r){this._localTimelineStyles.set(n,r),this._globalTimelineStyles.set(n,r),this._styleSummary.set(n,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[r,u]of this._globalTimelineStyles)this._backFill.set(r,u||E.l3),this._currentKeyframe.set(r,E.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,r,u,f){r&&this._previousKeyframe.set("easing",r);const y=f&&f.params||{},T=function ir(a,n){const r=new Map;let u;return a.forEach(f=>{if("*"===f){u=u||n.keys();for(let y of u)r.set(y,E.l3)}else bt(f,r)}),r}(n,this._globalTimelineStyles);for(let[N,q]of T){const le=Be(q,y,u);this._pendingStyles.set(N,le),this._localTimelineStyles.has(N)||this._backFill.set(N,this._globalTimelineStyles.get(N)??E.l3),this._updateStyle(N,le)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,r)=>{this._currentKeyframe.set(r,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,n)}))}snapshotCurrentStyles(){for(let[n,r]of this._localTimelineStyles)this._pendingStyles.set(n,r),this._updateStyle(n,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let r in this._currentKeyframe)n.push(r);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((r,u)=>{const f=this._styleSummary.get(u);(!f||r.time>f.time)&&this._updateStyle(u,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,r=new Set,u=1===this._keyframes.size&&0===this.duration;let f=[];this._keyframes.forEach((N,q)=>{const le=bt(N,new Map,this._backFill);le.forEach((gt,Et)=>{gt===E.k1?n.add(Et):gt===E.l3&&r.add(Et)}),u||le.set("offset",q/this.duration),f.push(le)});const y=n.size?Ne(n.values()):[],T=r.size?Ne(r.values()):[];if(u){const N=f[0],q=new Map(N);N.set("offset",0),q.set("offset",1),f=[N,q]}return Rr(this.element,f,y,T,this.duration,this.startTime,this.easing,!1)}}class Ln extends gn{constructor(n,r,u,f,y,T,N=!1){super(n,r,T.delay),this.keyframes=u,this.preStyleProps=f,this.postStyleProps=y,this._stretchStartingKeyframe=N,this.timings={duration:T.duration,delay:T.delay,easing:T.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:r,duration:u,easing:f}=this.timings;if(this._stretchStartingKeyframe&&r){const y=[],T=u+r,N=r/T,q=bt(n[0]);q.set("offset",0),y.push(q);const le=bt(n[0]);le.set("offset",fi(N)),y.push(le);const gt=n.length-1;for(let Et=1;Et<=gt;Et++){let Gt=bt(n[Et]);const cn=Gt.get("offset");Gt.set("offset",fi((r+cn*u)/T)),y.push(Gt)}u=T,r=0,f="",n=y}return Rr(this.element,n,this.preStyleProps,this.postStyleProps,u,r,f,!0)}}function fi(a,n=3){const r=Math.pow(10,n-1);return Math.round(a*r)/r}class fs{}const xs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Zo extends fs{normalizePropertyName(n,r){return Ut(n)}normalizeStyleValue(n,r,u,f){let y="";const T=u.toString().trim();if(xs.has(r)&&0!==u&&"0"!==u)if("number"==typeof u)y="px";else{const N=u.match(/^[+-]?[\d\.]+([a-z]*)$/);N&&0==N[1].length&&f.push(function se(a,n){return new b.vHH(3005,!1)}())}return T+y}}function ss(a,n,r,u,f,y,T,N,q,le,gt,Et,Gt){return{type:0,element:a,triggerName:n,isRemovalTransition:f,fromState:r,fromStyles:y,toState:u,toStyles:T,timelines:N,queriedElements:q,preStyleProps:le,postStyleProps:gt,totalTime:Et,errors:Gt}}const Fs={};class Oo{constructor(n,r,u){this._triggerName=n,this.ast=r,this._stateStyles=u}match(n,r,u,f){return function Lr(a,n,r,u,f){return a.some(y=>y(n,r,u,f))}(this.ast.matchers,n,r,u,f)}buildStyles(n,r,u){let f=this._stateStyles.get("*");return void 0!==n&&(f=this._stateStyles.get(n?.toString())||f),f?f.buildStyles(r,u):new Map}build(n,r,u,f,y,T,N,q,le,gt){const Et=[],Gt=this.ast.options&&this.ast.options.params||Fs,on=this.buildStyles(u,N&&N.params||Fs,Et),kn=q&&q.params||Fs,ti=this.buildStyles(f,kn,Et),Pi=new Set,Qi=new Map,hr=new Map,Ir="void"===f,ql={params:Ys(kn,Gt),delay:this.ast.options?.delay},Wa=gt?[]:It(n,r,this.ast.animation,y,T,on,ti,ql,le,Et);let ga=0;if(Wa.forEach(Ic=>{ga=Math.max(Ic.duration+Ic.delay,ga)}),Et.length)return ss(r,this._triggerName,u,f,Ir,on,ti,[],[],Qi,hr,ga,Et);Wa.forEach(Ic=>{const Yd=Ic.element,Lb=Pn(Qi,Yd,new Set);Ic.preStyleProps.forEach(rf=>Lb.add(rf));const Zd=Pn(hr,Yd,new Set);Ic.postStyleProps.forEach(rf=>Zd.add(rf)),Yd!==r&&Pi.add(Yd)});const wl=Ne(Pi.values());return ss(r,this._triggerName,u,f,Ir,on,ti,Wa,wl,Qi,hr,ga)}}function Ys(a,n){const r=pt(n);for(const u in a)a.hasOwnProperty(u)&&null!=a[u]&&(r[u]=a[u]);return r}class To{constructor(n,r,u){this.styles=n,this.defaultParams=r,this.normalizer=u}buildStyles(n,r){const u=new Map,f=pt(this.defaultParams);return Object.keys(n).forEach(y=>{const T=n[y];null!==T&&(f[y]=T)}),this.styles.styles.forEach(y=>{"string"!=typeof y&&y.forEach((T,N)=>{T&&(T=Be(T,f,r));const q=this.normalizer.normalizePropertyName(N,r);T=this.normalizer.normalizeStyleValue(N,q,T,r),u.set(q,T)})}),u}}class _a{constructor(n,r,u){this.name=n,this.ast=r,this._normalizer=u,this.transitionFactories=[],this.states=new Map,r.states.forEach(f=>{this.states.set(f.name,new To(f.style,f.options&&f.options.params||{},u))}),go(this.states,"true","1"),go(this.states,"false","0"),r.transitions.forEach(f=>{this.transitionFactories.push(new Oo(n,f,this.states))}),this.fallbackTransition=function mo(a,n,r){return new Oo(a,{type:1,animation:{type:2,steps:[],options:null},matchers:[(T,N)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,r,u,f){return this.transitionFactories.find(T=>T.match(n,r,u,f))||null}matchStyles(n,r,u){return this.fallbackTransition.buildStyles(n,r,u)}}function go(a,n,r){a.has(n)?a.has(r)||a.set(r,a.get(n)):a.has(r)&&a.set(n,a.get(r))}const Ls=new lt;class xa{constructor(n,r,u){this.bodyNode=n,this._driver=r,this._normalizer=u,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,r){const u=[],y=Fr(this._driver,r,u,[]);if(u.length)throw function St(a){return new b.vHH(3503,!1)}();this._animations.set(n,y)}_buildPlayer(n,r,u){const f=n.element,y=Ct(0,this._normalizer,0,n.keyframes,r,u);return this._driver.animate(f,y,n.duration,n.delay,n.easing,[],!0)}create(n,r,u={}){const f=[],y=this._animations.get(n);let T;const N=new Map;if(y?(T=It(this._driver,r,y,Wn,Tn,new Map,new Map,u,Ls,f),T.forEach(gt=>{const Et=Pn(N,gt.element,new Map);gt.postStyleProps.forEach(Gt=>Et.set(Gt,null))})):(f.push(function yt(){return new b.vHH(3300,!1)}()),T=[]),f.length)throw function Qt(a){return new b.vHH(3504,!1)}();N.forEach((gt,Et)=>{gt.forEach((Gt,cn)=>{gt.set(cn,this._driver.computeStyle(Et,cn,E.l3))})});const le=ve(T.map(gt=>{const Et=N.get(gt.element);return this._buildPlayer(gt,new Map,Et)}));return this._playersById.set(n,le),le.onDestroy(()=>this.destroy(n)),this.players.push(le),le}destroy(n){const r=this._getPlayer(n);r.destroy(),this._playersById.delete(n);const u=this.players.indexOf(r);u>=0&&this.players.splice(u,1)}_getPlayer(n){const r=this._playersById.get(n);if(!r)throw function Jt(a){return new b.vHH(3301,!1)}();return r}listen(n,r,u,f){const y=An(r,"","","");return Lt(this._getPlayer(n),u,y,f),()=>{}}command(n,r,u,f){if("register"==u)return void this.register(n,f[0]);if("create"==u)return void this.create(n,r,f[0]||{});const y=this._getPlayer(n);switch(u){case"play":y.play();break;case"pause":y.pause();break;case"reset":y.reset();break;case"restart":y.restart();break;case"finish":y.finish();break;case"init":y.init();break;case"setPosition":y.setPosition(parseFloat(f[0]));break;case"destroy":this.destroy(n)}}}const Os="ng-animate-queued",Kr="ng-animate-disabled",me=[],$t={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yn="__ng_removed";class Bn{constructor(n,r=""){this.namespaceId=r;const u=n&&n.hasOwnProperty("value");if(this.value=function cl(a){return a??null}(u?n.value:n),u){const y=pt(n);delete y.value,this.options=y}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const r=n.params;if(r){const u=this.options.params;Object.keys(r).forEach(f=>{null==u[f]&&(u[f]=r[f])})}}}const mi="void",Di=new Bn(mi);class yi{constructor(n,r,u){this.id=n,this.hostElement=r,this._engine=u,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,di(r,this._hostClassName)}listen(n,r,u,f){if(!this._triggers.has(r))throw function Sn(a,n){return new b.vHH(3302,!1)}();if(null==u||0==u.length)throw function xt(a){return new b.vHH(3303,!1)}();if(!function Vs(a){return"start"==a||"done"==a}(u))throw function an(a,n){return new b.vHH(3400,!1)}();const y=Pn(this._elementListeners,n,[]),T={name:r,phase:u,callback:f};y.push(T);const N=Pn(this._engine.statesByElement,n,new Map);return N.has(r)||(di(n,ui),di(n,ui+"-"+r),N.set(r,Di)),()=>{this._engine.afterFlush(()=>{const q=y.indexOf(T);q>=0&&y.splice(q,1),this._triggers.has(r)||N.delete(r)})}}register(n,r){return!this._triggers.has(n)&&(this._triggers.set(n,r),!0)}_getTrigger(n){const r=this._triggers.get(n);if(!r)throw function ne(a){return new b.vHH(3401,!1)}();return r}trigger(n,r,u,f=!0){const y=this._getTrigger(r),T=new os(this.id,r,n);let N=this._engine.statesByElement.get(n);N||(di(n,ui),di(n,ui+"-"+r),this._engine.statesByElement.set(n,N=new Map));let q=N.get(r);const le=new Bn(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&q&&le.absorbOptions(q.options),N.set(r,le),q||(q=Di),le.value!==mi&&q.value===le.value){if(!function to(a,n){const r=Object.keys(a),u=Object.keys(n);if(r.length!=u.length)return!1;for(let f=0;f<r.length;f++){const y=r[f];if(!n.hasOwnProperty(y)||a[y]!==n[y])return!1}return!0}(q.params,le.params)){const kn=[],ti=y.matchStyles(q.value,q.params,kn),Pi=y.matchStyles(le.value,le.params,kn);kn.length?this._engine.reportError(kn):this._engine.afterFlush(()=>{kt(n,ti),Le(n,Pi)})}return}const Gt=Pn(this._engine.playersByElement,n,[]);Gt.forEach(kn=>{kn.namespaceId==this.id&&kn.triggerName==r&&kn.queued&&kn.destroy()});let cn=y.matchTransition(q.value,le.value,n,le.params),on=!1;if(!cn){if(!f)return;cn=y.fallbackTransition,on=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:cn,fromState:q,toState:le,player:T,isFallbackTransition:on}),on||(di(n,Os),T.onStart(()=>{lo(n,Os)})),T.onDone(()=>{let kn=this.players.indexOf(T);kn>=0&&this.players.splice(kn,1);const ti=this._engine.playersByElement.get(n);if(ti){let Pi=ti.indexOf(T);Pi>=0&&ti.splice(Pi,1)}}),this.players.push(T),Gt.push(T),T}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(r=>r.delete(n)),this._elementListeners.forEach((r,u)=>{this._elementListeners.set(u,r.filter(f=>f.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const r=this._engine.playersByElement.get(n);r&&(r.forEach(u=>u.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,r){const u=this._engine.driver.query(n,Nt,!0);u.forEach(f=>{if(f[Yn])return;const y=this._engine.fetchNamespacesByElement(f);y.size?y.forEach(T=>T.triggerLeaveAnimation(f,r,!1,!0)):this.clearElementCache(f)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(f=>this.clearElementCache(f)))}triggerLeaveAnimation(n,r,u,f){const y=this._engine.statesByElement.get(n),T=new Map;if(y){const N=[];if(y.forEach((q,le)=>{if(T.set(le,q.value),this._triggers.has(le)){const gt=this.trigger(n,le,mi,f);gt&&N.push(gt)}}),N.length)return this._engine.markElementAsRemoved(this.id,n,!0,r,T),u&&ve(N).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const r=this._elementListeners.get(n),u=this._engine.statesByElement.get(n);if(r&&u){const f=new Set;r.forEach(y=>{const T=y.name;if(f.has(T))return;f.add(T);const q=this._triggers.get(T).fallbackTransition,le=u.get(T)||Di,gt=new Bn(mi),Et=new os(this.id,T,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:T,transition:q,fromState:le,toState:gt,player:Et,isFallbackTransition:!0})})}}removeNode(n,r){const u=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,r),this.triggerLeaveAnimation(n,r,!0))return;let f=!1;if(u.totalAnimations){const y=u.players.length?u.playersByQueriedElement.get(n):[];if(y&&y.length)f=!0;else{let T=n;for(;T=T.parentNode;)if(u.statesByElement.get(T)){f=!0;break}}}if(this.prepareLeaveAnimationListeners(n),f)u.markElementAsRemoved(this.id,n,!1,r);else{const y=n[Yn];(!y||y===$t)&&(u.afterFlush(()=>this.clearElementCache(n)),u.destroyInnerAnimations(n),u._onRemovalComplete(n,r))}}insertNode(n,r){di(n,this._hostClassName)}drainQueuedTransitions(n){const r=[];return this._queue.forEach(u=>{const f=u.player;if(f.destroyed)return;const y=u.element,T=this._elementListeners.get(y);T&&T.forEach(N=>{if(N.name==u.triggerName){const q=An(y,u.triggerName,u.fromState.value,u.toState.value);q._data=n,Lt(u.player,N.phase,q,N.callback)}}),f.markedForDestroy?this._engine.afterFlush(()=>{f.destroy()}):r.push(u)}),this._queue=[],r.sort((u,f)=>{const y=u.transition.ast.depCount,T=f.transition.ast.depCount;return 0==y||0==T?y-T:this._engine.driver.containsElement(u.element,f.element)?1:-1})}destroy(n){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let r=!1;return this._elementListeners.has(n)&&(r=!0),r=!!this._queue.find(u=>u.element===n)||r,r}}class kr{constructor(n,r,u){this.bodyNode=n,this.driver=r,this._normalizer=u,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(f,y)=>{}}_onRemovalComplete(n,r){this.onRemovalComplete(n,r)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(r=>{r.players.forEach(u=>{u.queued&&n.push(u)})}),n}createNamespace(n,r){const u=new yi(n,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(u,r):(this.newHostElements.set(r,u),this.collectEnterElement(r)),this._namespaceLookup[n]=u}_balanceNamespaceList(n,r){const u=this._namespaceList,f=this.namespacesByHostElement;if(u.length-1>=0){let T=!1,N=this.driver.getParentElement(r);for(;N;){const q=f.get(N);if(q){const le=u.indexOf(q);u.splice(le+1,0,n),T=!0;break}N=this.driver.getParentElement(N)}T||u.unshift(n)}else u.push(n);return f.set(r,n),n}register(n,r){let u=this._namespaceLookup[n];return u||(u=this.createNamespace(n,r)),u}registerTrigger(n,r,u){let f=this._namespaceLookup[n];f&&f.register(r,u)&&this.totalAnimations++}destroy(n,r){if(!n)return;const u=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(u.hostElement),delete this._namespaceLookup[n];const f=this._namespaceList.indexOf(u);f>=0&&this._namespaceList.splice(f,1)}),this.afterFlushAnimationsDone(()=>u.destroy(r))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const r=new Set,u=this.statesByElement.get(n);if(u)for(let f of u.values())if(f.namespaceId){const y=this._fetchNamespace(f.namespaceId);y&&r.add(y)}return r}trigger(n,r,u,f){if(Bs(r)){const y=this._fetchNamespace(n);if(y)return y.trigger(r,u,f),!0}return!1}insertNode(n,r,u,f){if(!Bs(r))return;const y=r[Yn];if(y&&y.setForRemoval){y.setForRemoval=!1,y.setForMove=!0;const T=this.collectedLeaveElements.indexOf(r);T>=0&&this.collectedLeaveElements.splice(T,1)}if(n){const T=this._fetchNamespace(n);T&&T.insertNode(r,u)}f&&this.collectEnterElement(r)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,r){r?this.disabledNodes.has(n)||(this.disabledNodes.add(n),di(n,Kr)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),lo(n,Kr))}removeNode(n,r,u,f){if(Bs(r)){const y=n?this._fetchNamespace(n):null;if(y?y.removeNode(r,f):this.markElementAsRemoved(n,r,!1,f),u){const T=this.namespacesByHostElement.get(r);T&&T.id!==n&&T.removeNode(r,f)}}else this._onRemovalComplete(r,f)}markElementAsRemoved(n,r,u,f,y){this.collectedLeaveElements.push(r),r[Yn]={namespaceId:n,setForRemoval:f,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:y}}listen(n,r,u,f,y){return Bs(r)?this._fetchNamespace(n).listen(r,u,f,y):()=>{}}_buildInstruction(n,r,u,f,y){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,u,f,n.fromState.options,n.toState.options,r,y)}destroyInnerAnimations(n){let r=this.driver.query(n,Nt,!0);r.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(n,ot,!0),r.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(n){const r=this.playersByElement.get(n);r&&r.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(n){const r=this.playersByQueriedElement.get(n);r&&r.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ve(this.players).onDone(()=>n());n()})}processLeaveNode(n){const r=n[Yn];if(r&&r.setForRemoval){if(n[Yn]=$t,r.namespaceId){this.destroyInnerAnimations(n);const u=this._fetchNamespace(r.namespaceId);u&&u.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}n.classList?.contains(Kr)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(n=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,f)=>this._balanceNamespaceList(u,f)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)di(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{r=this._flushAnimations(u,n)}finally{for(let f=0;f<u.length;f++)u[f]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],r.length?ve(r).onDone(()=>{u.forEach(f=>f())}):u.forEach(f=>f())}}reportError(n){throw function at(a){return new b.vHH(3402,!1)}()}_flushAnimations(n,r){const u=new lt,f=[],y=new Map,T=[],N=new Map,q=new Map,le=new Map,gt=new Set;this.disabledNodes.forEach(_i=>{gt.add(_i);const Oi=this.driver.query(_i,".ng-animate-queued",!0);for(let Fi=0;Fi<Oi.length;Fi++)gt.add(Oi[Fi])});const Et=this.bodyNode,Gt=Array.from(this.statesByElement.keys()),cn=vr(Gt,this.collectedEnterElements),on=new Map;let kn=0;cn.forEach((_i,Oi)=>{const Fi=Wn+kn++;on.set(Oi,Fi),_i.forEach(Gr=>di(Gr,Fi))});const ti=[],Pi=new Set,Qi=new Set;for(let _i=0;_i<this.collectedLeaveElements.length;_i++){const Oi=this.collectedLeaveElements[_i],Fi=Oi[Yn];Fi&&Fi.setForRemoval&&(ti.push(Oi),Pi.add(Oi),Fi.hasAnimation?this.driver.query(Oi,".ng-star-inserted",!0).forEach(Gr=>Pi.add(Gr)):Qi.add(Oi))}const hr=new Map,Ir=vr(Gt,Array.from(Pi));Ir.forEach((_i,Oi)=>{const Fi=Tn+kn++;hr.set(Oi,Fi),_i.forEach(Gr=>di(Gr,Fi))}),n.push(()=>{cn.forEach((_i,Oi)=>{const Fi=on.get(Oi);_i.forEach(Gr=>lo(Gr,Fi))}),Ir.forEach((_i,Oi)=>{const Fi=hr.get(Oi);_i.forEach(Gr=>lo(Gr,Fi))}),ti.forEach(_i=>{this.processLeaveNode(_i)})});const ql=[],Wa=[];for(let _i=this._namespaceList.length-1;_i>=0;_i--)this._namespaceList[_i].drainQueuedTransitions(r).forEach(Fi=>{const Gr=Fi.player,Ka=Fi.element;if(ql.push(Gr),this.collectedEnterElements.length){const ll=Ka[Yn];if(ll&&ll.setForMove){if(ll.previousTriggersValues&&ll.previousTriggersValues.has(Fi.triggerName)){const qd=ll.previousTriggersValues.get(Fi.triggerName),xo=this.statesByElement.get(Fi.element);if(xo&&xo.has(Fi.triggerName)){const sv=xo.get(Fi.triggerName);sv.value=qd,xo.set(Fi.triggerName,sv)}}return void Gr.destroy()}}const ku=!Et||!this.driver.containsElement(Et,Ka),Ql=hr.get(Ka),sf=on.get(Ka),po=this._buildInstruction(Fi,u,sf,Ql,ku);if(po.errors&&po.errors.length)return void Wa.push(po);if(ku)return Gr.onStart(()=>kt(Ka,po.fromStyles)),Gr.onDestroy(()=>Le(Ka,po.toStyles)),void f.push(Gr);if(Fi.isFallbackTransition)return Gr.onStart(()=>kt(Ka,po.fromStyles)),Gr.onDestroy(()=>Le(Ka,po.toStyles)),void f.push(Gr);const Bb=[];po.timelines.forEach(ll=>{ll.stretchStartingKeyframe=!0,this.disabledNodes.has(ll.element)||Bb.push(ll)}),po.timelines=Bb,u.append(Ka,po.timelines),T.push({instruction:po,player:Gr,element:Ka}),po.queriedElements.forEach(ll=>Pn(N,ll,[]).push(Gr)),po.preStyleProps.forEach((ll,qd)=>{if(ll.size){let xo=q.get(qd);xo||q.set(qd,xo=new Set),ll.forEach((sv,Ym)=>xo.add(Ym))}}),po.postStyleProps.forEach((ll,qd)=>{let xo=le.get(qd);xo||le.set(qd,xo=new Set),ll.forEach((sv,Ym)=>xo.add(Ym))})});if(Wa.length){const _i=[];Wa.forEach(Oi=>{_i.push(function Bt(a,n){return new b.vHH(3505,!1)}())}),ql.forEach(Oi=>Oi.destroy()),this.reportError(_i)}const ga=new Map,wl=new Map;T.forEach(_i=>{const Oi=_i.element;u.has(Oi)&&(wl.set(Oi,Oi),this._beforeAnimationBuild(_i.player.namespaceId,_i.instruction,ga))}),f.forEach(_i=>{const Oi=_i.element;this._getPreviousPlayers(Oi,!1,_i.namespaceId,_i.triggerName,null).forEach(Gr=>{Pn(ga,Oi,[]).push(Gr),Gr.destroy()})});const Ic=ti.filter(_i=>Zs(_i,q,le)),Yd=new Map;ys(Yd,this.driver,Qi,le,E.l3).forEach(_i=>{Zs(_i,q,le)&&Ic.push(_i)});const Zd=new Map;cn.forEach((_i,Oi)=>{ys(Zd,this.driver,new Set(_i),q,E.k1)}),Ic.forEach(_i=>{const Oi=Yd.get(_i),Fi=Zd.get(_i);Yd.set(_i,new Map([...Array.from(Oi?.entries()??[]),...Array.from(Fi?.entries()??[])]))});const rf=[],rb=[],sb={};T.forEach(_i=>{const{element:Oi,player:Fi,instruction:Gr}=_i;if(u.has(Oi)){if(gt.has(Oi))return Fi.onDestroy(()=>Le(Oi,Gr.toStyles)),Fi.disabled=!0,Fi.overrideTotalTime(Gr.totalTime),void f.push(Fi);let Ka=sb;if(wl.size>1){let Ql=Oi;const sf=[];for(;Ql=Ql.parentNode;){const po=wl.get(Ql);if(po){Ka=po;break}sf.push(Ql)}sf.forEach(po=>wl.set(po,Ka))}const ku=this._buildAnimation(Fi.namespaceId,Gr,ga,y,Zd,Yd);if(Fi.setRealPlayer(ku),Ka===sb)rf.push(Fi);else{const Ql=this.playersByElement.get(Ka);Ql&&Ql.length&&(Fi.parentPlayer=ve(Ql)),f.push(Fi)}}else kt(Oi,Gr.fromStyles),Fi.onDestroy(()=>Le(Oi,Gr.toStyles)),rb.push(Fi),gt.has(Oi)&&f.push(Fi)}),rb.forEach(_i=>{const Oi=y.get(_i.element);if(Oi&&Oi.length){const Fi=ve(Oi);_i.setRealPlayer(Fi)}}),f.forEach(_i=>{_i.parentPlayer?_i.syncPlayerEvents(_i.parentPlayer):_i.destroy()});for(let _i=0;_i<ti.length;_i++){const Oi=ti[_i],Fi=Oi[Yn];if(lo(Oi,Tn),Fi&&Fi.hasAnimation)continue;let Gr=[];if(N.size){let ku=N.get(Oi);ku&&ku.length&&Gr.push(...ku);let Ql=this.driver.query(Oi,ot,!0);for(let sf=0;sf<Ql.length;sf++){let po=N.get(Ql[sf]);po&&po.length&&Gr.push(...po)}}const Ka=Gr.filter(ku=>!ku.destroyed);Ka.length?qo(this,Oi,Ka):this.processLeaveNode(Oi)}return ti.length=0,rf.forEach(_i=>{this.players.push(_i),_i.onDone(()=>{_i.destroy();const Oi=this.players.indexOf(_i);this.players.splice(Oi,1)}),_i.play()}),rf}elementContainsData(n,r){let u=!1;const f=r[Yn];return f&&f.setForRemoval&&(u=!0),this.playersByElement.has(r)&&(u=!0),this.playersByQueriedElement.has(r)&&(u=!0),this.statesByElement.has(r)&&(u=!0),this._fetchNamespace(n).elementContainsData(r)||u}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,r,u,f,y){let T=[];if(r){const N=this.playersByQueriedElement.get(n);N&&(T=N)}else{const N=this.playersByElement.get(n);if(N){const q=!y||y==mi;N.forEach(le=>{le.queued||!q&&le.triggerName!=f||T.push(le)})}}return(u||f)&&(T=T.filter(N=>!(u&&u!=N.namespaceId||f&&f!=N.triggerName))),T}_beforeAnimationBuild(n,r,u){const y=r.element,T=r.isRemovalTransition?void 0:n,N=r.isRemovalTransition?void 0:r.triggerName;for(const q of r.timelines){const le=q.element,gt=le!==y,Et=Pn(u,le,[]);this._getPreviousPlayers(le,gt,T,N,r.toState).forEach(cn=>{const on=cn.getRealPlayer();on.beforeDestroy&&on.beforeDestroy(),cn.destroy(),Et.push(cn)})}kt(y,r.fromStyles)}_buildAnimation(n,r,u,f,y,T){const N=r.triggerName,q=r.element,le=[],gt=new Set,Et=new Set,Gt=r.timelines.map(on=>{const kn=on.element;gt.add(kn);const ti=kn[Yn];if(ti&&ti.removedBeforeQueried)return new E.ZN(on.duration,on.delay);const Pi=kn!==q,Qi=function ya(a){const n=[];return ul(a,n),n}((u.get(kn)||me).map(ga=>ga.getRealPlayer())).filter(ga=>!!ga.element&&ga.element===kn),hr=y.get(kn),Ir=T.get(kn),ql=Ct(0,this._normalizer,0,on.keyframes,hr,Ir),Wa=this._buildPlayer(on,ql,Qi);if(on.subTimeline&&f&&Et.add(kn),Pi){const ga=new os(n,N,kn);ga.setRealPlayer(Wa),le.push(ga)}return Wa});le.forEach(on=>{Pn(this.playersByQueriedElement,on.element,[]).push(on),on.onDone(()=>function Yi(a,n,r){let u=a.get(n);if(u){if(u.length){const f=u.indexOf(r);u.splice(f,1)}0==u.length&&a.delete(n)}return u}(this.playersByQueriedElement,on.element,on))}),gt.forEach(on=>di(on,_t));const cn=ve(Gt);return cn.onDestroy(()=>{gt.forEach(on=>lo(on,_t)),Le(q,r.toStyles)}),Et.forEach(on=>{Pn(f,on,[]).push(cn)}),cn}_buildPlayer(n,r,u){return r.length>0?this.driver.animate(n.element,r,n.duration,n.delay,n.easing,u):new E.ZN(n.duration,n.delay)}}class os{constructor(n,r,u){this.namespaceId=n,this.triggerName=r,this.element=u,this._player=new E.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((r,u)=>{r.forEach(f=>Lt(n,u,void 0,f))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const r=this._player;r.triggerCallback&&n.onStart(()=>r.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,r){Pn(this._queuedCallbacks,n,[]).push(r)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const r=this._player;r.triggerCallback&&r.triggerCallback(n)}}function Bs(a){return a&&1===a.nodeType}function as(a,n){const r=a.style.display;return a.style.display=n??"none",r}function ys(a,n,r,u,f){const y=[];r.forEach(q=>y.push(as(q)));const T=[];u.forEach((q,le)=>{const gt=new Map;q.forEach(Et=>{const Gt=n.computeStyle(le,Et,f);gt.set(Et,Gt),(!Gt||0==Gt.length)&&(le[Yn]=fn,T.push(le))}),a.set(le,gt)});let N=0;return r.forEach(q=>as(q,y[N++])),T}function vr(a,n){const r=new Map;if(a.forEach(N=>r.set(N,[])),0==n.length)return r;const f=new Set(n),y=new Map;function T(N){if(!N)return 1;let q=y.get(N);if(q)return q;const le=N.parentNode;return q=r.has(le)?le:f.has(le)?1:T(le),y.set(N,q),q}return n.forEach(N=>{const q=T(N);1!==q&&r.get(q).push(N)}),r}function di(a,n){a.classList?.add(n)}function lo(a,n){a.classList?.remove(n)}function qo(a,n,r){ve(r).onDone(()=>a.processLeaveNode(n))}function ul(a,n){for(let r=0;r<a.length;r++){const u=a[r];u instanceof E.ZE?ul(u.players,n):n.push(u)}}function Zs(a,n,r){const u=r.get(a);if(!u)return!1;let f=n.get(a);return f?u.forEach(y=>f.add(y)):n.set(a,u),r.delete(a),!0}class ko{constructor(n,r,u){this.bodyNode=n,this._driver=r,this._normalizer=u,this._triggerCache={},this.onRemovalComplete=(f,y)=>{},this._transitionEngine=new kr(n,r,u),this._timelineEngine=new xa(n,r,u),this._transitionEngine.onRemovalComplete=(f,y)=>this.onRemovalComplete(f,y)}registerTrigger(n,r,u,f,y){const T=n+"-"+f;let N=this._triggerCache[T];if(!N){const q=[],gt=Fr(this._driver,y,q,[]);if(q.length)throw function Se(a,n){return new b.vHH(3404,!1)}();N=function eo(a,n,r){return new _a(a,n,r)}(f,gt,this._normalizer),this._triggerCache[T]=N}this._transitionEngine.registerTrigger(r,f,N)}register(n,r){this._transitionEngine.register(n,r)}destroy(n,r){this._transitionEngine.destroy(n,r)}onInsert(n,r,u,f){this._transitionEngine.insertNode(n,r,u,f)}onRemove(n,r,u,f){this._transitionEngine.removeNode(n,r,f||!1,u)}disableAnimations(n,r){this._transitionEngine.markElementAsDisabled(n,r)}process(n,r,u,f){if("@"==u.charAt(0)){const[y,T]=Vn(u);this._timelineEngine.command(y,r,T,f)}else this._transitionEngine.trigger(n,r,u,f)}listen(n,r,u,f,y){if("@"==u.charAt(0)){const[T,N]=Vn(u);return this._timelineEngine.listen(T,r,N,y)}return this._transitionEngine.listen(n,r,u,f,y)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _n=(()=>{class a{constructor(r,u,f){this._element=r,this._startStyles=u,this._endStyles=f,this._state=0;let y=a.initialStylesByElement.get(r);y||a.initialStylesByElement.set(r,y=new Map),this._initialStyles=y}start(){this._state<1&&(this._startStyles&&Le(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Le(this._element,this._initialStyles),this._endStyles&&(Le(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(a.initialStylesByElement.delete(this._element),this._startStyles&&(kt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kt(this._element,this._endStyles),this._endStyles=null),Le(this._element,this._initialStyles),this._state=3)}}return a.initialStylesByElement=new WeakMap,a})();function Ii(a){let n=null;return a.forEach((r,u)=>{(function Xl(a){return"display"===a||"position"===a})(u)&&(n=n||new Map,n.set(u,r))}),n}class Qo{constructor(n,r,u,f){this.element=n,this.keyframes=r,this.options=u,this._specialStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const r=[];return n.forEach(u=>{r.push(Object.fromEntries(u))}),r}_triggerWebAnimation(n,r,u){return n.animate(this._convertKeyframesToObject(r),u)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,f)=>{"offset"!==f&&n.set(f,this._finished?u:Hr(this.element,f))}),this.currentSnapshot=n}triggerCallback(n){const r="start"===n?this._onStartFns:this._onDoneFns;r.forEach(u=>u()),r.length=0}}class Yr{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,r){return!1}containsElement(n,r){return z(n,r)}getParentElement(n){return Cn(n)}query(n,r,u){return ee(n,r,u)}computeStyle(n,r,u){return window.getComputedStyle(n)[r]}animate(n,r,u,f,y,T=[]){const q={duration:u,delay:f,fill:0==f?"both":"forwards"};y&&(q.easing=y);const le=new Map,gt=T.filter(cn=>cn instanceof Qo);(function li(a,n){return 0===a||0===n})(u,f)&&gt.forEach(cn=>{cn.currentSnapshot.forEach((on,kn)=>le.set(kn,on))});let Et=function ke(a){return a.length?a[0]instanceof Map?a:a.map(n=>Rt(n)):[]}(r).map(cn=>bt(cn));Et=function pi(a,n,r){if(r.size&&n.length){let u=n[0],f=[];if(r.forEach((y,T)=>{u.has(T)||f.push(T),u.set(T,y)}),f.length)for(let y=1;y<n.length;y++){let T=n[y];f.forEach(N=>T.set(N,Hr(a,N)))}}return n}(n,Et,le);const Gt=function va(a,n){let r=null,u=null;return Array.isArray(n)&&n.length?(r=Ii(n[0]),n.length>1&&(u=Ii(n[n.length-1]))):n instanceof Map&&(r=Ii(n)),r||u?new _n(a,r,u):null}(n,Et);return new Qo(n,Et,q,Gt)}}var K=D(6895);let $=(()=>{class a extends E._j{constructor(r,u){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(u.body,{id:"0",encapsulation:b.ifc.None,styles:[],data:{animation:[]}})}build(r){const u=this._nextAnimationId.toString();this._nextAnimationId++;const f=Array.isArray(r)?(0,E.vP)(r):r;return tn(this._renderer,null,u,"register",[f]),new V(u,this._renderer)}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(b.FYo),b.LFG(K.K0))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac}),a})();class V extends E.LC{constructor(n,r){super(),this._id=n,this._renderer=r}create(n,r){return new we(this._id,n,r||{},this._renderer)}}class we{constructor(n,r,u,f){this.id=n,this.element=r,this._renderer=f,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",u)}_listen(n,r){return this._renderer.listen(this.element,`@@${this.id}:${n}`,r)}_command(n,...r){return tn(this._renderer,this.element,this.id,n,r)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tn(a,n,r,u,f){return a.setProperty(n,`@@${r}:${u}`,f)}const pr="@.disabled";let no=(()=>{class a{constructor(r,u,f){this.delegate=r,this.engine=u,this._zone=f,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),u.onRemovalComplete=(y,T)=>{const N=T?.parentNode(y);N&&T.removeChild(N,y)}}createRenderer(r,u){const y=this.delegate.createRenderer(r,u);if(!(r&&u&&u.data&&u.data.animation)){let gt=this._rendererCache.get(y);return gt||(gt=new Rs("",y,this.engine,()=>this._rendererCache.delete(y)),this._rendererCache.set(y,gt)),gt}const T=u.id,N=u.id+"-"+this._currentId;this._currentId++,this.engine.register(N,r);const q=gt=>{Array.isArray(gt)?gt.forEach(q):this.engine.registerTrigger(T,N,r,gt.name,gt)};return u.data.animation.forEach(q),new br(this,N,y,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,u,f){r>=0&&r<this._microtaskId?this._zone.run(()=>u(f)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(y=>{const[T,N]=y;T(N)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([u,f]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(b.FYo),b.LFG(ko),b.LFG(b.R0b))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac}),a})();class Rs{constructor(n,r,u,f){this.namespaceId=n,this.delegate=r,this.engine=u,this._onDestroy=f,this.destroyNode=this.delegate.destroyNode?y=>r.destroyNode(y):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,r){this.delegate.appendChild(n,r),this.engine.onInsert(this.namespaceId,r,n,!1)}insertBefore(n,r,u,f=!0){this.delegate.insertBefore(n,r,u),this.engine.onInsert(this.namespaceId,r,n,f)}removeChild(n,r,u){this.engine.onRemove(this.namespaceId,r,this.delegate,u)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,u,f){this.delegate.setAttribute(n,r,u,f)}removeAttribute(n,r,u){this.delegate.removeAttribute(n,r,u)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,u,f){this.delegate.setStyle(n,r,u,f)}removeStyle(n,r,u){this.delegate.removeStyle(n,r,u)}setProperty(n,r,u){"@"==r.charAt(0)&&r==pr?this.disableAnimations(n,!!u):this.delegate.setProperty(n,r,u)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,u){return this.delegate.listen(n,r,u)}disableAnimations(n,r){this.engine.disableAnimations(n,r)}}class br extends Rs{constructor(n,r,u,f,y){super(r,u,f,y),this.factory=n,this.namespaceId=r}setProperty(n,r,u){"@"==r.charAt(0)?"."==r.charAt(1)&&r==pr?this.disableAnimations(n,u=void 0===u||!!u):this.engine.process(this.namespaceId,n,r.slice(1),u):this.delegate.setProperty(n,r,u)}listen(n,r,u){if("@"==r.charAt(0)){const f=function Po(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(n);let y=r.slice(1),T="";return"@"!=y.charAt(0)&&([y,T]=function Mr(a){const n=a.indexOf(".");return[a.substring(0,n),a.slice(n+1)]}(y)),this.engine.listen(this.namespaceId,f,y,T,N=>{this.factory.scheduleListenerCallback(N._data||-1,u,N)})}return this.delegate.listen(n,r,u)}}const Cl=[{provide:E._j,useClass:$},{provide:fs,useFactory:function Xo(){return new Zo}},{provide:ko,useClass:(()=>{class a extends ko{constructor(r,u,f,y){super(r.body,u,f)}ngOnDestroy(){this.flush()}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(K.K0),b.LFG(Pt),b.LFG(fs),b.LFG(b.z2F))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac}),a})()},{provide:b.FYo,useFactory:function Sc(a,n,r){return new no(a,n,r)},deps:[m.se,ko,b.R0b]}],dl=[{provide:Pt,useFactory:()=>new Yr},{provide:b.QbO,useValue:"BrowserAnimations"},...Cl],Dl=[{provide:Pt,useClass:mt},{provide:b.QbO,useValue:"NoopAnimations"},...Cl];let Oa=(()=>{class a{static withConfig(r){return{ngModule:a,providers:r.disableAnimations?Dl:dl}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=b.oAB({type:a}),a.\u0275inj=b.cJS({providers:dl,imports:[m.b2]}),a})();var qs=D(6806),qa=D(17),yo=D(450);const Qa=[{path:"",loadChildren:()=>D.e(656).then(D.bind(D,4656)).then(a=>a.DashboardModule),canActivate:[(()=>{class a{constructor(r,u){this._tokenStorageService=r,this._appService=u}canActivate(r,u){return console.log(r,u),!!this._tokenStorageService.isAuthorized()||(this._appService.signOut(),!1)}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(qa.i),b.LFG(yo.z))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()]},{path:"auth",loadChildren:()=>D.e(1).then(D.bind(D,8001)).then(a=>a.AuthModule)}];let Xa=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=b.oAB({type:a}),a.\u0275inj=b.cJS({imports:[qs.Bz.forRoot(Qa,{scrollPositionRestoration:"enabled"}),qs.Bz]}),a})();var F=D(9798),te=D(2340),H=D(6188),ye=D(445);let vt=(()=>{class a{constructor(r,u){this._appService=r,this._tokenStorageService=u,this.makeIcons()}get theme(){return this._appService.getTheme()||"light"}get isAuthorized(){return this._tokenStorageService.isAuthorized()}makeIcons(){}}return a.\u0275fac=function(r){return new(r||a)(b.Y36(yo.z),b.Y36(qa.i))},a.\u0275cmp=b.Xpm({type:a,selectors:[["app-footer"]],decls:9,vars:3,consts:[[1,"container"],[1,"footer-bottom"],[1,"footer-bottom-right"],[1,"copyright"],[1,"footer-center"]],template:function(r,u){1&r&&(b.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"p"),b._uU(6),b.ALo(7,"translate"),b.qZA()()(),b._UZ(8,"div",4),b.qZA()()()),2&r&&(b.xp6(6),b.hij(" ",b.lcZ(7,1,"COPYRIGHT")," "))},dependencies:[H.X$],styles:['.footer-right[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{font-weight:700;font-variation-settings:"wght" 700;font-size:28px;line-height:42px}.footer-left-item[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-weight:500;font-variation-settings:"wght" 500;font-size:21px;line-height:32px}.footer-right-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:500;font-variation-settings:"wght" 500;font-size:16px;line-height:24px}.footer-left-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-weight:400;font-variation-settings:"wght" 400;font-size:14px;line-height:24px}.footer-bottom-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer-right[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:500;font-variation-settings:"wght" 500;font-size:11px;line-height:18px}.copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-variation-settings:"wght" 400;font-size:11px;line-height:18px}footer[_ngcontent-%COMP%]{transition:.3s all ease}.footer-social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border-radius:50%}.footer-social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .footer-social[_ngcontent-%COMP%], .copyright[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.footer-right[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{font-weight:700;font-variation-settings:"wght" 700;font-size:28px;line-height:42px}.footer-left-item[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-weight:500;font-variation-settings:"wght" 500;font-size:21px;line-height:32px}.footer-right-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:500;font-variation-settings:"wght" 500;font-size:16px;line-height:24px}.footer-left-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-weight:400;font-variation-settings:"wght" 400;font-size:14px;line-height:24px}.footer-bottom-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer-right[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:500;font-variation-settings:"wght" 500;font-size:11px;line-height:18px}.copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-variation-settings:"wght" 400;font-size:11px;line-height:18px}footer[_ngcontent-%COMP%]{background:#5848D5}.footer-inner[_ngcontent-%COMP%]{padding:72px 0 24px;display:flex;flex-wrap:wrap}.footer-right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer-right[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-bottom:24px}.footer-right[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{margin-bottom:24px;width:100%;color:#fff}.footer-right[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{width:100%;margin-bottom:48px}.footer-right-links[_ngcontent-%COMP%]{display:flex;align-items:center}.footer-right-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid #fff;color:#fff;padding:10px 30px!important}.footer-right-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:24px;color:#5848d5;border-radius:4px;background:#fff}.footer-cert[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;padding-top:10px}.footer-left-item[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.footer-left-item[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin-bottom:24px;width:100%;color:#ded9f7}.footer-left-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{width:100%;display:flex;color:#fff;margin-bottom:24px}.footer-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-top:1px solid rgba(222,217,247,.3);height:100%;padding:24px 0}.copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.footer-left[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.footer-social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;margin:0 12px;width:48px;height:48px;border:2px solid #fff}.footer-social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]     svg path:not([stroke]){fill:#fff}.footer-social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]     svg path[stroke]{stroke:#fff}.footer-social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]     svg circle{stroke:#fff}.footer-center[_ngcontent-%COMP%], .footer-bottom-right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer-bottom-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin-bottom:8px}.dark[_nghost-%COMP%]   .footer-right[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .footer-right[_ngcontent-%COMP%]{color:#fff}']}),a})();var Zt=D(9300),dn=D(2024),ei=D(6992),Ji=D(7392),Zi=D(457);function rr(a,n){if(1&a){const r=b.EpF();b.TgZ(0,"div",12),b.ALo(1,"translate"),b.TgZ(2,"mat-icon",13),b.NdJ("click",function(){b.CHM(r);const f=b.oxw();return b.KtG(f.logOut())}),b.qZA()()}2&a&&b.s9C("title",b.lcZ(1,1,"LOGOUT"))}function Hi(a,n){if(1&a){const r=b.EpF();b.TgZ(0,"button",14),b.NdJ("click",function(){const y=b.CHM(r).$implicit,T=b.oxw();return b.KtG(T.changeLange(y))}),b._uU(1),b.ALo(2,"translate"),b.qZA()}if(2&a){const r=n.$implicit;b.xp6(1),b.Oqu(b.lcZ(2,1,r))}}const Zr=function(a){return{aa:a}};let mr=(()=>{class a extends dn.H{constructor(r,u,f,y,T,N,q){super(),this.platformId=r,this.document=u,this.el=f,this.router=y,this._tokenStorageService=T,this._appService=N,this._authService=q,this.forceThemeShow=!1,this.allLocales=["fa","en"],this.locales=["fa","en"],this.currentUrl="",this.term="",this.locale=te.N.defaultLang,this.isLoading=!1,this.coins=[],this.iconsList=[],this.showResponsiveMenu=!1,this.showSearchBox=!1,this.makeIcons()}get theme(){return this._appService.getTheme()||"light"}get isMobileView(){return this._appService.isMobileView}get showProgressBar(){return this._appService.showProgressBar}get isAuthorized(){return this._tokenStorageService.isAuthorized()}get user(){return this._appService.userInfo}get currentLocale(){return this._appService.getLang()}get lang(){return this._appService.lang||te.N.defaultLang}getAvatarSrc(){return`${this.user.avatar_id}`}ngOnInit(){this.getLanguages(),this.router.events.pipe((0,Zt.h)(r=>r instanceof qs.m2)).subscribe(()=>{this.getLanguages()})}makeIcons(){this._appService.addSVGIcon("direction-down-mid"),this._appService.addSVGIcon("direction-left-mid"),this._appService.addSVGIcon("moon-mid"),this._appService.addSVGIcon("sun-mid"),this._appService.addSVGIcon("logout-mid")}getLanguages(){this.locale=F.K.get(te.N.languageKey),this.locales=this.allLocales.filter(r=>r!=this.locale)}changeLange(r){this._appService.setLang(r),this.getLanguages()}changeTheme(){this._appService.setTheme("light"==this.theme?"dark":"light")}logOut(){this._authService.SignOut()}topMenuClickHandler(){}openMenu(){}}return a.\u0275fac=function(r){return new(r||a)(b.Y36(b.Lbi),b.Y36(K.K0),b.Y36(b.SBq),b.Y36(qs.F0),b.Y36(qa.i),b.Y36(yo.z),b.Y36(ei.e))},a.\u0275cmp=b.Xpm({type:a,selectors:[["app-header"]],inputs:{forceThemeShow:"forceThemeShow"},features:[b.qOj],decls:17,vars:13,consts:[[1,"header",3,"ngClass"],[1,"header-right"],[1,"header-logo"],[1,"header-menu"],[1,"header-left"],[1,"header-left-settings"],["class","header-theme ml-4",3,"title",4,"ngIf"],[1,"header-theme",3,"title","click"],[3,"svgIcon"],[3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"header-theme","ml-4",3,"title"],["svgIcon","logout-mid",3,"click"],["mat-menu-item","",3,"click"]],template:function(r,u){if(1&r&&(b.TgZ(0,"div",0),b.ynx(1),b.TgZ(2,"div",1),b._UZ(3,"div",2)(4,"div",3),b.qZA(),b._UZ(5,"div",4),b.TgZ(6,"div",5),b.YNc(7,rr,3,3,"div",6),b.TgZ(8,"div",7),b.NdJ("click",function(){return u.changeTheme()}),b.ALo(9,"translate"),b._UZ(10,"mat-icon",8),b.qZA(),b.TgZ(11,"span",9),b._uU(12),b.ALo(13,"translate"),b.qZA()(),b.TgZ(14,"mat-menu",null,10),b.YNc(16,Hi,3,3,"button",11),b.qZA(),b.BQk(),b.qZA()),2&r){const f=b.MAs(15);b.Q6J("ngClass",b.VKq(11,Zr,u.forceThemeShow&&u.isMobileView)),b.xp6(7),b.Q6J("ngIf",u.isAuthorized),b.xp6(1),b.s9C("title",b.lcZ(9,7,"THEME")),b.xp6(2),b.s9C("svgIcon","dark"==u.theme?"sun-mid":"moon-mid"),b.xp6(1),b.Q6J("matMenuTriggerFor",f),b.xp6(1),b.hij("",b.lcZ(13,9,u.currentLocale)," "),b.xp6(4),b.Q6J("ngForOf",u.allLocales)}},dependencies:[K.mk,K.sg,K.O5,Ji.Hw,Zi.VK,Zi.OP,Zi.p6,H.X$],styles:['.header-overlay[_ngcontent-%COMP%], .header-left-wrapper[_ngcontent-%COMP%], .header-left[_ngcontent-%COMP%], .header-menu[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{transition:.3s all ease}.submenu-overlay[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%]{transition:.2s all ease}.coin-table-coin-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{font-family:graphik;direction:ltr}.header-left-btn[_ngcontent-%COMP%], .header-left-auth-btn[_ngcontent-%COMP%], .header-left-settings[_ngcontent-%COMP%], .header-left-auth[_ngcontent-%COMP%], .header-theme[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.responsive-menu-top-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .responsive-menu-top-action[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:700;font-variation-settings:"wght" 700;font-size:16px;line-height:24px}.header-left-auth[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-weight:500;font-variation-settings:"wght" 500;font-size:16px;line-height:24px}.coin-table-coin-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .responsive-menu-link-right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-weight:500;font-variation-settings:"wght" 500;font-size:14px;line-height:24px}.responsive-menu-link-left[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .responsive-menu-top-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-variation-settings:"wght" 400;font-size:11px;line-height:18px}[_nghost-%COMP%]   .language-dropdown[_ngcontent-%COMP%]{margin-left:auto}[dir=rtl]   [_nghost-%COMP%]   .language-dropdown[_ngcontent-%COMP%]{margin-left:unset;margin-right:auto}.header[_ngcontent-%COMP%]{position:sticky;left:0;right:0;display:flex;justify-content:space-between;height:72px;padding:0 0 0 24px;align-items:center;background:#fff;top:0;z-index:99;border-bottom:1px solid #eee}.header[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:none}.avatar[_ngcontent-%COMP%]{width:48px;border-radius:50%}.aa[_ngcontent-%COMP%]{flex-direction:row-reverse}.header-right[_ngcontent-%COMP%]{display:flex}.header-right[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:40px;height:40px;font-size:18px;cursor:pointer}.header-menu[_ngcontent-%COMP%]{flex-grow:1;display:flex;padding-right:16px}.header-menu.header-menu-collapsed[_ngcontent-%COMP%]{transform:translate(0)}.header-menu-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;margin-left:32px;cursor:pointer}.header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{position:relative;color:#292929}.header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > i[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:11px}.header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > img[_ngcontent-%COMP%], .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:18px;margin-right:2px;margin-bottom:3px}.header-menu-item[_ngcontent-%COMP%]:hover{color:#5848d5}@media (min-width: 992px){.header-menu-item[_ngcontent-%COMP%]:hover   .submenu-overlay[_ngcontent-%COMP%]{display:flex}.header-menu-item[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%]{color:#5848d5}.header-menu-item[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transform:rotate(180deg)}}.header-menu-item.header-menu-item-active[_ngcontent-%COMP%]{color:#5848d5}.header-menu-item.header-menu-item-active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;height:2px;background:#5848D5;right:0;border-radius:5px}.submenu-overlay[_ngcontent-%COMP%]{position:absolute;display:none;right:0;top:100%;background:#fff;border-radius:4px;flex-direction:column;box-shadow:0 4px 20px #00000024;z-index:9;opacity:0;animation:fade .2s ease forwards}.submenu-overlay[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:12px 16px;white-space:nowrap}.submenu-overlay[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#fcb500}.header-theme[_ngcontent-%COMP%]{cursor:pointer}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center}.header-left.header-left-collapsed[_ngcontent-%COMP%]{transform:translate(0)}.header-left-auth[_ngcontent-%COMP%]{position:relative;cursor:pointer}.header-left-auth[_ngcontent-%COMP%]   .submenu-overlay[_ngcontent-%COMP%]{right:auto;left:0}.header-left-auth[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:8px 12px;color:#292929;border-radius:4px}.header-left-auth[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{margin-right:10px;color:#fff;background:#5848D5}.header-left-auth[_ngcontent-%COMP%]:hover   .submenu-overlay[_ngcontent-%COMP%]{display:flex}.header-left-settings[_ngcontent-%COMP%]{padding-right:21px;margin-right:18px;border-right:1px solid #d1d1d1}.header-left-settings[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{cursor:pointer}.header-left-auth-btn[_ngcontent-%COMP%]   .header-menu-item[_ngcontent-%COMP%]{margin-left:24px}.header-left-btn[_ngcontent-%COMP%]{margin-left:15px;cursor:pointer;stroke:#242424}.header-left-btn[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#fcb500;margin-right:8px}.header-left-btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:600}.auth-overlay-items[_ngcontent-%COMP%]{width:240px;padding:5px}.auth-overlay-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 5px;cursor:pointer}.auth-overlay-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px}.auth-overlay-item.auth-overlay-item-notifications[_ngcontent-%COMP%]{border-bottom:1px solid #BABABA;margin-bottom:10px}.auth-overlay-item-txt[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.5rem;padding-right:.5rem}.auth-overlay-item-txt[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.auth-overlay-item-txt[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:10px}.auth-overlay-item-txt.auth-overlay-item-txt-red[_ngcontent-%COMP%]{color:#db332a}.header-left-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-grow:1}.header-overlay[_ngcontent-%COMP%]{display:none;position:fixed;inset:72px 0 0;background:rgba(0,0,0,.5);z-index:99;opacity:0;animation:fade .3s ease forwards}.header-overlay.header-overlay-collapsed[_ngcontent-%COMP%]{display:block}.header-mobile-inner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;height:100%}.header-mobile-search[_ngcontent-%COMP%]{margin:0 24px;display:flex;align-items:center;background:#F3F5F7;width:calc(100% - 132px);height:100%;color:#898989}.header-mobile-search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:18px;min-width:18px;height:18px;min-height:18px}.header-mobile-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px;border:none;background:transparent;border-radius:4px}.header-mobile-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#898989}.header-mobile-left[_ngcontent-%COMP%]{display:flex;align-items:center}.header-mobile-left[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{margin-left:12px}.responsive-menu[_ngcontent-%COMP%]{transform:translate(100%);position:fixed;inset:0;background:#F8FAFB;z-index:9999999;display:flex;flex-direction:column;animation:.2s ease responsiveMenu forwards}.responsive-menu-top[_ngcontent-%COMP%]{background:#fff;margin-bottom:12px;display:flex;flex-direction:column;padding:12px}.responsive-menu-top-action[_ngcontent-%COMP%]{margin-bottom:24px;display:flex;align-items:center;justify-content:space-between}.responsive-menu-top-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:calc(50% - 8px)}.responsive-menu-top-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:24px}.responsive-menu-top-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:8px}.responsive-menu-top-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#656565}.responsive-menu-middle[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff;margin-bottom:12px}.responsive-menu-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff;flex-grow:1}.responsive-menu-links[_ngcontent-%COMP%]{display:flex;flex-direction:column}.responsive-menu-link[_ngcontent-%COMP%]{padding:16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #F3F5F7;color:#292929}.responsive-menu-link[_ngcontent-%COMP%]:last-child{border-bottom:none}.responsive-menu-link[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{width:100%}.responsive-menu-link-left[_ngcontent-%COMP%]{display:flex;align-items:center}.responsive-menu-link-left[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#acb0ba}.responsive-menu-link-left[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#898989;margin-left:8px}.responsive-menu-link-right[_ngcontent-%COMP%]{display:flex;align-items:center}.responsive-menu-link-right[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px}.responsive-menu-link-right[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-left:8px;width:24px}.header-search-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:12px;height:100%}.header-search-wrapper[_ngcontent-%COMP%]   .header-mobile-search[_ngcontent-%COMP%]{margin:0 0 0 12px;width:auto;flex-grow:1}.header-search-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.header-mobile-search-result[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;height:calc(100% - 24px)}.header-mobile-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;border-bottom:1px solid #F3F5F7}.header-mobile-result-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:32px;margin-left:8px}.coin-table-coin-name[_ngcontent-%COMP%]{display:flex;align-items:center}.coin-table-coin-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#656565;margin-left:6px}.coin-table-coin-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-of-type{color:#141416}.dark[_nghost-%COMP%]   .header-mobile-result-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .header-mobile-result-item[_ngcontent-%COMP%]{border-color:#2d3039}.dark[_nghost-%COMP%]   .coin-table-coin-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .coin-table-coin-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#f3f5f7}.dark[_nghost-%COMP%]   .coin-table-coin-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-of-type, .dark   [_nghost-%COMP%]   .coin-table-coin-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-of-type{color:#fff}.dark[_nghost-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .header-mobile-inner[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .header-mobile-left[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .header-mobile-left[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#acb0ba}.dark[_nghost-%COMP%]   .header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{background:#18191D;border-color:#23262f}.dark[_nghost-%COMP%]   .header-mobile-search[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .header-mobile-search[_ngcontent-%COMP%]{background:#23262F;border-color:#23262f}.dark[_nghost-%COMP%]   .header-left-auth[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .header-left-auth[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{color:#fff}.dark[_nghost-%COMP%]   .header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff}.dark[_nghost-%COMP%]   .header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     path, .dark   [_nghost-%COMP%]   .header-menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     path, .dark[_nghost-%COMP%]   .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     path, .dark   [_nghost-%COMP%]   .header-menu-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     path{stroke:#fff}.dark[_nghost-%COMP%]   .header-theme[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     path, .dark   [_nghost-%COMP%]   .header-theme[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     path{fill:#fff}.dark[_nghost-%COMP%]   .app-mobile-menu-item.app-mobile-menu-item-active[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .app-mobile-menu-item.app-mobile-menu-item-active[_ngcontent-%COMP%]{color:#784ffe}.dark[_nghost-%COMP%]   .responsive-menu[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .responsive-menu[_ngcontent-%COMP%]{background:#141416}.dark[_nghost-%COMP%]   .responsive-menu-bottom[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .responsive-menu-bottom[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .responsive-menu-middle[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .responsive-menu-middle[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .responsive-menu-top[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .responsive-menu-top[_ngcontent-%COMP%]{background:#18191D}.dark[_nghost-%COMP%]   .responsive-menu-top-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .responsive-menu-top-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#acb0ba}.dark[_nghost-%COMP%]   .responsive-menu-top-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .responsive-menu-top-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#acb0ba}.dark[_nghost-%COMP%]   .responsive-menu-link-right[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .responsive-menu-link-right[_ngcontent-%COMP%]{color:#fff}.dark[_nghost-%COMP%]   .responsive-menu-link-left[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .responsive-menu-link-left[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#acb0ba}.dark[_nghost-%COMP%]   .responsive-menu-link[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .responsive-menu-link[_ngcontent-%COMP%]{border-color:#23262f}@keyframes responsiveMenu{0%{transform:translate(100%)}to{transform:translate(0)}}']}),a})();function Er(a,n){1&a&&b._UZ(0,"app-footer")}function Jo(a,n){1&a&&(b.ynx(0),b._UZ(1,"div",2),b.BQk())}const So=function(a,n,r){return{"app-panel-wrapper-exchange":a,"app-panel-wrapper-full":n,"app-panel-wrapper-home":r}};let Mo=(()=>{class a{constructor(r,u,f,y,T,N){this.translateService=r,this._appService=u,this._router=f,this.platformId=y,this._tokenStorageService=T,this.document=N,this.checkRoute(),this.translateService.stream("DIR").subscribe(q=>{this.directionChanged(q)})}get dir(){return"rtl"}get lang(){return"fa"}get isExchangePage(){return this._appService.isExchangePage}get isFullModePage(){return this._appService.isFullModePage}get isHomePage(){return this._appService.isHomePage}get isMobileView(){return this._appService.isMobileView}get isAuthorized(){return this._tokenStorageService.isAuthorized()}get isDownloadingUpdates(){return this._appService.isDownloadingUpdates}checkRoute(){this._router.events.subscribe(r=>{if(r instanceof qs.m2){let u=["quick-order","exchange","profile","analysis","quick-buy","panel/accounting/deposit","panel/accounting/withdraw","panel/referral","panel/profile"];this._appService.isHomePage="/"===r.url||"/auth/sign-up"===r.url||"/help/exchange"===r.url,this._appService.isHomePage?(this._appService.isExchangePage=!1,this._appService.isFullModePage=!1):(this._appService.isExchangePage=-1!=r.url.indexOf(u[0])||-1!=r.url.indexOf(u[1])||-1!=r.url.indexOf(u[2])||-1!=r.url.indexOf(u[3])||-1!=r.url.indexOf(u[5])||-1!=r.url.indexOf(u[6])||-1!=r.url.indexOf(u[7]),this._appService.isFullModePage=-1!=r.url.indexOf(u[1])||-1!=r.url.indexOf(u[2])||-1!=r.url.indexOf(u[3]))}})}ngOnInit(){this.setCollapseState(),this.translateService.setDefaultLang(this.lang),this._appService.setLang(this.lang),this._getTheme(),this.setCollapseState(),this._appService.getLangChange().subscribe(r=>{r&&(this._appService.lang=r)}),window.addEventListener("raychat_ready",r=>{if(this._appService.isRaychatReady=!0,Raychat){if(this.isAuthorized){let u=this._tokenStorageService.decodeToken(F.K.get(te.N.accessTokenKey));Object.keys(u).length&&Raychat.setUser({email:u.email?u.email:"",name:"",about:"",phone:u.phone_number?u.phone_number:"",avatar:"",updateOnce:!0})}F.K.get("showChatBox")}})}ngAfterViewInit(){this.document.addEventListener("online",this.onNetworkStatusChange.bind(this)),this.document.addEventListener("offline",this.onNetworkStatusChange.bind(this))}onNetworkStatusChange(){console.log("offline "+!navigator.onLine)}onResize(r){this.setCollapseState(r.target.innerWidth)}setCollapseState(r=0){(0,K.NF)(this.platformId)&&window&&(r||(r=window.innerWidth),this._appService.isMobileView=r<992)}directionChanged(r){const u=this.document.getElementsByTagName("html")[0];this._appService.dir=r,u.dir=this._appService.dir,u.lang="rtl"===this._appService.dir?"fa":"en"}_getTheme(){let r=this._appService.getTheme()||"light";(0,K.NF)(this.platformId)&&(this.document.body.classList.remove("light","dark"),this.document.body.classList.add(r))}}return a.\u0275fac=function(r){return new(r||a)(b.Y36(H.sK),b.Y36(yo.z),b.Y36(qs.F0),b.Y36(b.Lbi),b.Y36(qa.i),b.Y36(K.K0))},a.\u0275cmp=b.Xpm({type:a,selectors:[["app-root"]],hostBindings:function(r,u){1&r&&b.NdJ("resize",function(y){return u.onResize(y)},!1,b.Jf7)},decls:6,vars:8,consts:[[1,"app-panel-wrapper",3,"dir","ngClass"],[4,"ngIf"],[1,"app-download-update-overlay"]],template:function(r,u){1&r&&(b.TgZ(0,"div",0),b._UZ(1,"app-header"),b.TgZ(2,"main"),b._UZ(3,"router-outlet"),b.qZA(),b.YNc(4,Er,1,0,"app-footer",1),b.YNc(5,Jo,2,0,"ng-container",1),b.qZA()),2&r&&(b.Q6J("dir",u.dir)("ngClass",b.kEZ(4,So,u.isExchangePage,u.isFullModePage,u.isHomePage)),b.xp6(4),b.Q6J("ngIf",!u.isMobileView),b.xp6(1),b.Q6J("ngIf",u.isDownloadingUpdates))},dependencies:[K.mk,K.O5,qs.lC,ye.Lv,vt,mr]}),a})();var ba=D(3106);class Us{constructor(n,r="/assets/i18n/",u=".json"){this.http=n,this.prefix=r,this.suffix=u}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`)}}var wr=D(529),co=D(2011),No=D(3385),_r=D(9751),Fo=D(9646),Jl=D(8996),Tl=D(8372),io=D(4004),ec=D(3900),vs=D(6351),Sl=D(3942),ka=D(5861),ea=D(9681),Qe=D(2090),Br=D(4859);const Vr="firebasestorage.googleapis.com",Pa="storageBucket";class Ai extends Qe.ZR{constructor(n,r,u=0){super(Ea(n),`Firebase Storage: ${r} (${Ea(n)})`),this.status_=u,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ai.prototype)}get status(){return this.status_}set status(n){this.status_=n}_codeEquals(n){return Ea(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Ea(a){return"storage/"+a}function Cr(){return new Ai("unknown","An unknown error occurred, please check the error payload for server response.")}function wn(){return new Ai("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function qr(){return new Ai("canceled","User canceled the upload/download.")}function fl(){return new Ai("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ta(a){return new Ai("invalid-argument",a)}function Lo(){return new Ai("app-deleted","The Firebase app was deleted.")}function nc(a){return new Ai("invalid-root-operation","The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function na(a,n){return new Ai("invalid-format","String does not match format '"+a+"': "+n)}function Ei(a){throw new Ai("internal-error","Internal error: "+a)}class Ar{constructor(n,r){this.bucket=n,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,r){let u;try{u=Ar.makeFromUrl(n,r)}catch{return new Ar(n,"")}if(""===u.path)return u;throw function Ac(a){return new Ai("invalid-default-bucket","Invalid default bucket '"+a+"'.")}(n)}static makeFromUrl(n,r){let u=null;const f="([A-Za-z0-9.\\-_]+)",N=new RegExp("^gs://"+f+"(/(.*))?$","i");function le(Ir){Ir.path_=decodeURIComponent(Ir.path)}const Et=r.replace(/[.]/g,"\\."),hr=[{regex:N,indices:{bucket:1,path:3},postModify:function y(Ir){"/"===Ir.path.charAt(Ir.path.length-1)&&(Ir.path_=Ir.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Et}/v[A-Za-z0-9_]+/b/${f}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:le},{regex:new RegExp(`^https?://${r===Vr?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${f}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:le}];for(let Ir=0;Ir<hr.length;Ir++){const ql=hr[Ir],Wa=ql.regex.exec(n);if(Wa){let wl=Wa[ql.indices.path];wl||(wl=""),u=new Ar(Wa[ql.indices.bucket],wl),ql.postModify(u);break}}if(null==u)throw function hl(a){return new Ai("invalid-url","Invalid URL '"+a+"'.")}(n);return u}}class Pu{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function ji(a){return"string"==typeof a||a instanceof String}function jn(a){return Hs()&&a instanceof Blob}function Hs(){return typeof Blob<"u"&&!(0,Qe.UG)()}function Bo(a,n,r,u){if(u<n)throw ta(`Invalid value for '${a}'. Expected ${n} or greater.`);if(u>r)throw ta(`Invalid value for '${a}'. Expected ${r} or less.`)}function Qs(a,n,r){let u=n;return null==r&&(u=`https://${n}`),`${r}://${u}/v0${a}`}function Fa(a){const n=encodeURIComponent;let r="?";for(const u in a)a.hasOwnProperty(u)&&(r=r+(n(u)+"=")+n(a[u])+"&");return r=r.slice(0,-1),r}var ps=(()=>{return(a=ps||(ps={}))[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT",ps;var a})();function xl(a,n){const r=a>=500&&a<600,f=-1!==[408,429].indexOf(a),y=-1!==n.indexOf(a);return r||f||y}class yr{constructor(n,r,u,f,y,T,N,q,le,gt,Et,Gt=!0){this.url_=n,this.method_=r,this.headers_=u,this.body_=f,this.successCodes_=y,this.additionalRetryCodes_=T,this.callback_=N,this.errorCallback_=q,this.timeout_=le,this.progressCallback_=gt,this.connectionFactory_=Et,this.retry=Gt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((cn,on)=>{this.resolve_=cn,this.reject_=on,this.start_()})}start_(){const r=(u,f)=>{const y=this.resolve_,T=this.reject_,N=f.connection;if(f.wasSuccessCode)try{const q=this.callback_(N,N.getResponse());!function pl(a){return void 0!==a}(q)?y():y(q)}catch(q){T(q)}else if(null!==N){const q=Cr();q.serverResponse=N.getErrorText(),T(this.errorCallback_?this.errorCallback_(N,q):q)}else T(f.canceled?this.appDelete_?Lo():qr():wn())};this.canceled_?r(0,new xc(!1,null,!0)):this.backoffId_=function ls(a,n,r){let u=1,f=null,y=null,T=!1,N=0;function q(){return 2===N}let le=!1;function gt(...ti){le||(le=!0,n.apply(null,ti))}function Et(ti){f=setTimeout(()=>{f=null,a(cn,q())},ti)}function Gt(){y&&clearTimeout(y)}function cn(ti,...Pi){if(le)return void Gt();if(ti)return Gt(),void gt.call(null,ti,...Pi);if(q()||T)return Gt(),void gt.call(null,ti,...Pi);let hr;u<64&&(u*=2),1===N?(N=2,hr=0):hr=1e3*(u+Math.random()),Et(hr)}let on=!1;function kn(ti){on||(on=!0,Gt(),!le&&(null!==f?(ti||(N=2),clearTimeout(f),Et(0)):ti||(N=1)))}return Et(0),y=setTimeout(()=>{T=!0,kn(!0)},r),kn}((u,f)=>{if(f)return void u(!1,new xc(!1,null,!0));const y=this.connectionFactory_();this.pendingConnection_=y;const T=N=>{null!==this.progressCallback_&&this.progressCallback_(N.loaded,N.lengthComputable?N.total:-1)};null!==this.progressCallback_&&y.addUploadProgressListener(T),y.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&y.removeUploadProgressListener(T),this.pendingConnection_=null;const N=y.getErrorCode()===ps.NO_ERROR,q=y.getStatus();if((!N||xl(q,this.additionalRetryCodes_))&&this.retry){const gt=y.getErrorCode()===ps.ABORT;return void u(!1,new xc(!1,null,gt))}const le=-1!==this.successCodes_.indexOf(q);u(!0,new xc(le,y))})},r,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function gi(a){a(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class xc{constructor(n,r,u){this.wasSuccessCode=n,this.connection=r,this.canceled=!!u}}function el(...a){const n=function ic(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==n){const r=new n;for(let u=0;u<a.length;u++)r.append(a[u]);return r.getBlob()}if(Hs())return new Blob(a);throw new Ai("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ml{constructor(n,r){this.data=n,this.contentType=r||null}}function wa(a,n){switch(a){case Li.RAW:return new ml(ia(n));case Li.BASE64:case Li.BASE64URL:return new ml(ms(a,n));case Li.DATA_URL:return new ml(function Rl(a){const n=new Uo(a);return n.base64?ms(Li.BASE64,n.rest):function Lu(a){let n;try{n=decodeURIComponent(a)}catch{throw na(Li.DATA_URL,"Malformed data URL.")}return ia(n)}(n.rest)}(n),function kl(a){return new Uo(a).contentType}(n))}throw Cr()}function ia(a){const n=[];for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);u<=127?n.push(u):u<=2047?n.push(192|u>>6,128|63&u):55296==(64512&u)?r<a.length-1&&56320==(64512&a.charCodeAt(r+1))?(u=65536|(1023&u)<<10|1023&a.charCodeAt(++r),n.push(240|u>>18,128|u>>12&63,128|u>>6&63,128|63&u)):n.push(239,191,189):56320==(64512&u)?n.push(239,191,189):n.push(224|u>>12,128|u>>6&63,128|63&u)}return new Uint8Array(n)}function ms(a,n){switch(a){case Li.BASE64:{const f=-1!==n.indexOf("-"),y=-1!==n.indexOf("_");if(f||y)throw na(a,"Invalid character '"+(f?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{const f=-1!==n.indexOf("+"),y=-1!==n.indexOf("/");if(f||y)throw na(a,"Invalid character '"+(f?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function Fu(a){if(typeof atob>"u")throw function Ml(a){return new Ai("unsupported-environment",`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(a)}(n)}catch(f){throw f.message.includes("polyfill")?f:na(a,"Invalid character found")}const u=new Uint8Array(r.length);for(let f=0;f<r.length;f++)u[f]=r.charCodeAt(f);return u}class Uo{constructor(n){this.base64=!1,this.contentType=null;const r=n.match(/^data:([^,]+)?,/);if(null===r)throw na(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const u=r[1]||null;null!=u&&(this.base64=function A(a,n){return a.length>=n.length&&a.substring(a.length-n.length)===n}(u,";base64"),this.contentType=this.base64?u.substring(0,u.length-7):u),this.rest=n.substring(n.indexOf(",")+1)}}class x{constructor(n,r){let u=0,f="";jn(n)?(this.data_=n,u=n.size,f=n.type):n instanceof ArrayBuffer?(r?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),u=this.data_.length):n instanceof Uint8Array&&(r?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),u=n.length),this.size_=u,this.type_=f}size(){return this.size_}type(){return this.type_}slice(n,r){if(jn(this.data_)){const f=function rn(a,n,r){return a.webkitSlice?a.webkitSlice(n,r):a.mozSlice?a.mozSlice(n,r):a.slice?a.slice(n,r):null}(this.data_,n,r);return null===f?null:new x(f)}{const u=new Uint8Array(this.data_.buffer,n,r-n);return new x(u,!0)}}static getBlob(...n){if(Hs()){const r=n.map(u=>u instanceof x?u.data_:u);return new x(el.apply(null,r))}{const r=n.map(T=>ji(T)?wa(Li.RAW,T).data:T.data_);let u=0;r.forEach(T=>{u+=T.byteLength});const f=new Uint8Array(u);let y=0;return r.forEach(T=>{for(let N=0;N<T.length;N++)f[y++]=T[N]}),new x(f,!0)}}uploadData(){return this.data_}}function S(a){let n;try{n=JSON.parse(a)}catch{return null}return function Al(a){return"object"==typeof a&&!Array.isArray(a)}(n)?n:null}function he(a){const n=a.lastIndexOf("/",a.length-2);return-1===n?a:a.slice(n+1)}function ut(a,n){return n}class et{constructor(n,r,u,f){this.server=n,this.local=r||n,this.writable=!!u,this.xform=f||ut}}let Wt=null;function Si(){if(Wt)return Wt;const a=[];a.push(new et("bucket")),a.push(new et("generation")),a.push(new et("metageneration")),a.push(new et("name","fullPath",!0));const r=new et("name");r.xform=function n(y,T){return function Un(a){return!ji(a)||a.length<2?a:he(a)}(T)},a.push(r);const f=new et("size");return f.xform=function u(y,T){return void 0!==T?Number(T):T},a.push(f),a.push(new et("timeCreated")),a.push(new et("updated")),a.push(new et("md5Hash",null,!0)),a.push(new et("cacheControl",null,!0)),a.push(new et("contentDisposition",null,!0)),a.push(new et("contentEncoding",null,!0)),a.push(new et("contentLanguage",null,!0)),a.push(new et("contentType",null,!0)),a.push(new et("metadata","customMetadata",!0)),Wt=a,Wt}function nr(a,n,r){const u=S(n);return null===u?null:function xr(a,n,r){const u={type:"file"},f=r.length;for(let y=0;y<f;y++){const T=r[y];u[T.local]=T.xform(u,n[T.server])}return function Qn(a,n){Object.defineProperty(a,"ref",{get:function r(){const y=new Ar(a.bucket,a.fullPath);return n._makeStorageReference(y)}})}(u,a),u}(a,u,r)}function cs(a,n){const r={},u=n.length;for(let f=0;f<u;f++){const y=n[f];y.writable&&(r[y.server]=a[y.local])}return JSON.stringify(r)}const sr="prefixes";class uo{constructor(n,r,u,f){this.url=n,this.method=r,this.handler=u,this.timeout=f,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function js(a){if(!a)throw Cr()}function aa(a,n){return function r(u,f){const y=nr(a,f,n);return js(null!==y),y}}function _l(a){return function n(r,u){let f;return f=401===r.getStatus()?r.getErrorText().includes("Firebase App Check token is invalid")?function $n(){return new Ai("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Mc(){return new Ai("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===r.getStatus()?function ai(a){return new Ai("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(a.bucket):403===r.getStatus()?function sn(a){return new Ai("unauthorized","User does not have permission to access '"+a+"'.")}(a.path):u,f.status=r.getStatus(),f.serverResponse=u.serverResponse,f}}function Ca(a){const n=_l(a);return function r(u,f){let y=n(u,f);return 404===u.getStatus()&&(y=function si(a){return new Ai("object-not-found","Object '"+a+"' does not exist.")}(a.path)),y.serverResponse=f.serverResponse,y}}function Oc(a,n,r){const f=Qs(n.fullServerUrl(),a.host,a._protocol),T=a.maxOperationRetryTime,N=new uo(f,"GET",aa(a,r),T);return N.errorHandler=Ca(n),N}function U(a,n,r,u,f){const y={};y.prefix=n.isRoot?"":n.path+"/",r&&r.length>0&&(y.delimiter=r),u&&(y.pageToken=u),f&&(y.maxResults=f);const N=Qs(n.bucketOnlyServerUrl(),a.host,a._protocol),le=a.maxOperationRetryTime,gt=new uo(N,"GET",function gl(a,n){return function r(u,f){const y=function oa(a,n,r){const u=S(r);return null===u?null:function sa(a,n,r){const u={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[sr])for(const f of r[sr]){const y=f.replace(/\/$/,""),T=a._makeStorageReference(new Ar(n,y));u.prefixes.push(T)}if(r.items)for(const f of r.items){const y=a._makeStorageReference(new Ar(n,f.name));u.items.push(y)}return u}(a,n,u)}(a,n,f);return js(null!==y),y}}(a,n.bucket),le);return gt.urlParams=y,gt.errorHandler=_l(n),gt}function Dn(a,n,r){const u=Object.assign({},r);return u.fullPath=a.path,u.size=n.size(),u.contentType||(u.contentType=function nn(a,n){return a&&a.contentType||n&&n.type()||"application/octet-stream"}(null,n)),u}class vi{constructor(n,r,u,f){this.current=n,this.total=r,this.finalized=!!u,this.metadata=f||null}}function xi(a,n){let r=null;try{r=a.getResponseHeader("X-Goog-Upload-Status")}catch{js(!1)}return js(!!r&&-1!==(n||["active"]).indexOf(r)),r}const Ba={STATE_CHANGED:"state_changed"},Gs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Va(a){switch(a){case"running":case"pausing":case"canceling":return Gs.RUNNING;case"paused":return Gs.PAUSED;case"success":return Gs.SUCCESS;case"canceled":return Gs.CANCELED;default:return Gs.ERROR}}class Rc{constructor(n,r,u){if(function $i(a){return"function"==typeof a}(n)||null!=r||null!=u)this.next=n,this.error=r??void 0,this.complete=u??void 0;else{const y=n;this.next=y.next,this.error=y.error,this.complete=y.complete}}}function la(a){return(...n)=>{Promise.resolve().then(()=>a(...n))}}class Dr extends class yl{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ps.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ps.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ps.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,r,u,f){if(this.sent_)throw Ei("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,n,!0),void 0!==f)for(const y in f)f.hasOwnProperty(y)&&this.xhr_.setRequestHeader(y,f[y].toString());return void 0!==u?this.xhr_.send(u):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ei("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ei("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ei("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ei("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}{initXhr(){this.xhr_.responseType="text"}}function ro(){return new Dr}class su{constructor(n,r,u=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=r,this._metadata=u,this._mappings=Si(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=f=>{if(this._request=void 0,this._chunkMultiplier=1,f._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const y=this.isExponentialBackoffExpired();if(xl(f.status,[])){if(!y)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();f=wn()}this._error=f,this._transition("error")}},this._metadataErrorHandler=f=>{this._request=void 0,f._codeEquals("canceled")?this.completeTransitions_():(this._error=f,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((f,y)=>{this._resolve=f,this._reject=y,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const n=this._transferred;return r=>this._updateProgress(n+r)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,u])=>{switch(this._state){case"running":n(r,u);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,r)=>{const u=function Bi(a,n,r,u,f){const y=n.bucketOnlyServerUrl(),T=Dn(n,u,f),N={name:T.fullPath},q=Qs(y,a.host,a._protocol),gt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${u.size()}`,"X-Goog-Upload-Header-Content-Type":T.contentType,"Content-Type":"application/json; charset=utf-8"},Et=cs(T,r),on=new uo(q,"POST",function cn(kn){let ti;xi(kn);try{ti=kn.getResponseHeader("X-Goog-Upload-URL")}catch{js(!1)}return js(ji(ti)),ti},a.maxUploadRetryTime);return on.urlParams=N,on.headers=gt,on.body=Et,on.errorHandler=_l(n),on}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),f=this._ref.storage._makeRequest(u,ro,n,r);this._request=f,f.getPromise().then(y=>{this._request=void 0,this._uploadUrl=y,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((r,u)=>{const f=function wi(a,n,r,u){const q=new uo(r,"POST",function y(le){const gt=xi(le,["active","final"]);let Et=null;try{Et=le.getResponseHeader("X-Goog-Upload-Size-Received")}catch{js(!1)}Et||js(!1);const Gt=Number(Et);return js(!isNaN(Gt)),new vi(Gt,u.size(),"final"===gt)},a.maxUploadRetryTime);return q.headers={"X-Goog-Upload-Command":"query"},q.errorHandler=_l(n),q}(this._ref.storage,this._ref._location,n,this._blob),y=this._ref.storage._makeRequest(f,ro,r,u);this._request=y,y.getPromise().then(T=>{this._request=void 0,this._updateProgress(T.current),this._needToFetchStatus=!1,T.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,r=new vi(this._transferred,this._blob.size()),u=this._uploadUrl;this._resolveToken((f,y)=>{let T;try{T=function Ps(a,n,r,u,f,y,T,N){const q=new vi(0,0);if(T?(q.current=T.current,q.total=T.total):(q.current=0,q.total=u.size()),u.size()!==q.total)throw function Ja(){return new Ai("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const le=q.total-q.current;let gt=le;f>0&&(gt=Math.min(gt,f));const Et=q.current;let cn="";cn=0===gt?"finalize":le===gt?"upload, finalize":"upload";const on={"X-Goog-Upload-Command":cn,"X-Goog-Upload-Offset":`${q.current}`},kn=u.slice(Et,Et+gt);if(null===kn)throw fl();const hr=new uo(r,"POST",function ti(Ir,ql){const Wa=xi(Ir,["active","final"]),ga=q.current+gt,wl=u.size();let Ic;return Ic="final"===Wa?aa(n,y)(Ir,ql):null,new vi(ga,wl,"final"===Wa,Ic)},n.maxUploadRetryTime);return hr.headers=on,hr.body=kn.uploadData(),hr.progressCallback=N||null,hr.errorHandler=_l(a),hr}(this._ref._location,this._ref.storage,u,this._blob,n,this._mappings,r,this._makeProgressCallback())}catch(q){return this._error=q,void this._transition("error")}const N=this._ref.storage._makeRequest(T,ro,f,y,!1);this._request=N,N.getPromise().then(q=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(q.current),q.finalized?(this._metadata=q.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,r)=>{const u=Oc(this._ref.storage,this._ref._location,this._mappings),f=this._ref.storage._makeRequest(u,ro,n,r);this._request=f,f.getPromise().then(y=>{this._request=void 0,this._metadata=y,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,r)=>{const u=function Gn(a,n,r,u,f){const y=n.bucketOnlyServerUrl(),T={"X-Goog-Upload-Protocol":"multipart"},q=function N(){let hr="";for(let Ir=0;Ir<2;Ir++)hr+=Math.random().toString().slice(2);return hr}();T["Content-Type"]="multipart/related; boundary="+q;const le=Dn(n,u,f),gt=cs(le,r),cn=x.getBlob("--"+q+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+gt+"\r\n--"+q+"\r\nContent-Type: "+le.contentType+"\r\n\r\n",u,"\r\n--"+q+"--");if(null===cn)throw fl();const on={name:le.fullPath},kn=Qs(y,a.host,a._protocol),Pi=a.maxUploadRetryTime,Qi=new uo(kn,"POST",aa(a,r),Pi);return Qi.urlParams=on,Qi.headers=T,Qi.body=cn.uploadData(),Qi.errorHandler=_l(n),Qi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),f=this._ref.storage._makeRequest(u,ro,n,r);this._request=f,f.getPromise().then(y=>{this._request=void 0,this._metadata=y,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const r=this._transferred;this._transferred=n,this._transferred!==r&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r="paused"===this._state;this._state=n,r&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=n,this._notifyObservers();break;case"canceled":this._error=qr(),this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=Va(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,r,u,f){const y=new Rc(r||void 0,u||void 0,f||void 0);return this._addObserver(y),()=>{this._removeObserver(y)}}then(n,r){return this._promise.then(n,r)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const r=this._observers.indexOf(n);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(Va(this._state)){case Gs.SUCCESS:la(this._resolve.bind(null,this.snapshot))();break;case Gs.CANCELED:case Gs.ERROR:la(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(Va(this._state)){case Gs.RUNNING:case Gs.PAUSED:n.next&&la(n.next.bind(n,this.snapshot))();break;case Gs.SUCCESS:n.complete&&la(n.complete.bind(n))();break;default:n.error&&la(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class rc{constructor(n,r){this._service=n,this._location=r instanceof Ar?r:Ar.makeFromUrl(r,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,r){return new rc(n,r)}get root(){const n=new Ar(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return he(this._location.path)}get storage(){return this._service}get parent(){const n=function B(a){if(0===a.length)return null;const n=a.lastIndexOf("/");return-1===n?"":a.slice(0,n)}(this._location.path);if(null===n)return null;const r=new Ar(this._location.bucket,n);return new rc(this._service,r)}_throwIfRoot(n){if(""===this._location.path)throw nc(n)}}function Jd(a,n,r){return mp.apply(this,arguments)}function mp(){return(mp=(0,ka.Z)(function*(a,n,r){const f=yield lf(a,{pageToken:r});n.prefixes.push(...f.prefixes),n.items.push(...f.items),null!=f.nextPageToken&&(yield Jd(a,n,f.nextPageToken))})).apply(this,arguments)}function lf(a,n){null!=n&&"number"==typeof n.maxResults&&Bo("options.maxResults",1,1e3,n.maxResults);const r=n||{},u=U(a.storage,a._location,"/",r.pageToken,r.maxResults);return a.storage.makeRequestWithTokens(u,ro)}function Pc(a){a._throwIfRoot("getDownloadURL");const n=function ge(a,n,r){const f=Qs(n.fullServerUrl(),a.host,a._protocol),T=a.maxOperationRetryTime,N=new uo(f,"GET",function Pl(a,n){return function r(u,f){const y=nr(a,f,n);return js(null!==y),function La(a,n,r,u){const f=S(n);if(null===f||!ji(f.downloadTokens))return null;const y=f.downloadTokens;if(0===y.length)return null;const T=encodeURIComponent;return y.split(",").map(le=>{const Et=a.fullPath;return Qs("/b/"+T(a.bucket)+"/o/"+T(Et),r,u)+Fa({alt:"media",token:le})})[0]}(y,f,a.host,a._protocol)}}(a,r),T);return N.errorHandler=Ca(n),N}(a.storage,a._location,Si());return a.storage.makeRequestWithTokens(n,ro).then(r=>{if(null===r)throw function ks(){return new Ai("no-download-url","The given file does not have any download URLs.")}();return r})}function Xm(a,n){const r=function W(a,n){const r=n.split("/").filter(u=>u.length>0).join("/");return 0===a.length?r:a+"/"+r}(a._location.path,n),u=new Ar(a._location.bucket,r);return new rc(a.storage,u)}function sc(a,n){if(a instanceof th){const r=a;if(null==r._bucket)throw function tc(){return new Ai("no-default-bucket","No default bucket found. Did you set the '"+Pa+"' property when initializing the app?")}();const u=new rc(r,r._bucket);return null!=n?sc(u,n):u}return void 0!==n?Xm(a,n):a}function eg(a,n){if(n&&function Jm(a){return/^[A-Za-z]+:\/\//.test(a)}(n)){if(a instanceof th)return function eh(a,n){return new rc(a,n)}(a,n);throw ta("To use ref(service, url), the first argument must be a Storage instance.")}return sc(a,n)}function au(a,n){const r=n?.[Pa];return null==r?null:Ar.makeFromBucketSpec(r,a)}class th{constructor(n,r,u,f,y){this.app=n,this._authProvider=r,this._appCheckProvider=u,this._url=f,this._firebaseVersion=y,this._bucket=null,this._host=Vr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=f?Ar.makeFromBucketSpec(f,this._host):au(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?Ar.makeFromBucketSpec(this._url,n):au(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){Bo("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){Bo("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,ka.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const r=n._authProvider.getImmediate({optional:!0});if(r){const u=yield r.getToken();if(null!==u)return u.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,ka.Z)(function*(){const r=n._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new rc(this,n)}_makeRequest(n,r,u,f,y=!0){if(this._deleted)return new Pu(Lo());{const T=function Ol(a,n,r,u,f,y,T=!0){const N=Fa(a.urlParams),q=a.url+N,le=Object.assign({},a.headers);return function Nu(a,n){n&&(a["X-Firebase-GMPID"]=n)}(le,n),function iu(a,n){null!==n&&n.length>0&&(a.Authorization="Firebase "+n)}(le,r),function Vo(a,n){a["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}(le,y),function Xd(a,n){null!==n&&(a["X-Firebase-AppCheck"]=n)}(le,u),new yr(q,a.method,le,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,f,T)}(n,this._appId,u,f,r,this._firebaseVersion,y);return this._requests.add(T),T.getPromise().then(()=>this._requests.delete(T),()=>this._requests.delete(T)),T}}makeRequestWithTokens(n,r){var u=this;return(0,ka.Z)(function*(){const[f,y]=yield Promise.all([u._getAuthToken(),u._getAppCheckToken()]);return u._makeRequest(n,r,f,y).getPromise()})()}}const nh="@firebase/storage";function uf(a,n){return eg(a=(0,Qe.m9)(a),n)}function lu(a,{instanceIdentifier:n}){const r=a.getProvider("app").getImmediate(),u=a.getProvider("auth-internal"),f=a.getProvider("app-check-internal");return new th(r,u,f,n,ea.SDK_VERSION)}!function O(){(0,ea._registerComponent)(new Br.wA("storage",lu,"PUBLIC").setMultipleInstances(!0)),(0,ea.registerVersion)(nh,"0.9.14",""),(0,ea.registerVersion)(nh,"0.9.14","esm2017")}();class v{constructor(n,r,u){this._delegate=n,this.task=r,this.ref=u}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class w{constructor(n,r){this._delegate=n,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new v(this._delegate.snapshot,this,this._ref)}then(n,r){return this._delegate.then(u=>{if(n)return n(new v(u,this,this._ref))},r)}on(n,r,u,f){let y;return r&&(y="function"==typeof r?T=>r(new v(T,this,this._ref)):{next:r.next?T=>r.next(new v(T,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(n,y,u||void 0,f||void 0)}}class P{constructor(n,r){this._delegate=n,this._service=r}get prefixes(){return this._delegate.prefixes.map(n=>new ce(n,this._service))}get items(){return this._delegate.items.map(n=>new ce(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ce{constructor(n,r){this._delegate=n,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const r=function yp(a,n){return Xm(a,n)}(this._delegate,n);return new ce(r,this.storage)}get root(){return new ce(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new ce(n,this.storage)}put(n,r){return this._throwIfRoot("put"),new w(function tl(a,n,r){return function ou(a,n,r){return a._throwIfRoot("uploadBytesResumable"),new su(a,new x(n),r)}(a=(0,Qe.m9)(a),n,r)}(this._delegate,n,r),this)}putString(n,r=Li.RAW,u){this._throwIfRoot("putString");const f=wa(r,n),y=Object.assign({},u);return null==y.contentType&&null!=f.contentType&&(y.contentType=f.contentType),new w(new su(this._delegate,new x(f.data,!0),y),this)}listAll(){return function ih(a){return function qm(a){const n={prefixes:[],items:[]};return Jd(a,n).then(()=>n)}(a=(0,Qe.m9)(a))}(this._delegate).then(n=>new P(n,this.storage))}list(n){return function gp(a,n){return lf(a=(0,Qe.m9)(a),n)}(this._delegate,n||void 0).then(r=>new P(r,this.storage))}getMetadata(){return function cf(a){return function q_(a){a._throwIfRoot("getMetadata");const n=Oc(a.storage,a._location,Si());return a.storage.makeRequestWithTokens(n,ro)}(a=(0,Qe.m9)(a))}(this._delegate)}updateMetadata(n){return function Ed(a,n){return function Qm(a,n){a._throwIfRoot("updateMetadata");const r=function nt(a,n,r,u){const y=Qs(n.fullServerUrl(),a.host,a._protocol),N=cs(r,u),le=a.maxOperationRetryTime,gt=new uo(y,"PATCH",aa(a,u),le);return gt.headers={"Content-Type":"application/json; charset=utf-8"},gt.body=N,gt.errorHandler=Ca(n),gt}(a.storage,a._location,n,Si());return a.storage.makeRequestWithTokens(r,ro)}(a=(0,Qe.m9)(a),n)}(this._delegate,n)}getDownloadURL(){return function rh(a){return Pc(a=(0,Qe.m9)(a))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function _p(a){return function Nl(a){a._throwIfRoot("deleteObject");const n=function Ht(a,n){const u=Qs(n.fullServerUrl(),a.host,a._protocol),N=new uo(u,"DELETE",function T(q,le){},a.maxOperationRetryTime);return N.successCodes=[200,204],N.errorHandler=Ca(n),N}(a.storage,a._location);return a.storage.makeRequestWithTokens(n,ro)}(a=(0,Qe.m9)(a))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw nc(n)}}class Ve{constructor(n,r){this.app=n,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(Kt(n))throw ta("ref() expected a child path but got a URL, use refFromURL instead.");return new ce(uf(this._delegate,n),this)}refFromURL(n){if(!Kt(n))throw ta("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ar.makeFromUrl(n,this._delegate.host)}catch{throw ta("refFromUrl() expected a valid full URL but got an invalid one.")}return new ce(uf(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,r,u={}){!function vp(a,n,r,u={}){!function tg(a,n,r,u={}){a.host=`${n}:${r}`,a._protocol="http";const{mockUserToken:f}=u;f&&(a._overrideAuthToken="string"==typeof f?f:(0,Qe.Sg)(f,a.app.options.projectId))}(a,n,r,u)}(this._delegate,n,r,u)}}function Kt(a){return/^[A-Za-z]+:\/\//.test(a)}function hi(a,{instanceIdentifier:n}){const r=a.getProvider("app-compat").getImmediate(),u=a.getProvider("storage").getImmediate({identifier:n});return new Ve(r,u)}!function Xr(a){const n={TaskState:Gs,TaskEvent:Ba,StringFormat:Li,Storage:Ve,Reference:ce};a.INTERNAL.registerComponent(new Br.wA("storage-compat",hi,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),a.registerVersion("@firebase/storage-compat","0.1.22")}(Sl.Z);var Da=D(440),Fl=D(127);function oc(a){const n=function Uu(a){return new _r.y(n=>{const r=T=>n.next(T);r(a.snapshot);const y=a.on("state_changed",r);return a.then(T=>{r(T),n.complete()},T=>{r(a.snapshot),(T=>{n.error(T)})(T)}),function(){y()}}).pipe((0,Tl.b)(0))}(a);return{task:a,then:a.then.bind(a),catch:a.catch.bind(a),pause:a.pause.bind(a),cancel:a.cancel.bind(a),resume:a.resume.bind(a),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,io.U)(r=>r.bytesTransferred/r.totalBytes*100))}}function Hu(a){return{getDownloadURL:()=>(0,Fo.of)(void 0).pipe(vs.fc,(0,ec.w)(()=>a.getDownloadURL()),vs.iC),getMetadata:()=>(0,Fo.of)(void 0).pipe(vs.fc,(0,ec.w)(()=>a.getMetadata()),vs.iC),delete:()=>(0,Jl.D)(a.delete()),child:n=>Hu(a.child(n)),updateMetadata:n=>(0,Jl.D)(a.updateMetadata(n)),put:(n,r)=>oc(a.put(n,r)),putString:(n,r,u)=>oc(a.putString(n,r,u)),list:n=>(0,Jl.D)(a.list(n)),listAll:()=>(0,Jl.D)(a.listAll())}}const oh=new b.OlP("angularfire2.storageBucket"),cu=new b.OlP("angularfire2.storage.maxUploadRetryTime"),da=new b.OlP("angularfire2.storage.maxOperationRetryTime"),df=new b.OlP("angularfire2.storage.use-emulator");let hf=(()=>{class a{constructor(r,u,f,y,T,N,q,le,gt,Et){const Gt=(0,co.on)(r,T,u);this.storage=(0,co.cc)(`${Gt.name}.storage.${f}`,"AngularFireStorage",Gt.name,()=>{const cn=T.runOutsideAngular(()=>Gt.storage(f||void 0)),on=gt;return on&&cn.useEmulator(...on),q&&cn.setMaxUploadRetryTime(q),le&&cn.setMaxOperationRetryTime(le),cn},[q,le])}ref(r){return Hu(this.storage.ref(r))}refFromURL(r){return Hu(this.storage.refFromURL(r))}upload(r,u,f){return Hu(this.storage.ref(r)).put(u,f)}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(co.Dh),b.LFG(co.xv,8),b.LFG(oh,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(vs.HU),b.LFG(cu,8),b.LFG(da,8),b.LFG(df,8),b.LFG(Da.nm,8))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),ac=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=b.oAB({type:a}),a.\u0275inj=b.cJS({}),a})(),ah=(()=>{class a{constructor(){Fl.Z.registerVersion("angularfire",vs.q4.full,"gcs-compat")}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=b.oAB({type:a}),a.\u0275inj=b.cJS({providers:[hf],imports:[ac]}),a})();var bp=D(7407),bs=D(4986),ar=D(6451),ig=D(3099),rg=D(5026),Nc=D(1884),lv=D(1365),Ho=D(4482),ju=D(5403);D(5881);var Ll=D(1877);const Ep="@firebase/database",Gu="0.13.10";let wp="";function Cp(a){wp=a}class er{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,r){null==r?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,Qe.Wl)(r))}get(n){const r=this.domStorage_.getItem(this.prefixedName_(n));return null==r?null:(0,Qe.cI)(r)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class uv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,r){null==r?delete this.cache_[n]:this.cache_[n]=r}get(n){return(0,Qe.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const lh=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new er(n)}}catch{}return new uv},Bl=lh("localStorage"),bl=lh("sessionStorage"),Fc=new Ll.Yd("@firebase/database"),Dp=function(){let a=1;return function(){return a++}}(),sg=function(a){const n=(0,Qe.dS)(a),r=new Qe.gQ;r.update(n);const u=r.digest();return Qe.US.encodeByteArray(u)},pf=function(...a){let n="";for(let r=0;r<a.length;r++){const u=a[r];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?n+=pf.apply(null,u):n+="object"==typeof u?(0,Qe.Wl)(u):u,n+=" "}return n};let Lc=null,og=!0;const Ip=function(a,n){(0,Qe.hu)(!n||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(Fc.logLevel=Ll.in.VERBOSE,Lc=Fc.log.bind(Fc),n&&bl.set("logging_enabled",!0)):"function"==typeof a?Lc=a:(Lc=null,bl.remove("logging_enabled"))},Ao=function(...a){if(!0===og&&(og=!1,null===Lc&&!0===bl.get("logging_enabled")&&Ip(!0)),Lc){const n=pf.apply(null,a);Lc(n)}},ch=function(a){return function(...n){Ao(a,...n)}},mf=function(...a){const n="FIREBASE INTERNAL ERROR: "+pf(...a);Fc.error(n)},Ua=function(...a){const n=`FIREBASE FATAL ERROR: ${pf(...a)}`;throw Fc.error(n),new Error(n)},bo=function(...a){const n="FIREBASE WARNING: "+pf(...a);Fc.warn(n)},so=function(a){return"number"==typeof a&&(a!=a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Vl="[MIN_NAME]",Ia="[MAX_NAME]",Eo=function(a,n){if(a===n)return 0;if(a===Vl||n===Ia)return-1;if(n===Vl||a===Ia)return 1;{const r=uh(a),u=uh(n);return null!==r?null!==u?r-u==0?a.length-n.length:r-u:-1:null!==u?1:a<n?-1:1}},ag=function(a,n){return a===n?0:a<n?-1:1},Cd=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+(0,Qe.Wl)(n))},Dd=function(a){if("object"!=typeof a||null===a)return(0,Qe.Wl)(a);const n=[];for(const u in a)n.push(u);n.sort();let r="{";for(let u=0;u<n.length;u++)0!==u&&(r+=","),r+=(0,Qe.Wl)(n[u]),r+=":",r+=Dd(a[n[u]]);return r+="}",r},lg=function(a,n){const r=a.length;if(r<=n)return[a];const u=[];for(let f=0;f<r;f+=n)u.push(a.substring(f,f+n>r?r:f+n));return u};function wo(a,n){for(const r in a)a.hasOwnProperty(r)&&n(r,a[r])}const _f=function(a){(0,Qe.hu)(!so(a),"Invalid JSON number");const u=1023;let f,y,T,N,q;0===a?(y=0,T=0,f=1/a==-1/0?1:0):(f=a<0,(a=Math.abs(a))>=Math.pow(2,1-u)?(N=Math.min(Math.floor(Math.log(a)/Math.LN2),u),y=N+u,T=Math.round(a*Math.pow(2,52-N)-Math.pow(2,52))):(y=0,T=Math.round(a/Math.pow(2,-1074))));const le=[];for(q=52;q;q-=1)le.push(T%2?1:0),T=Math.floor(T/2);for(q=11;q;q-=1)le.push(y%2?1:0),y=Math.floor(y/2);le.push(f?1:0),le.reverse();const gt=le.join("");let Et="";for(q=0;q<64;q+=8){let Gt=parseInt(gt.substr(q,8),2).toString(16);1===Gt.length&&(Gt="0"+Gt),Et+=Gt}return Et.toLowerCase()},ug=new RegExp("^-?(0*)\\d{1,10}$"),Q_=-2147483648,dg=2147483647,uh=function(a){if(ug.test(a)){const n=Number(a);if(n>=Q_&&n<=dg)return n}return null},uu=function(a){try{a()}catch(n){setTimeout(()=>{throw bo("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Id=function(a,n){const r=setTimeout(a,n);return"number"==typeof r&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):"object"==typeof r&&r.unref&&r.unref(),r};class Mp{constructor(n,r){this.appName_=n,this.appCheckProvider=r,this.appCheck=r?.getImmediate({optional:!0}),this.appCheck||r?.get().then(u=>this.appCheck=u)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((r,u)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(r,u):r(null)},0)})}addTokenChangeListener(n){var r;null===(r=this.appCheckProvider)||void 0===r||r.get().then(u=>u.addTokenListener(n))}notifyForInvalidToken(){bo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class hg{constructor(n,r,u){this.appName_=n,this.firebaseOptions_=r,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(f=>this.auth_=f)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(r=>r&&"auth/token-not-initialized"===r.code?(Ao("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,u)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(r,u):r(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(r=>r.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(r=>r.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bo(n)}}let cc=(()=>{class a{constructor(r){this.accessToken=r}getToken(r){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(r){r(this.accessToken)}removeTokenChangeListener(r){}notifyForInvalidToken(){}}return a.OWNER="owner",a})();const Ta=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$u="websocket",yf="long_polling";class Ap{constructor(n,r,u,f,y=!1,T="",N=!1){this.secure=r,this.namespace=u,this.webSocketOnly=f,this.nodeAdmin=y,this.persistenceKey=T,this.includeNamespaceInQueryParams=N,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bl.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Bl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ey(a,n,r){let u;if((0,Qe.hu)("string"==typeof n,"typeof type must == string"),(0,Qe.hu)("object"==typeof r,"typeof params must == object"),n===$u)u=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else{if(n!==yf)throw new Error("Unknown connection type: "+n);u=(a.secure?"https://":"http://")+a.internalHost+"/.lp?"}(function hv(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams})(a)&&(r.ns=a.namespace);const f=[];return wo(r,(y,T)=>{f.push(y+"="+T)}),u+f.join("&")}class fv{constructor(){this.counters_={}}incrementCounter(n,r=1){(0,Qe.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=r}get(){return(0,Qe.p$)(this.counters_)}}const gg={},xp={};function _g(a){const n=a.toString();return gg[n]||(gg[n]=new fv),gg[n]}class mv{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,r){this.closeAfterResponse=n,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,r){for(this.pendingResponses[n]=r;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let f=0;f<u.length;++f)u[f]&&uu(()=>{this.onMessage_(u[f])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ha{constructor(n,r,u,f,y,T,N){this.connId=n,this.repoInfo=r,this.applicationId=u,this.appCheckToken=f,this.authToken=y,this.transportSessionId=T,this.lastSessionId=N,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ch(n),this.stats_=_g(r),this.urlFn=q=>(this.appCheckToken&&(q.ac=this.appCheckToken),ey(r,yf,q))}open(n,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new mv(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(a){if((0,Qe.Yr)()||"complete"===document.readyState)a();else{let n=!1;const r=function(){document.body?n||(n=!0,a()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pp((...y)=>{const[T,N,q,le,gt]=y;if(this.incrementIncomingBytes_(y),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===T)this.id=N,this.password=q;else{if("close"!==T)throw new Error("Unrecognized command received: "+T);N?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(N,()=>{this.onClosed_()})):this.onClosed_()}},(...y)=>{const[T,N]=y;this.incrementIncomingBytes_(y),this.myPacketOrderer.handleResponse(T,N)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Ta.test(location.hostname)&&(u.r="f");const f=this.urlFn(u);this.log_("Connecting via long-poll to "+f),this.scriptTagHolder.addTag(f,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ha.forceAllow_=!0}static forceDisallow(){Ha.forceDisallow_=!0}static isAvailable(){return!((0,Qe.Yr)()||!Ha.forceAllow_&&(Ha.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const r=(0,Qe.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const u=(0,Qe.h$)(r),f=lg(u,1840);for(let y=0;y<f.length;y++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,f.length,f[y]),this.curSegmentNum++}addDisconnectPingFrame(n,r){if((0,Qe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=n,u.pw=r,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const r=(0,Qe.Wl)(n).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Pp{constructor(n,r,u,f){if(this.onDisconnect=u,this.urlFn=f,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Qe.Yr)())this.commandCB=n,this.onMessageCB=r;else{this.uniqueCallbackIdentifier=Dp(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=r,this.myIFrame=Pp.createIFrame_();let y="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(y='<script>document.domain="'+document.domain+'";<\/script>');const T="<html><body>"+y+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(T),this.myIFrame.doc.close()}catch(N){Ao("frame writing exception"),N.stack&&Ao(N.stack),Ao(N)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Ao("No IE domain setting required")}catch{const u=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,r){for(this.myID=n,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let r=this.urlFn(n),u="",f=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const T=this.pendingSegs.shift();u=u+"&seg"+f+"="+T.seg+"&ts"+f+"="+T.ts+"&d"+f+"="+T.d,f++}return r+=u,this.addLongPollTag_(r,this.currentSerial),!0}return!1}enqueueSegment(n,r,u){this.pendingSegs.push({seg:n,ts:r,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(n,r){this.outstandingRequests.add(r);const u=()=>{this.outstandingRequests.delete(r),this.newRequest_()},f=setTimeout(u,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(f),u()})}addTag(n,r){(0,Qe.Yr)()?this.doNodeLongPoll(n,r):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=n,u.onload=u.onreadystatechange=function(){const f=u.readyState;(!f||"loaded"===f||"complete"===f)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),r())},u.onerror=()=>{Ao("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let Wu=null;typeof MozWebSocket<"u"?Wu=MozWebSocket:typeof WebSocket<"u"&&(Wu=WebSocket);let nl=(()=>{class a{constructor(r,u,f,y,T,N,q){this.connId=r,this.applicationId=f,this.appCheckToken=y,this.authToken=T,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ch(this.connId),this.stats_=_g(u),this.connURL=a.connectionURL_(u,N,q,y,f),this.nodeAdmin=u.nodeAdmin}static connectionURL_(r,u,f,y,T){const N={v:"5"};return!(0,Qe.Yr)()&&typeof location<"u"&&location.hostname&&Ta.test(location.hostname)&&(N.r="f"),u&&(N.s=u),f&&(N.ls=f),y&&(N.ac=y),T&&(N.p=T),ey(r,$u,N)}open(r,u){this.onDisconnect=u,this.onMessage=r,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bl.set("previous_websocket_failure",!0);try{let f;if((0,Qe.Yr)()){f={headers:{"User-Agent":`Firebase/5/${wp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(f.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(f.headers["X-Firebase-AppCheck"]=this.appCheckToken);const T=process.env,N=0===this.connURL.indexOf("wss://")?T.HTTPS_PROXY||T.https_proxy:T.HTTP_PROXY||T.http_proxy;N&&(f.proxy={origin:N})}this.mySock=new Wu(this.connURL,[],f)}catch(f){this.log_("Error instantiating WebSocket.");const y=f.message||f.data;return y&&this.log_(y),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=f=>{this.handleIncomingFrame(f)},this.mySock.onerror=f=>{this.log_("WebSocket error.  Closing connection.");const y=f.message||f.data;y&&this.log_(y),this.onClosed_()}}start(){}static forceDisallow(){a.forceDisallow_=!0}static isAvailable(){let r=!1;if(typeof navigator<"u"&&navigator.userAgent){const f=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);f&&f.length>1&&parseFloat(f[1])<4.4&&(r=!0)}return!r&&null!==Wu&&!a.forceDisallow_}static previouslyFailed(){return Bl.isInMemoryStorage||!0===Bl.get("previous_websocket_failure")}markConnectionHealthy(){Bl.remove("previous_websocket_failure")}appendFrame_(r){if(this.frames.push(r),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const f=(0,Qe.cI)(u);this.onMessage(f)}}handleNewFrameCount_(r){this.totalFrames=r,this.frames=[]}extractFrameCount_(r){if((0,Qe.hu)(null===this.frames,"We already have a frame buffer"),r.length<=6){const u=Number(r);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),r}handleIncomingFrame(r){if(null===this.mySock)return;const u=r.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const f=this.extractFrameCount_(u);null!==f&&this.appendFrame_(f)}}send(r){this.resetKeepAlive();const u=(0,Qe.Wl)(r);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const f=lg(u,16384);f.length>1&&this.sendString_(String(f.length));for(let y=0;y<f.length;y++)this.sendString_(f[y])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(r){try{this.mySock.send(r)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return a.responsesRequiredToBeHealthy=2,a.healthyTimeout=3e4,a})(),Ku=(()=>{class a{constructor(r){this.initTransports_(r)}static get ALL_TRANSPORTS(){return[Ha,nl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(r){const u=nl&&nl.isAvailable();let f=u&&!nl.previouslyFailed();if(r.webSocketOnly&&(u||bo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),f=!0),f)this.transports_=[nl];else{const y=this.transports_=[];for(const T of a.ALL_TRANSPORTS)T&&T.isAvailable()&&y.push(T);a.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return a.globalTransportInitialized_=!1,a})();class Fp{constructor(n,r,u,f,y,T,N,q,le,gt){this.id=n,this.repoInfo_=r,this.applicationId_=u,this.appCheckToken_=f,this.authToken_=y,this.onMessage_=T,this.onReady_=N,this.onDisconnect_=q,this.onKill_=le,this.lastSessionId=gt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ch("c:"+this.id+":"),this.transportManager_=new Ku(r),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,u)},Math.floor(0));const f=n.healthyTimeout||0;f>0&&(this.healthyTimeout_=Id(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(f)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return r=>{n===this.conn_?this.onConnectionLost_(r):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return r=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(r):n===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const r=n.t;"a"===r?this.upgradeIfSecondaryHealthy_():"r"===r?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===r&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const r=Cd("t",n),u=Cd("d",n);if("c"===r)this.onSecondaryControl_(u);else{if("d"!==r)throw new Error("Unknown protocol layer: "+r);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const r=Cd("t",n),u=Cd("d",n);"c"===r?this.onControl_(u):"d"===r&&this.onDataMessage_(u)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const r=Cd("t",n);if("d"in n){const u=n.d;if("h"===r)this.onHandshake_(u);else if("n"===r){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let f=0;f<this.pendingDataMessages.length;++f)this.onDataMessage_(this.pendingDataMessages[f]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===r?this.onConnectionShutdown_(u):"r"===r?this.onReset_(u):"e"===r?mf("Server Error: "+u):"o"===r?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mf("Unknown control packet command: "+r)}}onHandshake_(n){const r=n.ts,u=n.v,f=n.h;this.sessionId=n.s,this.repoInfo_.host=f,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),"5"!==u&&bo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,u),Id(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,r){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Id(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Mg{put(n,r,u,f){}merge(n,r,u,f){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,r,u){}onDisconnectMerge(n,r,u){}onDisconnectCancel(n,r){}reportStats(n){}}class Ag{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,Qe.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...r){if(Array.isArray(this.listeners_[n])){const u=[...this.listeners_[n]];for(let f=0;f<u.length;f++)u[f].callback.apply(u[f].context,r)}}on(n,r,u){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:r,context:u});const f=this.getInitialEvent(n);f&&r.apply(u,f)}off(n,r,u){this.validateEventType_(n);const f=this.listeners_[n]||[];for(let y=0;y<f.length;y++)if(f[y].callback===r&&(!u||u===f[y].context))return void f.splice(y,1)}validateEventType_(n){(0,Qe.hu)(this.allowedEvents_.find(r=>r===n),"Unknown event: "+n)}}class Lp extends Ag{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Qe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Lp}getInitialEvent(n){return(0,Qe.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class ur{constructor(n,r){if(void 0===r){this.pieces_=n.split("/");let u=0;for(let f=0;f<this.pieces_.length;f++)this.pieces_[f].length>0&&(this.pieces_[u]=this.pieces_[f],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=r}toString(){let n="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)""!==this.pieces_[r]&&(n+="/"+this.pieces_[r]);return n||"/"}}function Ur(){return new ur("")}function lr(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Vc(a){return a.pieces_.length-a.pieceNum_}function Jr(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new ur(a.pieces_,n)}function Sd(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function fh(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function Yu(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let r=a.pieceNum_;r<a.pieces_.length-1;r++)n.push(a.pieces_[r]);return new ur(n,0)}function es(a,n){const r=[];for(let u=a.pieceNum_;u<a.pieces_.length;u++)r.push(a.pieces_[u]);if(n instanceof ur)for(let u=n.pieceNum_;u<n.pieces_.length;u++)r.push(n.pieces_[u]);else{const u=n.split("/");for(let f=0;f<u.length;f++)u[f].length>0&&r.push(u[f])}return new ur(r,0)}function qi(a){return a.pieceNum_>=a.pieces_.length}function Go(a,n){const r=lr(a),u=lr(n);if(null===r)return n;if(r===u)return Go(Jr(a),Jr(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function Cf(a,n){const r=fh(a,0),u=fh(n,0);for(let f=0;f<r.length&&f<u.length;f++){const y=Eo(r[f],u[f]);if(0!==y)return y}return r.length===u.length?0:r.length<u.length?-1:1}function oo(a,n){if(Vc(a)!==Vc(n))return!1;for(let r=a.pieceNum_,u=n.pieceNum_;r<=a.pieces_.length;r++,u++)if(a.pieces_[r]!==n.pieces_[u])return!1;return!0}function il(a,n){let r=a.pieceNum_,u=n.pieceNum_;if(Vc(a)>Vc(n))return!1;for(;r<a.pieces_.length;){if(a.pieces_[r]!==n.pieces_[u])return!1;++r,++u}return!0}class ph{constructor(n,r){this.errorPrefix_=r,this.parts_=fh(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,Qe.ug)(this.parts_[u]);Uc(this)}}function Uc(a){if(a.byteLength_>768)throw new Error(a.errorPrefix_+"has a key path longer than 768 bytes ("+a.byteLength_+").");if(a.parts_.length>32)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ha(a))}function ha(a){return 0===a.parts_.length?"":"in property '"+a.parts_.join(".")+"'"}class Vp extends Ag{constructor(){let n,r;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const u=!document[n];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new Vp}getInitialEvent(n){return(0,Qe.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const uc=1e3;let dc,qu=(()=>{class a extends Mg{constructor(r,u,f,y,T,N,q,le){if(super(),this.repoInfo_=r,this.applicationId_=u,this.onDataUpdate_=f,this.onConnectStatus_=y,this.onServerInfoUpdate_=T,this.authTokenProvider_=N,this.appCheckTokenProvider_=q,this.authOverride_=le,this.id=a.nextPersistentConnectionId_++,this.log_=ch("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,le&&!(0,Qe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vp.getInstance().on("visible",this.onVisible_,this),-1===r.host.indexOf("fblocal")&&Lp.getInstance().on("online",this.onOnline_,this)}sendRequest(r,u,f){const y=++this.requestNumber_,T={r:y,a:r,b:u};this.log_((0,Qe.Wl)(T)),(0,Qe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(T),f&&(this.requestCBHash_[y]=f)}get(r){this.initConnection_();const u=new Qe.BH,f={p:r._path.toString(),q:r._queryObject};return this.outstandingGets_.push({action:"g",request:f,onComplete:N=>{const q=N.d;"ok"===N.s?u.resolve(q):u.reject(q)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(r,u,f,y){this.initConnection_();const T=r._queryIdentifier,N=r._path.toString();this.log_("Listen called for "+N+" "+T),this.listens.has(N)||this.listens.set(N,new Map),(0,Qe.hu)(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Qe.hu)(!this.listens.get(N).has(T),"listen() called twice for same path/queryId.");const q={onComplete:y,hashFn:u,query:r,tag:f};this.listens.get(N).set(T,q),this.connected_&&this.sendListen_(q)}sendGet_(r){const u=this.outstandingGets_[r];this.sendRequest("g",u.request,f=>{delete this.outstandingGets_[r],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(f)})}sendListen_(r){const u=r.query,f=u._path.toString(),y=u._queryIdentifier;this.log_("Listen on "+f+" for "+y);const T={p:f};r.tag&&(T.q=u._queryObject,T.t=r.tag),T.h=r.hashFn(),this.sendRequest("q",T,q=>{const le=q.d,gt=q.s;a.warnOnListenWarnings_(le,u),(this.listens.get(f)&&this.listens.get(f).get(y))===r&&(this.log_("listen response",q),"ok"!==gt&&this.removeListen_(f,y),r.onComplete&&r.onComplete(gt,le))})}static warnOnListenWarnings_(r,u){if(r&&"object"==typeof r&&(0,Qe.r3)(r,"w")){const f=(0,Qe.DV)(r,"w");if(Array.isArray(f)&&~f.indexOf("no_index")){const y='".indexOn": "'+u._queryParams.getIndex().toString()+'"',T=u._path.toString();bo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${y} at ${T} to your security rules for better performance.`)}}}refreshAuthToken(r){this.authToken_=r,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(r)}reduceReconnectDelayIfAdminCredential_(r){(r&&40===r.length||(0,Qe.GJ)(r))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(r){this.appCheckToken_=r,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const r=this.authToken_,u=(0,Qe.w9)(r)?"auth":"gauth",f={cred:r};null===this.authOverride_?f.noauth=!0:"object"==typeof this.authOverride_&&(f.authvar=this.authOverride_),this.sendRequest(u,f,y=>{const T=y.s,N=y.d||"error";this.authToken_===r&&("ok"===T?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(T,N))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},r=>{const u=r.s,f=r.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,f)})}unlisten(r,u){const f=r._path.toString(),y=r._queryIdentifier;this.log_("Unlisten called for "+f+" "+y),(0,Qe.hu)(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(f,y)&&this.connected_&&this.sendUnlisten_(f,y,r._queryObject,u)}sendUnlisten_(r,u,f,y){this.log_("Unlisten on "+r+" for "+u);const T={p:r};y&&(T.q=f,T.t=y),this.sendRequest("n",T)}onDisconnectPut(r,u,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",r,u,f):this.onDisconnectRequestQueue_.push({pathString:r,action:"o",data:u,onComplete:f})}onDisconnectMerge(r,u,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",r,u,f):this.onDisconnectRequestQueue_.push({pathString:r,action:"om",data:u,onComplete:f})}onDisconnectCancel(r,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",r,null,u):this.onDisconnectRequestQueue_.push({pathString:r,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(r,u,f,y){const T={p:u,d:f};this.log_("onDisconnect "+r,T),this.sendRequest(r,T,N=>{y&&setTimeout(()=>{y(N.s,N.d)},Math.floor(0))})}put(r,u,f,y){this.putInternal("p",r,u,f,y)}merge(r,u,f,y){this.putInternal("m",r,u,f,y)}putInternal(r,u,f,y,T){this.initConnection_();const N={p:u,d:f};void 0!==T&&(N.h=T),this.outstandingPuts_.push({action:r,request:N,onComplete:y}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(r){const u=this.outstandingPuts_[r].action,f=this.outstandingPuts_[r].request,y=this.outstandingPuts_[r].onComplete;this.outstandingPuts_[r].queued=this.connected_,this.sendRequest(u,f,T=>{this.log_(u+" response",T),delete this.outstandingPuts_[r],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),y&&y(T.s,T.d)})}reportStats(r){if(this.connected_){const u={c:r};this.log_("reportStats",u),this.sendRequest("s",u,f=>{"ok"!==f.s&&this.log_("reportStats","Error sending stats: "+f.d)})}}onDataMessage_(r){if("r"in r){this.log_("from server: "+(0,Qe.Wl)(r));const u=r.r,f=this.requestCBHash_[u];f&&(delete this.requestCBHash_[u],f(r.b))}else{if("error"in r)throw"A server-side error has occurred: "+r.error;"a"in r&&this.onDataPush_(r.a,r.b)}}onDataPush_(r,u){this.log_("handleServerMessage",r,u),"d"===r?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===r?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===r?this.onListenRevoked_(u.p,u.q):"ac"===r?this.onAuthRevoked_(u.s,u.d):"apc"===r?this.onAppCheckRevoked_(u.s,u.d):"sd"===r?this.onSecurityDebugPacket_(u):mf("Unrecognized action received from server: "+(0,Qe.Wl)(r)+"\nAre you using the latest client?")}onReady_(r,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(r),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(r){(0,Qe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(r))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(r){r&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=r}onOnline_(r){r?(this.log_("Browser went online."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=uc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const r=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-r);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var r=this;return(0,ka.Z)(function*(){if(r.shouldReconnect_()){r.log_("Making a connection attempt"),r.lastConnectionAttemptTime_=(new Date).getTime(),r.lastConnectionEstablishedTime_=null;const u=r.onDataMessage_.bind(r),f=r.onReady_.bind(r),y=r.onRealtimeDisconnect_.bind(r),T=r.id+":"+a.nextConnectionId_++,N=r.lastSessionId;let q=!1,le=null;const gt=function(){le?le.close():(q=!0,y())};r.realtime_={close:gt,sendRequest:function(cn){(0,Qe.hu)(le,"sendRequest call when we're not connected not allowed."),le.sendRequest(cn)}};const Gt=r.forceTokenRefresh_;r.forceTokenRefresh_=!1;try{const[cn,on]=yield Promise.all([r.authTokenProvider_.getToken(Gt),r.appCheckTokenProvider_.getToken(Gt)]);q?Ao("getToken() completed but was canceled"):(Ao("getToken() completed. Creating connection."),r.authToken_=cn&&cn.accessToken,r.appCheckToken_=on&&on.token,le=new Fp(T,r.repoInfo_,r.applicationId_,r.appCheckToken_,r.authToken_,u,f,y,kn=>{bo(kn+" ("+r.repoInfo_.toString()+")"),r.interrupt("server_kill")},N))}catch(cn){r.log_("Failed to get token: "+cn),q||(r.repoInfo_.nodeAdmin&&bo(cn),gt())}}})()}interrupt(r){Ao("Interrupting connection for reason: "+r),this.interruptReasons_[r]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(r){Ao("Resuming connection for reason: "+r),delete this.interruptReasons_[r],(0,Qe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(r){const u=r-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let r=0;r<this.outstandingPuts_.length;r++){const u=this.outstandingPuts_[r];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[r],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(r,u){let f;f=u?u.map(T=>Dd(T)).join("$"):"default";const y=this.removeListen_(r,f);y&&y.onComplete&&y.onComplete("permission_denied")}removeListen_(r,u){const f=new ur(r).toString();let y;if(this.listens.has(f)){const T=this.listens.get(f);y=T.get(u),T.delete(u),0===T.size&&this.listens.delete(f)}else y=void 0;return y}onAuthRevoked_(r,u){Ao("Auth token revoked: "+r+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===r||"permission_denied"===r)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(r,u){Ao("App check token revoked: "+r+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===r||"permission_denied"===r)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(r){this.securityDebugCallback_?this.securityDebugCallback_(r):"msg"in r&&console.log("FIREBASE: "+r.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const r of this.listens.values())for(const u of r.values())this.sendListen_(u);for(let r=0;r<this.outstandingPuts_.length;r++)this.outstandingPuts_[r]&&this.sendPut_(r);for(;this.onDisconnectRequestQueue_.length;){const r=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(r.action,r.pathString,r.data,r.onComplete)}for(let r=0;r<this.outstandingGets_.length;r++)this.outstandingGets_[r]&&this.sendGet_(r)}sendConnectStats_(){const r={};let u="js";(0,Qe.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),r["sdk."+u+"."+wp.replace(/\./g,"-")]=1,(0,Qe.uI)()?r["framework.cordova"]=1:(0,Qe.b$)()&&(r["framework.reactnative"]=1),this.reportStats(r)}shouldReconnect_(){const r=Lp.getInstance().currentlyOnline();return(0,Qe.xb)(this.interruptReasons_)&&r}}return a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a})();class gr{constructor(n,r){this.name=n,this.node=r}static Wrap(n,r){return new gr(n,r)}}class Hp{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,r){const u=new gr(Vl,n),f=new gr(Vl,r);return 0!==this.compare(u,f)}minPost(){return gr.MIN}}class Og extends Hp{static get __EMPTY_NODE(){return dc}static set __EMPTY_NODE(n){dc=n}compare(n,r){return Eo(n.name,r.name)}isDefinedOn(n){throw(0,Qe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,r){return!1}minPost(){return gr.MIN}maxPost(){return new gr(Ia,dc)}makePost(n,r){return(0,Qe.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new gr(n,dc)}toString(){return".key"}}const ja=new Og;class fu{constructor(n,r,u,f,y=null){this.isReverse_=f,this.resultGenerator_=y,this.nodeStack_=[];let T=1;for(;!n.isEmpty();)if(T=r?u(n.key,r):1,f&&(T*=-1),T<0)n=this.isReverse_?n.left:n.right;else{if(0===T){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let r,n=this.nodeStack_.pop();if(r=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let Gp,hc=(()=>{class a{constructor(r,u,f,y,T){this.key=r,this.value=u,this.color=f??a.RED,this.left=y??ho.EMPTY_NODE,this.right=T??ho.EMPTY_NODE}copy(r,u,f,y,T){return new a(r??this.key,u??this.value,f??this.color,y??this.left,T??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||!!r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,u,f){let y=this;const T=f(r,y.key);return y=T<0?y.copy(null,null,null,y.left.insert(r,u,f),null):0===T?y.copy(null,u,null,null,null):y.copy(null,null,null,null,y.right.insert(r,u,f)),y.fixUp_()}removeMin_(){if(this.left.isEmpty())return ho.EMPTY_NODE;let r=this;return!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.removeMin_(),null),r.fixUp_()}remove(r,u){let f,y;if(f=this,u(r,f.key)<0)!f.left.isEmpty()&&!f.left.isRed_()&&!f.left.left.isRed_()&&(f=f.moveRedLeft_()),f=f.copy(null,null,null,f.left.remove(r,u),null);else{if(f.left.isRed_()&&(f=f.rotateRight_()),!f.right.isEmpty()&&!f.right.isRed_()&&!f.right.left.isRed_()&&(f=f.moveRedRight_()),0===u(r,f.key)){if(f.right.isEmpty())return ho.EMPTY_NODE;y=f.right.min_(),f=f.copy(y.key,y.value,null,null,f.right.removeMin_())}f=f.copy(null,null,null,null,f.right.remove(r,u))}return f.fixUp_()}isRed_(){return this.color}fixUp_(){let r=this;return r.right.isRed_()&&!r.left.isRed_()&&(r=r.rotateLeft_()),r.left.isRed_()&&r.left.left.isRed_()&&(r=r.rotateRight_()),r.left.isRed_()&&r.right.isRed_()&&(r=r.colorFlip_()),r}moveRedLeft_(){let r=this.colorFlip_();return r.right.left.isRed_()&&(r=r.copy(null,null,null,null,r.right.rotateRight_()),r=r.rotateLeft_(),r=r.colorFlip_()),r}moveRedRight_(){let r=this.colorFlip_();return r.left.left.isRed_()&&(r=r.rotateRight_(),r=r.colorFlip_()),r}rotateLeft_(){const r=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight_(){const r=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip_(){const r=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,u)}checkMaxDepth_(){const r=this.check_();return Math.pow(2,r)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const r=this.left.check_();if(r!==this.right.check_())throw new Error("Black depths differ");return r+(this.isRed_()?0:1)}}return a.RED=!0,a.BLACK=!1,a})();class ho{constructor(n,r=ho.EMPTY_NODE){this.comparator_=n,this.root_=r}insert(n,r){return new ho(this.comparator_,this.root_.insert(n,r,this.comparator_).copy(null,null,hc.BLACK,null,null))}remove(n){return new ho(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,hc.BLACK,null,null))}get(n){let r,u=this.root_;for(;!u.isEmpty();){if(r=this.comparator_(n,u.key),0===r)return u.value;r<0?u=u.left:r>0&&(u=u.right)}return null}getPredecessorKey(n){let r,u=this.root_,f=null;for(;!u.isEmpty();){if(r=this.comparator_(n,u.key),0===r){if(u.left.isEmpty())return f?f.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}r<0?u=u.left:r>0&&(f=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new fu(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,r){return new fu(this.root_,n,this.comparator_,!1,r)}getReverseIteratorFrom(n,r){return new fu(this.root_,n,this.comparator_,!0,r)}getReverseIterator(n){return new fu(this.root_,null,this.comparator_,!0,n)}}function Df(a,n){return Eo(a.name,n.name)}function jp(a,n){return Eo(a,n)}ho.EMPTY_NODE=new class vv{copy(n,r,u,f,y){return this}insert(n,r,u){return new hc(n,r,null)}remove(n,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const zp=function(a){return"number"==typeof a?"number:"+_f(a):"string:"+a},$p=function(a){if(a.isLeafNode()){const n=a.val();(0,Qe.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,Qe.r3)(n,".sv"),"Priority must be a string or number.")}else(0,Qe.hu)(a===Gp||a.isEmpty(),"priority of unexpected type.");(0,Qe.hu)(a===Gp||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Wp,fo,mh,Qu=(()=>{class a{constructor(r,u=a.__childrenNodeConstructor.EMPTY_NODE){this.value_=r,this.priorityNode_=u,this.lazyHash_=null,(0,Qe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$p(this.priorityNode_)}static set __childrenNodeConstructor(r){Wp=r}static get __childrenNodeConstructor(){return Wp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(r){return new a(this.value_,r)}getImmediateChild(r){return".priority"===r?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}getChild(r){return qi(r)?this:".priority"===lr(r)?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(r,u){return null}updateImmediateChild(r,u){return".priority"===r?this.updatePriority(u):u.isEmpty()&&".priority"!==r?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(r,u).updatePriority(this.priorityNode_)}updateChild(r,u){const f=lr(r);return null===f?u:u.isEmpty()&&".priority"!==f?this:((0,Qe.hu)(".priority"!==f||1===Vc(r),".priority must be the last token in a path"),this.updateImmediateChild(f,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jr(r),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(r,u){return!1}val(r){return r&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let r="";this.priorityNode_.isEmpty()||(r+="priority:"+zp(this.priorityNode_.val())+":");const u=typeof this.value_;r+=u+":",r+="number"===u?_f(this.value_):this.value_,this.lazyHash_=sg(r)}return this.lazyHash_}getValue(){return this.value_}compareTo(r){return r===a.__childrenNodeConstructor.EMPTY_NODE?1:r instanceof a.__childrenNodeConstructor?-1:((0,Qe.hu)(r.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(r))}compareToLeafNode_(r){const u=typeof r.value_,f=typeof this.value_,y=a.VALUE_TYPE_ORDER.indexOf(u),T=a.VALUE_TYPE_ORDER.indexOf(f);return(0,Qe.hu)(y>=0,"Unknown leaf type: "+u),(0,Qe.hu)(T>=0,"Unknown leaf type: "+f),y===T?"object"===f?0:this.value_<r.value_?-1:this.value_===r.value_?0:1:T-y}withIndex(){return this}isIndexed(){return!0}equals(r){if(r===this)return!0;if(r.isLeafNode()){const u=r;return this.value_===u.value_&&this.priorityNode_.equals(u.priorityNode_)}return!1}}return a.VALUE_TYPE_ORDER=["object","boolean","number","string"],a})();const ws=new class wv extends Hp{compare(n,r){const u=n.node.getPriority(),f=r.node.getPriority(),y=u.compareTo(f);return 0===y?Eo(n.name,r.name):y}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,r){return!n.getPriority().equals(r.getPriority())}minPost(){return gr.MIN}maxPost(){return new gr(Ia,new Qu("[PRIORITY-POST]",mh))}makePost(n,r){const u=fo(n);return new gr(r,new Qu("[PRIORITY-POST]",u))}toString(){return".priority"}},uy=Math.log(2);class Kp{constructor(n){this.count=parseInt(Math.log(n+1)/uy,10),this.current_=this.count-1;const f=(y=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&f}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Yp=function(a,n,r,u){a.sort(n);const f=function(q,le){const gt=le-q;let Et,Gt;if(0===gt)return null;if(1===gt)return Et=a[q],Gt=r?r(Et):Et,new hc(Gt,Et.node,hc.BLACK,null,null);{const cn=parseInt(gt/2,10)+q,on=f(q,cn),kn=f(cn+1,le);return Et=a[cn],Gt=r?r(Et):Et,new hc(Gt,Et.node,hc.BLACK,on,kn)}},N=function(q){let le=null,gt=null,Et=a.length;const Gt=function(on,kn){const ti=Et-on,Pi=Et;Et-=on;const Qi=f(ti+1,Pi),hr=a[ti],Ir=r?r(hr):hr;cn(new hc(Ir,hr.node,kn,null,Qi))},cn=function(on){le?(le.left=on,le=on):(gt=on,le=on)};for(let on=0;on<q.count;++on){const kn=q.nextBitIsOne(),ti=Math.pow(2,q.count-(on+1));kn?Gt(ti,hc.BLACK):(Gt(ti,hc.BLACK),Gt(ti,hc.RED))}return gt}(new Kp(a.length));return new ho(u||n,N)};let pu;const Sa={};class fc{constructor(n,r){this.indexes_=n,this.indexSet_=r}static get Default(){return(0,Qe.hu)(Sa&&ws,"ChildrenNode.ts has not been loaded"),pu=pu||new fc({".priority":Sa},{".priority":ws}),pu}get(n){const r=(0,Qe.DV)(this.indexes_,n);if(!r)throw new Error("No index defined for "+n);return r instanceof ho?r:null}hasIndex(n){return(0,Qe.r3)(this.indexSet_,n.toString())}addIndex(n,r){(0,Qe.hu)(n!==ja,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let f=!1;const y=r.getIterator(gr.Wrap);let N,T=y.getNext();for(;T;)f=f||n.isDefinedOn(T.node),u.push(T),T=y.getNext();N=f?Yp(u,n.getCompare()):Sa;const q=n.toString(),le=Object.assign({},this.indexSet_);le[q]=n;const gt=Object.assign({},this.indexes_);return gt[q]=N,new fc(gt,le)}addToIndexes(n,r){const u=(0,Qe.UI)(this.indexes_,(f,y)=>{const T=(0,Qe.DV)(this.indexSet_,y);if((0,Qe.hu)(T,"Missing index implementation for "+y),f===Sa){if(T.isDefinedOn(n.node)){const N=[],q=r.getIterator(gr.Wrap);let le=q.getNext();for(;le;)le.name!==n.name&&N.push(le),le=q.getNext();return N.push(n),Yp(N,T.getCompare())}return Sa}{const N=r.get(n.name);let q=f;return N&&(q=q.remove(new gr(n.name,N))),q.insert(n,n.node)}});return new fc(u,this.indexSet_)}removeFromIndexes(n,r){const u=(0,Qe.UI)(this.indexes_,f=>{if(f===Sa)return f;{const y=r.get(n.name);return y?f.remove(new gr(n.name,y)):f}});return new fc(u,this.indexSet_)}}let mu,Gi=(()=>{class a{constructor(r,u,f){this.children_=r,this.priorityNode_=u,this.indexMap_=f,this.lazyHash_=null,this.priorityNode_&&$p(this.priorityNode_),this.children_.isEmpty()&&(0,Qe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mu||(mu=new a(new ho(jp),null,fc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mu}updatePriority(r){return this.children_.isEmpty()?this:new a(this.children_,r,this.indexMap_)}getImmediateChild(r){if(".priority"===r)return this.getPriority();{const u=this.children_.get(r);return null===u?mu:u}}getChild(r){const u=lr(r);return null===u?this:this.getImmediateChild(u).getChild(Jr(r))}hasChild(r){return null!==this.children_.get(r)}updateImmediateChild(r,u){if((0,Qe.hu)(u,"We should always be passing snapshot nodes"),".priority"===r)return this.updatePriority(u);{const f=new gr(r,u);let y,T;u.isEmpty()?(y=this.children_.remove(r),T=this.indexMap_.removeFromIndexes(f,this.children_)):(y=this.children_.insert(r,u),T=this.indexMap_.addToIndexes(f,this.children_));const N=y.isEmpty()?mu:this.priorityNode_;return new a(y,N,T)}}updateChild(r,u){const f=lr(r);if(null===f)return u;{(0,Qe.hu)(".priority"!==lr(r)||1===Vc(r),".priority must be the last token in a path");const y=this.getImmediateChild(f).updateChild(Jr(r),u);return this.updateImmediateChild(f,y)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(r){if(this.isEmpty())return null;const u={};let f=0,y=0,T=!0;if(this.forEachChild(ws,(N,q)=>{u[N]=q.val(r),f++,T&&a.INTEGER_REGEXP_.test(N)?y=Math.max(y,Number(N)):T=!1}),!r&&T&&y<2*f){const N=[];for(const q in u)N[q]=u[q];return N}return r&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let r="";this.getPriority().isEmpty()||(r+="priority:"+zp(this.getPriority().val())+":"),this.forEachChild(ws,(u,f)=>{const y=f.hash();""!==y&&(r+=":"+u+":"+y)}),this.lazyHash_=""===r?"":sg(r)}return this.lazyHash_}getPredecessorChildName(r,u,f){const y=this.resolveIndex_(f);if(y){const T=y.getPredecessorKey(new gr(r,u));return T?T.name:null}return this.children_.getPredecessorKey(r)}getFirstChildName(r){const u=this.resolveIndex_(r);if(u){const f=u.minKey();return f&&f.name}return this.children_.minKey()}getFirstChild(r){const u=this.getFirstChildName(r);return u?new gr(u,this.children_.get(u)):null}getLastChildName(r){const u=this.resolveIndex_(r);if(u){const f=u.maxKey();return f&&f.name}return this.children_.maxKey()}getLastChild(r){const u=this.getLastChildName(r);return u?new gr(u,this.children_.get(u)):null}forEachChild(r,u){const f=this.resolveIndex_(r);return f?f.inorderTraversal(y=>u(y.name,y.node)):this.children_.inorderTraversal(u)}getIterator(r){return this.getIteratorFrom(r.minPost(),r)}getIteratorFrom(r,u){const f=this.resolveIndex_(u);if(f)return f.getIteratorFrom(r,y=>y);{const y=this.children_.getIteratorFrom(r.name,gr.Wrap);let T=y.peek();for(;null!=T&&u.compare(T,r)<0;)y.getNext(),T=y.peek();return y}}getReverseIterator(r){return this.getReverseIteratorFrom(r.maxPost(),r)}getReverseIteratorFrom(r,u){const f=this.resolveIndex_(u);if(f)return f.getReverseIteratorFrom(r,y=>y);{const y=this.children_.getReverseIteratorFrom(r.name,gr.Wrap);let T=y.peek();for(;null!=T&&u.compare(T,r)>0;)y.getNext(),T=y.peek();return y}}compareTo(r){return this.isEmpty()?r.isEmpty()?0:-1:r.isLeafNode()||r.isEmpty()?1:r===Xu?-1:0}withIndex(r){if(r===ja||this.indexMap_.hasIndex(r))return this;{const u=this.indexMap_.addIndex(r,this.children_);return new a(this.children_,this.priorityNode_,u)}}isIndexed(r){return r===ja||this.indexMap_.hasIndex(r)}equals(r){if(r===this)return!0;if(r.isLeafNode())return!1;{const u=r;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const f=this.getIterator(ws),y=u.getIterator(ws);let T=f.getNext(),N=y.getNext();for(;T&&N;){if(T.name!==N.name||!T.node.equals(N.node))return!1;T=f.getNext(),N=y.getNext()}return null===T&&null===N}return!1}return!1}}resolveIndex_(r){return r===ja?null:this.indexMap_.get(r.toString())}}return a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,a})();const Xu=new class dy extends Gi{constructor(){super(new ho(jp),Gi.EMPTY_NODE,fc.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Gi.EMPTY_NODE}isEmpty(){return!1}};function zs(a,n=null){if(null===a)return Gi.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(n=a[".priority"]),(0,Qe.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new Qu(a,zs(n));if(a instanceof Array){let r=Gi.EMPTY_NODE;return wo(a,(u,f)=>{if((0,Qe.r3)(a,u)&&"."!==u.substring(0,1)){const y=zs(f);(y.isLeafNode()||!y.isEmpty())&&(r=r.updateImmediateChild(u,y))}}),r.updatePriority(zs(n))}{const r=[];let u=!1;if(wo(a,(T,N)=>{if("."!==T.substring(0,1)){const q=zs(N);q.isEmpty()||(u=u||!q.getPriority().isEmpty(),r.push(new gr(T,q)))}}),0===r.length)return Gi.EMPTY_NODE;const y=Yp(r,Df,T=>T.name,jp);if(u){const T=Yp(r,ws.getCompare());return new Gi(y,zs(n),new fc({".priority":T},{".priority":ws}))}return new Gi(y,zs(n),fc.Default)}}Object.defineProperties(gr,{MIN:{value:new gr(Vl,Gi.EMPTY_NODE)},MAX:{value:new gr(Ia,Xu)}}),Og.__EMPTY_NODE=Gi.EMPTY_NODE,Qu.__childrenNodeConstructor=Gi,function cy(a){Gp=a}(Xu),function Ev(a){mh=a}(Xu),function bv(a){fo=a}(zs);class Rg extends Hp{constructor(n){super(),this.indexPath_=n,(0,Qe.hu)(!qi(n)&&".priority"!==lr(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,r){const u=this.extractChild(n.node),f=this.extractChild(r.node),y=u.compareTo(f);return 0===y?Eo(n.name,r.name):y}makePost(n,r){const u=zs(n),f=Gi.EMPTY_NODE.updateChild(this.indexPath_,u);return new gr(r,f)}maxPost(){const n=Gi.EMPTY_NODE.updateChild(this.indexPath_,Xu);return new gr(Ia,n)}toString(){return fh(this.indexPath_,0).join("/")}}const If=new class kg extends Hp{compare(n,r){const u=n.node.compareTo(r.node);return 0===u?Eo(n.name,r.name):u}isDefinedOn(n){return!0}indexedValueChanged(n,r){return!n.equals(r)}minPost(){return gr.MIN}maxPost(){return gr.MAX}makePost(n,r){const u=zs(n);return new gr(r,u)}toString(){return".value"}},xd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Dv=function(){let a=0;const n=[];return function(r){const u=r===a;let f;a=r;const y=new Array(8);for(f=7;f>=0;f--)y[f]=xd.charAt(r%64),r=Math.floor(r/64);(0,Qe.hu)(0===r,"Cannot push at time == 0");let T=y.join("");if(u){for(f=11;f>=0&&63===n[f];f--)n[f]=0;n[f]++}else for(f=0;f<12;f++)n[f]=Math.floor(64*Math.random());for(f=0;f<12;f++)T+=xd.charAt(n[f]);return(0,Qe.hu)(20===T.length,"nextPushId: Length should be 20."),T}}(),Ju=function(a){if(a===""+dg)return"-";const n=uh(a);if(null!=n)return""+(n+1);const r=new Array(a.length);for(let T=0;T<r.length;T++)r[T]=a.charAt(T);if(r.length<786)return r.push("-"),r.join("");let u=r.length-1;for(;u>=0&&"z"===r[u];)u--;if(-1===u)return Ia;const y=xd.charAt(xd.indexOf(r[u])+1);return r[u]=y,r.slice(0,u+1).join("")},Od=function(a){if(a===""+Q_)return Vl;const n=uh(a);if(null!=n)return""+(n-1);const r=new Array(a.length);for(let u=0;u<r.length;u++)r[u]=a.charAt(u);return"-"===r[r.length-1]?1===r.length?""+dg:(delete r[r.length-1],r.join("")):(r[r.length-1]=xd.charAt(xd.indexOf(r[r.length-1])-1),r.join("")+"z".repeat(786-r.length))};function qp(a){return{type:"value",snapshotNode:a}}function gu(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function gh(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function Rd(a,n,r){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:r}}class Pg{constructor(n){this.index_=n}updateChild(n,r,u,f,y,T){(0,Qe.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const N=n.getImmediateChild(r);return N.getChild(f).equals(u.getChild(f))&&N.isEmpty()===u.isEmpty()||(null!=T&&(u.isEmpty()?n.hasChild(r)?T.trackChildChange(gh(r,N)):(0,Qe.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):N.isEmpty()?T.trackChildChange(gu(r,u)):T.trackChildChange(Rd(r,u,N))),n.isLeafNode()&&u.isEmpty())?n:n.updateImmediateChild(r,u).withIndex(this.index_)}updateFullNode(n,r,u){return null!=u&&(n.isLeafNode()||n.forEachChild(ws,(f,y)=>{r.hasChild(f)||u.trackChildChange(gh(f,y))}),r.isLeafNode()||r.forEachChild(ws,(f,y)=>{if(n.hasChild(f)){const T=n.getImmediateChild(f);T.equals(y)||u.trackChildChange(Rd(f,y,T))}else u.trackChildChange(gu(f,y))})),r.withIndex(this.index_)}updatePriority(n,r){return n.isEmpty()?Gi.EMPTY_NODE:n.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class kd{constructor(n){this.indexedFilter_=new Pg(n.getIndex()),this.index_=n.getIndex(),this.startPost_=kd.getStartPost_(n),this.endPost_=kd.getEndPost_(n)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0}updateChild(n,r,u,f,y,T){return this.matches(new gr(r,u))||(u=Gi.EMPTY_NODE),this.indexedFilter_.updateChild(n,r,u,f,y,T)}updateFullNode(n,r,u){r.isLeafNode()&&(r=Gi.EMPTY_NODE);let f=r.withIndex(this.index_);f=f.updatePriority(Gi.EMPTY_NODE);const y=this;return r.forEachChild(ws,(T,N)=>{y.matches(new gr(T,N))||(f=f.updateImmediateChild(T,Gi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,f,u)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const r=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),r)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const r=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),r)}return n.getIndex().maxPost()}}class Wi{constructor(n){this.rangedFilter_=new kd(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}updateChild(n,r,u,f,y,T){return this.rangedFilter_.matches(new gr(r,u))||(u=Gi.EMPTY_NODE),n.getImmediateChild(r).equals(u)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,r,u,f,y,T):this.fullLimitUpdateChild_(n,r,u,y,T)}updateFullNode(n,r,u){let f;if(r.isLeafNode()||r.isEmpty())f=Gi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<r.numChildren()&&r.isIndexed(this.index_)){let y;f=Gi.EMPTY_NODE.withIndex(this.index_),y=this.reverse_?r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let T=0;for(;y.hasNext()&&T<this.limit_;){const N=y.getNext();let q;if(q=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),N)<=0:this.index_.compare(N,this.rangedFilter_.getEndPost())<=0,!q)break;f=f.updateImmediateChild(N.name,N.node),T++}}else{let y,T,N,q;if(f=r.withIndex(this.index_),f=f.updatePriority(Gi.EMPTY_NODE),this.reverse_){q=f.getReverseIterator(this.index_),y=this.rangedFilter_.getEndPost(),T=this.rangedFilter_.getStartPost();const Et=this.index_.getCompare();N=(Gt,cn)=>Et(cn,Gt)}else q=f.getIterator(this.index_),y=this.rangedFilter_.getStartPost(),T=this.rangedFilter_.getEndPost(),N=this.index_.getCompare();let le=0,gt=!1;for(;q.hasNext();){const Et=q.getNext();!gt&&N(y,Et)<=0&&(gt=!0),gt&&le<this.limit_&&N(Et,T)<=0?le++:f=f.updateImmediateChild(Et.name,Gi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,f,u)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,r,u,f,y){let T;if(this.reverse_){const Et=this.index_.getCompare();T=(Gt,cn)=>Et(cn,Gt)}else T=this.index_.getCompare();const N=n;(0,Qe.hu)(N.numChildren()===this.limit_,"");const q=new gr(r,u),le=this.reverse_?N.getFirstChild(this.index_):N.getLastChild(this.index_),gt=this.rangedFilter_.matches(q);if(N.hasChild(r)){const Et=N.getImmediateChild(r);let Gt=f.getChildAfterChild(this.index_,le,this.reverse_);for(;null!=Gt&&(Gt.name===r||N.hasChild(Gt.name));)Gt=f.getChildAfterChild(this.index_,Gt,this.reverse_);const cn=null==Gt?1:T(Gt,q);if(gt&&!u.isEmpty()&&cn>=0)return y?.trackChildChange(Rd(r,u,Et)),N.updateImmediateChild(r,u);{y?.trackChildChange(gh(r,Et));const kn=N.updateImmediateChild(r,Gi.EMPTY_NODE);return null!=Gt&&this.rangedFilter_.matches(Gt)?(y?.trackChildChange(gu(Gt.name,Gt.node)),kn.updateImmediateChild(Gt.name,Gt.node)):kn}}return u.isEmpty()?n:gt&&T(le,q)>=0?(null!=y&&(y.trackChildChange(gh(le.name,le.node)),y.trackChildChange(gu(r,u))),N.updateImmediateChild(r,u).updateImmediateChild(le.name,Gi.EMPTY_NODE)):n}}class Pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ws}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Qe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Qe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Qe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Qe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ia}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Qe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ws}copy(){const n=new Pd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function _h(a,n,r){const u=a.copy();return u.startSet_=!0,void 0===n&&(n=null),u.indexStartValue_=n,null!=r?(u.startNameSet_=!0,u.indexStartName_=r):(u.startNameSet_=!1,u.indexStartName_=""),u}function vh(a,n,r){const u=a.copy();return u.endSet_=!0,void 0===n&&(n=null),u.indexEndValue_=n,void 0!==r?(u.endNameSet_=!0,u.indexEndName_=r):(u.endNameSet_=!1,u.indexEndName_=""),u}function bh(a,n){const r=a.copy();return r.index_=n,r}function Xp(a){const n={};if(a.isDefault())return n;let r;return a.index_===ws?r="$priority":a.index_===If?r="$value":a.index_===ja?r="$key":((0,Qe.hu)(a.index_ instanceof Rg,"Unrecognized index type!"),r=a.index_.toString()),n.orderBy=(0,Qe.Wl)(r),a.startSet_&&(n.startAt=(0,Qe.Wl)(a.indexStartValue_),a.startNameSet_&&(n.startAt+=","+(0,Qe.Wl)(a.indexStartName_))),a.endSet_&&(n.endAt=(0,Qe.Wl)(a.indexEndValue_),a.endNameSet_&&(n.endAt+=","+(0,Qe.Wl)(a.indexEndName_))),a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function py(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_)),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_)),a.limitSet_){n.l=a.limit_;let r=a.viewFrom_;""===r&&(r=a.isViewFromLeft()?"l":"r"),n.vf=r}return a.index_!==ws&&(n.i=a.index_.toString()),n}class Tf extends Mg{constructor(n,r,u,f){super(),this.repoInfo_=n,this.onDataUpdate_=r,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.log_=ch("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,r){return void 0!==r?"tag$"+r:((0,Qe.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,r,u,f){const y=n._path.toString();this.log_("Listen called for "+y+" "+n._queryIdentifier);const T=Tf.getListenId_(n,u),N={};this.listens_[T]=N;const q=Xp(n._queryParams);this.restRequest_(y+".json",q,(le,gt)=>{let Et=gt;if(404===le&&(Et=null,le=null),null===le&&this.onDataUpdate_(y,Et,!1,u),(0,Qe.DV)(this.listens_,T)===N){let Gt;Gt=le?401===le?"permission_denied":"rest_error:"+le:"ok",f(Gt,null)}})}unlisten(n,r){const u=Tf.getListenId_(n,r);delete this.listens_[u]}get(n){const r=Xp(n._queryParams),u=n._path.toString(),f=new Qe.BH;return this.restRequest_(u+".json",r,(y,T)=>{let N=T;404===y&&(N=null,y=null),null===y?(this.onDataUpdate_(u,N,!1,null),f.resolve(N)):f.reject(new Error(N))}),f.promise}refreshAuthToken(n){}restRequest_(n,r={},u){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([f,y])=>{f&&f.accessToken&&(r.auth=f.accessToken),y&&y.token&&(r.ac=y.token);const T=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,Qe.xO)(r);this.log_("Sending REST request for "+T);const N=new XMLHttpRequest;N.onreadystatechange=()=>{if(u&&4===N.readyState){this.log_("REST Response for "+T+" received. status:",N.status,"response:",N.responseText);let q=null;if(N.status>=200&&N.status<300){try{q=(0,Qe.cI)(N.responseText)}catch{bo("Failed to parse JSON response for "+T+": "+N.responseText)}u(null,q)}else 401!==N.status&&404!==N.status&&bo("Got unsuccessful REST response for "+T+" Status: "+N.status),u(N.status);u=null}},N.open("GET",T,!0),N.send()})}}class Bg{constructor(){this.rootNode_=Gi.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,r){this.rootNode_=this.rootNode_.updateChild(n,r)}}function Hc(){return{value:null,children:new Map}}function Eh(a,n,r){if(qi(n))a.value=r,a.children.clear();else if(null!==a.value)a.value=a.value.updateChild(n,r);else{const u=lr(n);a.children.has(u)||a.children.set(u,Hc()),Eh(a.children.get(u),n=Jr(n),r)}}function Sf(a,n){if(qi(n))return a.value=null,a.children.clear(),!0;if(null!==a.value){if(a.value.isLeafNode())return!1;{const r=a.value;return a.value=null,r.forEachChild(ws,(u,f)=>{Eh(a,new ur(u),f)}),Sf(a,n)}}if(a.children.size>0){const r=lr(n);return n=Jr(n),a.children.has(r)&&Sf(a.children.get(r),n)&&a.children.delete(r),0===a.children.size}return!0}function wh(a,n,r){null!==a.value?r(n,a.value):function Jp(a,n){a.children.forEach((r,u)=>{n(u,r)})}(a,(u,f)=>{wh(f,new ur(n.toString()+"/"+u),r)})}class em{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),r=Object.assign({},n);return this.last_&&wo(this.last_,(u,f)=>{r[u]=r[u]-f}),this.last_=n,r}}class my{constructor(n,r){this.server_=r,this.statsToReport_={},this.statsListener_=new em(n);const u=1e4+2e4*Math.random();Id(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const n=this.statsListener_.get(),r={};let u=!1;wo(n,(f,y)=>{y>0&&(0,Qe.r3)(this.statsToReport_,f)&&(r[f]=y,u=!0)}),u&&this.server_.reportStats(r),Id(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var pc=(()=>{return(a=pc||(pc={}))[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",pc;var a})();function Hg(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class Mf{constructor(n,r,u){this.path=n,this.affectedTree=r,this.revert=u,this.type=pc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(qi(this.path)){if(null!=this.affectedTree.value)return(0,Qe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ur(n));return new Mf(Ur(),r,this.revert)}}return(0,Qe.hu)(lr(this.path)===n,"operationForChild called for unrelated child."),new Mf(Jr(this.path),this.affectedTree,this.revert)}}class Hl{constructor(n,r){this.source=n,this.path=r,this.type=pc.LISTEN_COMPLETE}operationForChild(n){return qi(this.path)?new Hl(this.source,Ur()):new Hl(this.source,Jr(this.path))}}class _u{constructor(n,r,u){this.source=n,this.path=r,this.snap=u,this.type=pc.OVERWRITE}operationForChild(n){return qi(this.path)?new _u(this.source,Ur(),this.snap.getImmediateChild(n)):new _u(this.source,Jr(this.path),this.snap)}}class jl{constructor(n,r,u){this.source=n,this.path=r,this.children=u,this.type=pc.MERGE}operationForChild(n){if(qi(this.path)){const r=this.children.subtree(new ur(n));return r.isEmpty()?null:r.value?new _u(this.source,Ur(),r.value):new jl(this.source,Ur(),r)}return(0,Qe.hu)(lr(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new jl(this.source,Jr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gc{constructor(n,r,u){this.node_=n,this.fullyInitialized_=r,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(qi(n))return this.isFullyInitialized()&&!this.filtered_;const r=lr(n);return this.isCompleteForChild(r)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class tm{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Nd(a,n,r,u,f,y){const T=u.filter(N=>N.type===r);T.sort((N,q)=>function nm(a,n,r){if(null==n.childName||null==r.childName)throw(0,Qe.g5)("Should only compare child_ events.");const u=new gr(n.childName,n.snapshotNode),f=new gr(r.childName,r.snapshotNode);return a.index_.compare(u,f)}(a,N,q)),T.forEach(N=>{const q=function gy(a,n,r){return"value"===n.type||"child_removed"===n.type||(n.prevName=r.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}(a,N,y);f.forEach(le=>{le.respondsTo(N.type)&&n.push(le.createEvent(q,a.query_))})})}function Ch(a,n){return{eventCache:a,serverCache:n}}function rl(a,n,r,u){return Ch(new Gc(n,r,u),a.serverCache)}function im(a,n,r,u){return Ch(a.eventCache,new Gc(n,r,u))}function Dh(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function ed(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let xf;class Ns{constructor(n,r=(()=>(xf||(xf=new ho(ag)),xf))()){this.value=n,this.children=r}static fromObject(n){let r=new Ns(null);return wo(n,(u,f)=>{r=r.set(new ur(u),f)}),r}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,r){if(null!=this.value&&r(this.value))return{path:Ur(),value:this.value};if(qi(n))return null;{const u=lr(n),f=this.children.get(u);if(null!==f){const y=f.findRootMostMatchingPathAndValue(Jr(n),r);return null!=y?{path:es(new ur(u),y.path),value:y.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(qi(n))return this;{const r=lr(n),u=this.children.get(r);return null!==u?u.subtree(Jr(n)):new Ns(null)}}set(n,r){if(qi(n))return new Ns(r,this.children);{const u=lr(n),y=(this.children.get(u)||new Ns(null)).set(Jr(n),r),T=this.children.insert(u,y);return new Ns(this.value,T)}}remove(n){if(qi(n))return this.children.isEmpty()?new Ns(null):new Ns(null,this.children);{const r=lr(n),u=this.children.get(r);if(u){const f=u.remove(Jr(n));let y;return y=f.isEmpty()?this.children.remove(r):this.children.insert(r,f),null===this.value&&y.isEmpty()?new Ns(null):new Ns(this.value,y)}return this}}get(n){if(qi(n))return this.value;{const r=lr(n),u=this.children.get(r);return u?u.get(Jr(n)):null}}setTree(n,r){if(qi(n))return r;{const u=lr(n),y=(this.children.get(u)||new Ns(null)).setTree(Jr(n),r);let T;return T=y.isEmpty()?this.children.remove(u):this.children.insert(u,y),new Ns(this.value,T)}}fold(n){return this.fold_(Ur(),n)}fold_(n,r){const u={};return this.children.inorderTraversal((f,y)=>{u[f]=y.fold_(es(n,f),r)}),r(n,this.value,u)}findOnPath(n,r){return this.findOnPath_(n,Ur(),r)}findOnPath_(n,r,u){const f=!!this.value&&u(r,this.value);if(f)return f;if(qi(n))return null;{const y=lr(n),T=this.children.get(y);return T?T.findOnPath_(Jr(n),es(r,y),u):null}}foreachOnPath(n,r){return this.foreachOnPath_(n,Ur(),r)}foreachOnPath_(n,r,u){if(qi(n))return this;{this.value&&u(r,this.value);const f=lr(n),y=this.children.get(f);return y?y.foreachOnPath_(Jr(n),es(r,f),u):new Ns(null)}}foreach(n){this.foreach_(Ur(),n)}foreach_(n,r){this.children.inorderTraversal((u,f)=>{f.foreach_(es(n,u),r)}),this.value&&r(n,this.value)}foreachChild(n){this.children.inorderTraversal((r,u)=>{u.value&&n(r,u.value)})}}class zo{constructor(n){this.writeTree_=n}static empty(){return new zo(new Ns(null))}}function yu(a,n,r){if(qi(n))return new zo(new Ns(r));{const u=a.writeTree_.findRootMostValueAndPath(n);if(null!=u){const f=u.path;let y=u.value;const T=Go(f,n);return y=y.updateChild(T,r),new zo(a.writeTree_.set(f,y))}{const f=new Ns(r),y=a.writeTree_.setTree(n,f);return new zo(y)}}}function Ih(a,n,r){let u=a;return wo(r,(f,y)=>{u=yu(u,es(n,f),y)}),u}function Th(a,n){if(qi(n))return zo.empty();{const r=a.writeTree_.setTree(n,new Ns(null));return new zo(r)}}function $o(a,n){return null!=zc(a,n)}function zc(a,n){const r=a.writeTree_.findRootMostValueAndPath(n);return null!=r?a.writeTree_.get(r.path).getChild(Go(r.path,n)):null}function _y(a){const n=[],r=a.writeTree_.value;return null!=r?r.isLeafNode()||r.forEachChild(ws,(u,f)=>{n.push(new gr(u,f))}):a.writeTree_.children.inorderTraversal((u,f)=>{null!=f.value&&n.push(new gr(u,f.value))}),n}function $c(a,n){if(qi(n))return a;{const r=zc(a,n);return new zo(null!=r?new Ns(r):a.writeTree_.subtree(n))}}function Gl(a){return a.writeTree_.isEmpty()}function vu(a,n){return Gg(Ur(),a.writeTree_,n)}function Gg(a,n,r){if(null!=n.value)return r.updateChild(a,n.value);{let u=null;return n.children.inorderTraversal((f,y)=>{".priority"===f?((0,Qe.hu)(null!==y.value,"Priority writes must always be leaf nodes"),u=y.value):r=Gg(es(a,f),y,r)}),!r.getChild(a).isEmpty()&&null!==u&&(r=r.updateChild(es(a,".priority"),u)),r}}function td(a,n){return qg(n,a)}function sm(a,n){if(a.snap)return il(a.path,n);for(const r in a.children)if(a.children.hasOwnProperty(r)&&il(es(a.path,r),n))return!0;return!1}function om(a){return a.visible}function Mh(a,n,r){let u=zo.empty();for(let f=0;f<a.length;++f){const y=a[f];if(n(y)){const T=y.path;let N;if(y.snap)il(r,T)?(N=Go(r,T),u=yu(u,N,y.snap)):il(T,r)&&(N=Go(T,r),u=yu(u,Ur(),y.snap.getChild(N)));else{if(!y.children)throw(0,Qe.g5)("WriteRecord should have .snap or .children");if(il(r,T))N=Go(r,T),u=Ih(u,N,y.children);else if(il(T,r))if(N=Go(T,r),qi(N))u=Ih(u,Ur(),y.children);else{const q=(0,Qe.DV)(y.children,lr(N));if(q){const le=q.getChild(Jr(N));u=yu(u,Ur(),le)}}}}}return u}function zg(a,n,r,u,f){if(u||f){const y=$c(a.visibleWrites,n);return!f&&Gl(y)?r:f||null!=r||$o(y,Ur())?vu(Mh(a.allWrites,function(le){return(le.visible||f)&&(!u||!~u.indexOf(le.writeId))&&(il(le.path,n)||il(n,le.path))},n),r||Gi.EMPTY_NODE):null}{const y=zc(a.visibleWrites,n);if(null!=y)return y;{const T=$c(a.visibleWrites,n);return Gl(T)?r:null!=r||$o(T,Ur())?vu(T,r||Gi.EMPTY_NODE):null}}}function kf(a,n,r,u){return zg(a.writeTree,a.treePath,n,r,u)}function Ld(a,n){return function $g(a,n,r){let u=Gi.EMPTY_NODE;const f=zc(a.visibleWrites,n);if(f)return f.isLeafNode()||f.forEachChild(ws,(y,T)=>{u=u.updateImmediateChild(y,T)}),u;if(r){const y=$c(a.visibleWrites,n);return r.forEachChild(ws,(T,N)=>{const q=vu($c(y,new ur(T)),N);u=u.updateImmediateChild(T,q)}),_y(y).forEach(T=>{u=u.updateImmediateChild(T.name,T.node)}),u}return _y($c(a.visibleWrites,n)).forEach(T=>{u=u.updateImmediateChild(T.name,T.node)}),u}(a.writeTree,a.treePath,n)}function Kg(a,n,r,u){return function Ah(a,n,r,u,f){(0,Qe.hu)(u||f,"Either existingEventSnap or existingServerSnap must exist");const y=es(n,r);if($o(a.visibleWrites,y))return null;{const T=$c(a.visibleWrites,y);return Gl(T)?f.getChild(r):vu(T,f.getChild(r))}}(a.writeTree,a.treePath,n,r,u)}function Pf(a,n){return function Wg(a,n){return zc(a.visibleWrites,n)}(a.writeTree,es(a.treePath,n))}function Bd(a,n,r){return function nd(a,n,r,u){const f=es(n,r),y=zc(a.visibleWrites,f);return null!=y?y:u.isCompleteForChild(r)?vu($c(a.visibleWrites,f),u.getNode().getImmediateChild(r)):null}(a.writeTree,a.treePath,n,r)}function Zg(a,n){return qg(es(a.treePath,n),a.writeTree)}function qg(a,n){return{treePath:a,writeTree:n}}class db{constructor(){this.changeMap=new Map}trackChildChange(n){const r=n.type,u=n.childName;(0,Qe.hu)("child_added"===r||"child_changed"===r||"child_removed"===r,"Only child changes supported for tracking"),(0,Qe.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const f=this.changeMap.get(u);if(f){const y=f.type;if("child_added"===r&&"child_removed"===y)this.changeMap.set(u,Rd(u,n.snapshotNode,f.snapshotNode));else if("child_removed"===r&&"child_added"===y)this.changeMap.delete(u);else if("child_removed"===r&&"child_changed"===y)this.changeMap.set(u,gh(u,f.oldSnap));else if("child_changed"===r&&"child_added"===y)this.changeMap.set(u,gu(u,n.snapshotNode));else{if("child_changed"!==r||"child_changed"!==y)throw(0,Qe.g5)("Illegal combination of changes: "+n+" occurred after "+f);this.changeMap.set(u,Rd(u,n.snapshotNode,f.oldSnap))}}else this.changeMap.set(u,n)}getChanges(){return Array.from(this.changeMap.values())}}const Qg=new class hb{getCompleteChild(n){return null}getChildAfterChild(n,r,u){return null}};class am{constructor(n,r,u=null){this.writes_=n,this.viewCache_=r,this.optCompleteServerCache_=u}getCompleteChild(n){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(n))return r.getNode().getImmediateChild(n);{const u=null!=this.optCompleteServerCache_?new Gc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bd(this.writes_,n,u)}}getChildAfterChild(n,r,u){const f=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ed(this.viewCache_),y=function Yg(a,n,r,u,f,y){return function Fd(a,n,r,u,f,y,T){let N;const q=$c(a.visibleWrites,n),le=zc(q,Ur());if(null!=le)N=le;else{if(null==r)return[];N=vu(q,r)}if(N=N.withIndex(T),N.isEmpty()||N.isLeafNode())return[];{const gt=[],Et=T.getCompare(),Gt=y?N.getReverseIteratorFrom(u,T):N.getIteratorFrom(u,T);let cn=Gt.getNext();for(;cn&&gt.length<f;)0!==Et(cn,u)&&gt.push(cn),cn=Gt.getNext();return gt}}(a.writeTree,a.treePath,n,r,u,f,y)}(this.writes_,f,r,1,u,n);return 0===y.length?null:y[0]}}function Wc(a,n,r,u,f,y){const T=n.eventCache;if(null!=Pf(u,r))return n;{let N,q;if(qi(r))if((0,Qe.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const le=ed(n),Et=Ld(u,le instanceof Gi?le:Gi.EMPTY_NODE);N=a.filter.updateFullNode(n.eventCache.getNode(),Et,y)}else{const le=kf(u,ed(n));N=a.filter.updateFullNode(n.eventCache.getNode(),le,y)}else{const le=lr(r);if(".priority"===le){(0,Qe.hu)(1===Vc(r),"Can't have a priority with additional path components");const gt=T.getNode();q=n.serverCache.getNode();const Et=Kg(u,r,gt,q);N=null!=Et?a.filter.updatePriority(gt,Et):T.getNode()}else{const gt=Jr(r);let Et;if(T.isCompleteForChild(le)){q=n.serverCache.getNode();const Gt=Kg(u,r,T.getNode(),q);Et=null!=Gt?T.getNode().getImmediateChild(le).updateChild(gt,Gt):T.getNode().getImmediateChild(le)}else Et=Bd(u,le,n.serverCache);N=null!=Et?a.filter.updateChild(T.getNode(),le,Et,gt,f,y):T.getNode()}}return rl(n,N,T.isFullyInitialized()||qi(r),a.filter.filtersNodes())}}function Vd(a,n,r,u,f,y,T,N){const q=n.serverCache;let le;const gt=T?a.filter:a.filter.getIndexedFilter();if(qi(r))le=gt.updateFullNode(q.getNode(),u,null);else if(gt.filtersNodes()&&!q.isFiltered()){const cn=q.getNode().updateChild(r,u);le=gt.updateFullNode(q.getNode(),cn,null)}else{const cn=lr(r);if(!q.isCompleteForPath(r)&&Vc(r)>1)return n;const on=Jr(r),ti=q.getNode().getImmediateChild(cn).updateChild(on,u);le=".priority"===cn?gt.updatePriority(q.getNode(),ti):gt.updateChild(q.getNode(),cn,ti,on,Qg,null)}const Et=im(n,le,q.isFullyInitialized()||qi(r),gt.filtersNodes());return Wc(a,Et,r,f,new am(f,Et,y),N)}function lm(a,n,r,u,f,y,T){const N=n.eventCache;let q,le;const gt=new am(f,n,y);if(qi(r))le=a.filter.updateFullNode(n.eventCache.getNode(),u,T),q=rl(n,le,!0,a.filter.filtersNodes());else{const Et=lr(r);if(".priority"===Et)le=a.filter.updatePriority(n.eventCache.getNode(),u),q=rl(n,le,N.isFullyInitialized(),N.isFiltered());else{const Gt=Jr(r),cn=N.getNode().getImmediateChild(Et);let on;if(qi(Gt))on=u;else{const kn=gt.getCompleteChild(Et);on=null!=kn?".priority"===Sd(Gt)&&kn.getChild(Yu(Gt)).isEmpty()?kn:kn.updateChild(Gt,u):Gi.EMPTY_NODE}q=cn.equals(on)?n:rl(n,a.filter.updateChild(N.getNode(),Et,on,Gt,gt,T),N.isFullyInitialized(),a.filter.filtersNodes())}}return q}function Xg(a,n){return a.eventCache.isCompleteForChild(n)}function e_(a,n,r){return r.foreach((u,f)=>{n=n.updateChild(u,f)}),n}function Nf(a,n,r,u,f,y,T,N){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let le,q=n;le=qi(r)?u:new Ns(null).setTree(r,u);const gt=n.serverCache.getNode();return le.children.inorderTraversal((Et,Gt)=>{if(gt.hasChild(Et)){const on=e_(0,n.serverCache.getNode().getImmediateChild(Et),Gt);q=Vd(a,q,new ur(Et),on,f,y,T,N)}}),le.children.inorderTraversal((Et,Gt)=>{const cn=!n.serverCache.isCompleteForChild(Et)&&null===Gt.value;if(!gt.hasChild(Et)&&!cn){const kn=e_(0,n.serverCache.getNode().getImmediateChild(Et),Gt);q=Vd(a,q,new ur(Et),kn,f,y,T,N)}}),q}class Av{constructor(n,r){this.query_=n,this.eventRegistrations_=[];const u=this.query_._queryParams,f=new Pg(u.getIndex()),y=function Ng(a){return a.loadsAllData()?new Pg(a.getIndex()):a.hasLimit()?new Wi(a):new kd(a)}(u);this.processor_=function fb(a){return{filter:a}}(y);const T=r.serverCache,N=r.eventCache,q=f.updateFullNode(Gi.EMPTY_NODE,T.getNode(),null),le=y.updateFullNode(Gi.EMPTY_NODE,N.getNode(),null),gt=new Gc(q,T.isFullyInitialized(),f.filtersNodes()),Et=new Gc(le,N.isFullyInitialized(),y.filtersNodes());this.viewCache_=Ch(Et,gt),this.eventGenerator_=new tm(this.query_)}get query(){return this.query_}}function i_(a,n){const r=ed(a.viewCache_);return r&&(a.query._queryParams.loadsAllData()||!qi(n)&&!r.getImmediateChild(lr(n)).isEmpty())?r.getChild(n):null}function r_(a){return 0===a.eventRegistrations_.length}function id(a,n,r){const u=[];if(r){(0,Qe.hu)(null==n,"A cancel should cancel all event registrations.");const f=a.query._path;a.eventRegistrations_.forEach(y=>{const T=y.createCancelEvent(r,f);T&&u.push(T)})}if(n){let f=[];for(let y=0;y<a.eventRegistrations_.length;++y){const T=a.eventRegistrations_[y];if(T.matches(n)){if(n.hasAnyCallback()){f=f.concat(a.eventRegistrations_.slice(y+1));break}}else f.push(T)}a.eventRegistrations_=f}else a.eventRegistrations_=[];return u}function um(a,n,r,u){n.type===pc.MERGE&&null!==n.source.queryId&&((0,Qe.hu)(ed(a.viewCache_),"We should always have a full cache before handling merges"),(0,Qe.hu)(Dh(a.viewCache_),"Missing event cache, even though we have a server cache"));const f=a.viewCache_,y=function pb(a,n,r,u,f){const y=new db;let T,N;if(r.type===pc.OVERWRITE){const le=r;le.source.fromUser?T=lm(a,n,le.path,le.snap,u,f,y):((0,Qe.hu)(le.source.fromServer,"Unknown source."),N=le.source.tagged||n.serverCache.isFiltered()&&!qi(le.path),T=Vd(a,n,le.path,le.snap,u,f,N,y))}else if(r.type===pc.MERGE){const le=r;le.source.fromUser?T=function Jg(a,n,r,u,f,y,T){let N=n;return u.foreach((q,le)=>{const gt=es(r,q);Xg(n,lr(gt))&&(N=lm(a,N,gt,le,f,y,T))}),u.foreach((q,le)=>{const gt=es(r,q);Xg(n,lr(gt))||(N=lm(a,N,gt,le,f,y,T))}),N}(a,n,le.path,le.children,u,f,y):((0,Qe.hu)(le.source.fromServer,"Unknown source."),N=le.source.tagged||n.serverCache.isFiltered(),T=Nf(a,n,le.path,le.children,u,f,N,y))}else if(r.type===pc.ACK_USER_WRITE){const le=r;T=le.revert?function cm(a,n,r,u,f,y){let T;if(null!=Pf(u,r))return n;{const N=new am(u,n,f),q=n.eventCache.getNode();let le;if(qi(r)||".priority"===lr(r)){let gt;if(n.serverCache.isFullyInitialized())gt=kf(u,ed(n));else{const Et=n.serverCache.getNode();(0,Qe.hu)(Et instanceof Gi,"serverChildren would be complete if leaf node"),gt=Ld(u,Et)}le=a.filter.updateFullNode(q,gt,y)}else{const gt=lr(r);let Et=Bd(u,gt,n.serverCache);null==Et&&n.serverCache.isCompleteForChild(gt)&&(Et=q.getImmediateChild(gt)),le=null!=Et?a.filter.updateChild(q,gt,Et,Jr(r),N,y):n.eventCache.getNode().hasChild(gt)?a.filter.updateChild(q,gt,Gi.EMPTY_NODE,Jr(r),N,y):q,le.isEmpty()&&n.serverCache.isFullyInitialized()&&(T=kf(u,ed(n)),T.isLeafNode()&&(le=a.filter.updateFullNode(le,T,y)))}return T=n.serverCache.isFullyInitialized()||null!=Pf(u,Ur()),rl(n,le,T,a.filter.filtersNodes())}}(a,n,le.path,u,f,y):function t_(a,n,r,u,f,y,T){if(null!=Pf(f,r))return n;const N=n.serverCache.isFiltered(),q=n.serverCache;if(null!=u.value){if(qi(r)&&q.isFullyInitialized()||q.isCompleteForPath(r))return Vd(a,n,r,q.getNode().getChild(r),f,y,N,T);if(qi(r)){let le=new Ns(null);return q.getNode().forEachChild(ja,(gt,Et)=>{le=le.set(new ur(gt),Et)}),Nf(a,n,r,le,f,y,N,T)}return n}{let le=new Ns(null);return u.foreach((gt,Et)=>{const Gt=es(r,gt);q.isCompleteForPath(Gt)&&(le=le.set(gt,q.getNode().getChild(Gt)))}),Nf(a,n,r,le,f,y,N,T)}}(a,n,le.path,le.affectedTree,u,f,y)}else{if(r.type!==pc.LISTEN_COMPLETE)throw(0,Qe.g5)("Unknown operation type: "+r.type);T=function Kc(a,n,r,u,f){const y=n.serverCache;return Wc(a,im(n,y.getNode(),y.isFullyInitialized()||qi(r),y.isFiltered()),r,u,Qg,f)}(a,n,r.path,u,y)}const q=y.getChanges();return function Mv(a,n,r){const u=n.eventCache;if(u.isFullyInitialized()){const f=u.getNode().isLeafNode()||u.getNode().isEmpty(),y=Dh(a);(r.length>0||!a.eventCache.isFullyInitialized()||f&&!u.getNode().equals(y)||!u.getNode().getPriority().equals(y.getPriority()))&&r.push(qp(Dh(n)))}}(n,T,q),{viewCache:T,changes:q}}(a.processor_,f,n,r,u);return function Sv(a,n){(0,Qe.hu)(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,Qe.hu)(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}(a.processor_,y.viewCache),(0,Qe.hu)(y.viewCache.serverCache.isFullyInitialized()||!f.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=y.viewCache,dm(a,y.changes,y.viewCache.eventCache.getNode(),null)}function dm(a,n,r,u){return function Af(a,n,r,u){const f=[],y=[];return n.forEach(T=>{"child_changed"===T.type&&a.index_.indexedValueChanged(T.oldSnap,T.snapshotNode)&&y.push(function fy(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}(T.childName,T.snapshotNode))}),Nd(a,f,"child_removed",n,u,r),Nd(a,f,"child_added",n,u,r),Nd(a,f,"child_moved",y,u,r),Nd(a,f,"child_changed",n,u,r),Nd(a,f,"value",n,u,r),f}(a.eventGenerator_,n,r,u?[u]:a.eventRegistrations_)}let bu,Wo;class s_{constructor(){this.views=new Map}}function Oh(a,n,r,u){const f=n.source.queryId;if(null!==f){const y=a.views.get(f);return(0,Qe.hu)(null!=y,"SyncTree gave us an op for an invalid query."),um(y,n,r,u)}{let y=[];for(const T of a.views.values())y=y.concat(um(T,n,r,u));return y}}function Rh(a,n,r,u,f){const T=a.views.get(n._queryIdentifier);if(!T){let N=kf(r,f?u:null),q=!1;N?q=!0:u instanceof Gi?(N=Ld(r,u),q=!1):(N=Gi.EMPTY_NODE,q=!1);const le=Ch(new Gc(N,q,!1),new Gc(u,f,!1));return new Av(n,le)}return T}function fm(a){const n=[];for(const r of a.views.values())r.query._queryParams.loadsAllData()||n.push(r);return n}function Eu(a,n){let r=null;for(const u of a.views.values())r=r||i_(u,n);return r}function pm(a,n){return n._queryParams.loadsAllData()?mm(a):a.views.get(n._queryIdentifier)}function mc(a,n){return null!=pm(a,n)}function gc(a){return null!=mm(a)}function mm(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let by=1;class Ey{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ns(null),this.pendingWriteTree_=function Rf(){return{visibleWrites:zo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ud(a,n,r,u,f){return function cb(a,n,r,u,f){(0,Qe.hu)(u>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===f&&(f=!0),a.allWrites.push({path:n,snap:r,writeId:u,visible:f}),f&&(a.visibleWrites=yu(a.visibleWrites,n,r)),a.lastWriteId=u}(a.pendingWriteTree_,n,r,u,f),f?fa(a,new _u({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,r)):[]}function Yc(a,n,r=!1){const u=function ub(a,n){for(let r=0;r<a.allWrites.length;r++){const u=a.allWrites[r];if(u.writeId===n)return u}return null}(a.pendingWriteTree_,n);if(function Sh(a,n){const r=a.allWrites.findIndex(N=>N.writeId===n);(0,Qe.hu)(r>=0,"removeWrite called with nonexistent writeId.");const u=a.allWrites[r];a.allWrites.splice(r,1);let f=u.visible,y=!1,T=a.allWrites.length-1;for(;f&&T>=0;){const N=a.allWrites[T];N.visible&&(T>=r&&sm(N,u.path)?f=!1:il(u.path,N.path)&&(y=!0)),T--}return!!f&&(y?(function Of(a){a.visibleWrites=Mh(a.allWrites,om,Ur()),a.lastWriteId=a.allWrites.length>0?a.allWrites[a.allWrites.length-1].writeId:-1}(a),!0):(u.snap?a.visibleWrites=Th(a.visibleWrites,u.path):wo(u.children,q=>{a.visibleWrites=Th(a.visibleWrites,es(u.path,q))}),!0))}(a.pendingWriteTree_,n)){let y=new Ns(null);return null!=u.snap?y=y.set(Ur(),!0):wo(u.children,T=>{y=y.set(new ur(T),!0)}),fa(a,new Mf(u.path,y,r))}return[]}function Lf(a,n,r){return fa(a,new _u({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,r))}function Ph(a,n,r,u,f=!1){const y=n._path,T=a.syncPointTree_.get(y);let N=[];if(T&&("default"===n._queryIdentifier||mc(T,n))){const q=function xv(a,n,r,u){const f=n._queryIdentifier,y=[];let T=[];const N=gc(a);if("default"===f)for(const[q,le]of a.views.entries())T=T.concat(id(le,r,u)),r_(le)&&(a.views.delete(q),le.query._queryParams.loadsAllData()||y.push(le.query));else{const q=a.views.get(f);q&&(T=T.concat(id(q,r,u)),r_(q)&&(a.views.delete(f),q.query._queryParams.loadsAllData()||y.push(q.query)))}return N&&!gc(a)&&y.push(new(function o_(){return(0,Qe.hu)(bu,"Reference.ts has not been loaded"),bu}())(n._repo,n._path)),{removed:y,events:T}}(T,n,r,u);(function Ff(a){return 0===a.views.size})(T)&&(a.syncPointTree_=a.syncPointTree_.remove(y));const le=q.removed;if(N=q.events,!f){const gt=-1!==le.findIndex(Gt=>Gt._queryParams.loadsAllData()),Et=a.syncPointTree_.findOnPath(y,(Gt,cn)=>gc(cn));if(gt&&!Et){const Gt=a.syncPointTree_.subtree(y);if(!Gt.isEmpty()){const cn=function _m(a){return a.fold((n,r,u)=>{if(r&&gc(r))return[mm(r)];{let f=[];return r&&(f=fm(r)),wo(u,(y,T)=>{f=f.concat(T)}),f}})}(Gt);for(let on=0;on<cn.length;++on){const kn=cn[on],ti=kn.query,Pi=d_(a,kn);a.listenProvider_.startListening(Lh(ti),Vf(a,ti),Pi.hashFn,Pi.onComplete)}}}!Et&&le.length>0&&!u&&(gt?a.listenProvider_.stopListening(Lh(n),null):le.forEach(Gt=>{const cn=a.queryToTagMap.get(Uf(Gt));a.listenProvider_.stopListening(Lh(Gt),cn)}))}!function ym(a,n){for(let r=0;r<n.length;++r){const u=n[r];if(!u._queryParams.loadsAllData()){const f=Uf(u),y=a.queryToTagMap.get(f);a.queryToTagMap.delete(f),a.tagToQueryMap.delete(y)}}}(a,le)}return N}function Cy(a,n,r,u){const f=Hf(a,u);if(null!=f){const y=jf(f),T=y.path,N=y.queryId,q=Go(T,n);return gm(a,T,new _u(Hg(N),q,r))}return[]}function Nh(a,n,r,u=!1){const f=n._path;let y=null,T=!1;a.syncPointTree_.foreachOnPath(f,(Gt,cn)=>{const on=Go(Gt,f);y=y||Eu(cn,on),T=T||gc(cn)});let q,N=a.syncPointTree_.get(f);N?(T=T||gc(N),y=y||Eu(N,Ur())):(N=new s_,a.syncPointTree_=a.syncPointTree_.set(f,N)),null!=y?q=!0:(q=!1,y=Gi.EMPTY_NODE,a.syncPointTree_.subtree(f).foreachChild((cn,on)=>{const kn=Eu(on,Ur());kn&&(y=y.updateImmediateChild(cn,kn))}));const le=mc(N,n);if(!le&&!n._queryParams.loadsAllData()){const Gt=Uf(n);(0,Qe.hu)(!a.queryToTagMap.has(Gt),"View does not exist, but we have a tag");const cn=function cr(){return by++}();a.queryToTagMap.set(Gt,cn),a.tagToQueryMap.set(cn,Gt)}let Et=function kh(a,n,r,u,f,y){const T=Rh(a,n,u,f,y);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,T),function xh(a,n){a.eventRegistrations_.push(n)}(T,r),function rd(a,n){const r=a.viewCache_.eventCache,u=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(ws,(y,T)=>{u.push(gu(y,T))}),r.isFullyInitialized()&&u.push(qp(r.getNode())),dm(a,u,r.getNode(),n)}(T,r)}(N,n,r,td(a.pendingWriteTree_,f),y,q);if(!le&&!T&&!u){const Gt=pm(N,n);Et=Et.concat(function vm(a,n,r){const u=n._path,f=Vf(a,n),y=d_(a,r),T=a.listenProvider_.startListening(Lh(n),f,y.hashFn,y.onComplete),N=a.syncPointTree_.subtree(u);if(f)(0,Qe.hu)(!gc(N.value),"If we're adding a query, it shouldn't be shadowed");else{const q=N.fold((le,gt,Et)=>{if(!qi(le)&&gt&&gc(gt))return[mm(gt).query];{let Gt=[];return gt&&(Gt=Gt.concat(fm(gt).map(cn=>cn.query))),wo(Et,(cn,on)=>{Gt=Gt.concat(on)}),Gt}});for(let le=0;le<q.length;++le){const gt=q[le];a.listenProvider_.stopListening(Lh(gt),Vf(a,gt))}}return T}(a,n,Gt))}return Et}function Bf(a,n,r){const f=a.pendingWriteTree_,y=a.syncPointTree_.findOnPath(n,(T,N)=>{const le=Eu(N,Go(T,n));if(le)return le});return zg(f,n,y,r,!0)}function fa(a,n){return Fh(n,a.syncPointTree_,null,td(a.pendingWriteTree_,Ur()))}function Fh(a,n,r,u){if(qi(a.path))return Dy(a,n,r,u);{const f=n.get(Ur());null==r&&null!=f&&(r=Eu(f,Ur()));let y=[];const T=lr(a.path),N=a.operationForChild(T),q=n.children.get(T);if(q&&N){const le=r?r.getImmediateChild(T):null,gt=Zg(u,T);y=y.concat(Fh(N,q,le,gt))}return f&&(y=y.concat(Oh(f,a,u,r))),y}}function Dy(a,n,r,u){const f=n.get(Ur());null==r&&null!=f&&(r=Eu(f,Ur()));let y=[];return n.children.inorderTraversal((T,N)=>{const q=r?r.getImmediateChild(T):null,le=Zg(u,T),gt=a.operationForChild(T);gt&&(y=y.concat(Dy(gt,N,q,le)))}),f&&(y=y.concat(Oh(f,a,u,r))),y}function d_(a,n){const r=n.query,u=Vf(a,r);return{hashFn:()=>(function n_(a){return a.viewCache_.serverCache.getNode()}(n)||Gi.EMPTY_NODE).hash(),onComplete:f=>{if("ok"===f)return u?function c_(a,n,r){const u=Hf(a,r);if(u){const f=jf(u),y=f.path,T=f.queryId,N=Go(y,n);return gm(a,y,new Hl(Hg(T),N))}return[]}(a,r._path,u):function l_(a,n){return fa(a,new Hl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(a,r._path);{const y=function lc(a,n){let r="Unknown Error";"too_big"===a?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===a?r="Client doesn't have permission to access the desired data.":"unavailable"===a&&(r="The service is unavailable");const u=new Error(a+" at "+n._path.toString()+": "+r);return u.code=a.toUpperCase(),u}(f,r);return Ph(a,r,null,y)}}}}function Vf(a,n){const r=Uf(n);return a.queryToTagMap.get(r)}function Uf(a){return a._path.toString()+"$"+a._queryIdentifier}function Hf(a,n){return a.tagToQueryMap.get(n)}function jf(a){const n=a.indexOf("$");return(0,Qe.hu)(-1!==n&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new ur(a.substr(0,n))}}function gm(a,n,r){const u=a.syncPointTree_.get(n);return(0,Qe.hu)(u,"Missing sync point for query tag that we're tracking"),Oh(u,r,td(a.pendingWriteTree_,n),null)}function Lh(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(function Ov(){return(0,Qe.hu)(Wo,"Reference.ts has not been loaded"),Wo}())(a._repo,a._path):a}class Hd{constructor(n){this.node_=n}getImmediateChild(n){const r=this.node_.getImmediateChild(n);return new Hd(r)}node(){return this.node_}}class h_{constructor(n,r){this.syncTree_=n,this.path_=r}getImmediateChild(n){const r=es(this.path_,n);return new h_(this.syncTree_,r)}node(){return Bf(this.syncTree_,this.path_)}}const Iy=function(a,n,r){return a&&"object"==typeof a?((0,Qe.hu)(".sv"in a,"Unexpected leaf node or priority contents"),"string"==typeof a[".sv"]?Ts(a[".sv"],n,r):"object"==typeof a[".sv"]?pa(a[".sv"],n):void(0,Qe.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2))):a},Ts=function(a,n,r){if("timestamp"===a)return r.timestamp;(0,Qe.hu)(!1,"Unexpected server value: "+a)},pa=function(a,n,r){a.hasOwnProperty("increment")||(0,Qe.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const u=a.increment;"number"!=typeof u&&(0,Qe.hu)(!1,"Unexpected increment value: "+u);const f=n.node();if((0,Qe.hu)(null!==f&&typeof f<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!f.isLeafNode())return u;const T=f.getValue();return"number"!=typeof T?u:T+u},zl=function(a,n,r,u){return zf(n,new h_(r,a),u)},Gf=function(a,n,r){return zf(a,new Hd(n),r)};function zf(a,n,r){const u=a.getPriority().val(),f=Iy(u,n.getImmediateChild(".priority"),r);let y;if(a.isLeafNode()){const T=a,N=Iy(T.getValue(),n,r);return N!==T.getValue()||f!==T.getPriority().val()?new Qu(N,zs(f)):a}{const T=a;return y=T,f!==T.getPriority().val()&&(y=y.updatePriority(new Qu(f))),T.forEachChild(ws,(N,q)=>{const le=zf(q,n.getImmediateChild(N),r);le!==q&&(y=y.updateImmediateChild(N,le))}),y}}class sl{constructor(n="",r=null,u={children:{},childCount:0}){this.name=n,this.parent=r,this.node=u}}function sd(a,n){let r=n instanceof ur?n:new ur(n),u=a,f=lr(r);for(;null!==f;){const y=(0,Qe.DV)(u.node.children,f)||{children:{},childCount:0};u=new sl(f,u,y),r=Jr(r),f=lr(r)}return u}function $l(a){return a.node.value}function od(a,n){a.node.value=n,p_(a)}function $f(a){return a.node.childCount>0}function bm(a,n){wo(a.node.children,(r,u)=>{n(new sl(r,a,u))})}function Ty(a,n,r,u){r&&!u&&n(a),bm(a,f=>{Ty(f,n,!0,u)}),r&&u&&n(a)}function wu(a){return new ur(null===a.parent?a.name:wu(a.parent)+"/"+a.name)}function p_(a){null!==a.parent&&function mb(a,n,r){const u=function f_(a){return void 0===$l(a)&&!$f(a)}(r),f=(0,Qe.r3)(a.node.children,n);u&&f?(delete a.node.children[n],a.node.childCount--,p_(a)):!u&&!f&&(a.node.children[n]=r.node,a.node.childCount++,p_(a))}(a.parent,a.name,a)}const Sy=/[\[\].#$\/\u0000-\u001F\u007F]/,My=/[\[\].#$\u0000-\u001F\u007F]/,Em=10485760,Bh=function(a){return"string"==typeof a&&0!==a.length&&!Sy.test(a)},wm=function(a){return"string"==typeof a&&0!==a.length&&!My.test(a)},Zc=function(a){return null===a||"string"==typeof a||"number"==typeof a&&!so(a)||a&&"object"==typeof a&&(0,Qe.r3)(a,".sv")},Wl=function(a,n,r,u){u&&void 0===n||ad((0,Qe.gK)(a,"value"),n,r)},ad=function(a,n,r){const u=r instanceof ur?new ph(r,a):r;if(void 0===n)throw new Error(a+"contains undefined "+ha(u));if("function"==typeof n)throw new Error(a+"contains a function "+ha(u)+" with contents = "+n.toString());if(so(n))throw new Error(a+"contains "+n.toString()+" "+ha(u));if("string"==typeof n&&n.length>Em/3&&(0,Qe.ug)(n)>Em)throw new Error(a+"contains a string greater than "+Em+" utf8 bytes "+ha(u)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let f=!1,y=!1;if(wo(n,(T,N)=>{if(".value"===T)f=!0;else if(".priority"!==T&&".sv"!==T&&(y=!0,!Bh(T)))throw new Error(a+" contains an invalid key ("+T+") "+ha(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Bp(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=(0,Qe.ug)(n),Uc(a)})(u,T),ad(a,N,u),function ay(a){const n=a.parts_.pop();a.byteLength_-=(0,Qe.ug)(n),a.parts_.length>0&&(a.byteLength_-=1)}(u)}),f&&y)throw new Error(a+' contains ".value" child '+ha(u)+" in addition to actual children.")}},Im=function(a,n,r,u){if(u&&void 0===n)return;const f=(0,Qe.gK)(a,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(f+" must be an object containing the children to replace.");const y=[];wo(n,(T,N)=>{const q=new ur(T);if(ad(f,N,es(r,q)),".priority"===Sd(q)&&!Zc(N))throw new Error(f+"contains an invalid value for '"+q.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");y.push(q)}),function(a,n){let r,u;for(r=0;r<n.length;r++){u=n[r];const y=fh(u);for(let T=0;T<y.length;T++)if((".priority"!==y[T]||T!==y.length-1)&&!Bh(y[T]))throw new Error(a+"contains an invalid key ("+y[T]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(Cf);let f=null;for(r=0;r<n.length;r++){if(u=n[r],null!==f&&il(f,u))throw new Error(a+"contains a path "+f.toString()+" that is ancestor of another path "+u.toString());f=u}}(f,y)},Wf=function(a,n,r){if(!r||void 0!==n){if(so(n))throw new Error((0,Qe.gK)(a,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zc(n))throw new Error((0,Qe.gK)(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vh=function(a,n,r,u){if(!(u&&void 0===r||Bh(r)))throw new Error((0,Qe.gK)(a,n)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qc=function(a,n,r,u){if(!(u&&void 0===r||wm(r)))throw new Error((0,Qe.gK)(a,n)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ga=function(a,n){if(".info"===lr(n))throw new Error(a+" failed = Can't modify data under /.info/")},ld=function(a,n){const r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Bh(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),wm(a)}(r))throw new Error((0,Qe.gK)(a,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class gb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cu(a,n){let r=null;for(let u=0;u<n.length;u++){const f=n[u],y=f.getPath();null!==r&&!oo(y,r.path)&&(a.eventLists_.push(r),r=null),null===r&&(r={events:[],path:y}),r.events.push(f)}r&&a.eventLists_.push(r)}function Ay(a,n,r){Cu(a,r),Tm(a,u=>oo(u,n))}function ol(a,n,r){Cu(a,r),Tm(a,u=>il(u,n)||il(n,u))}function Tm(a,n){a.recursionDepth_++;let r=!0;for(let u=0;u<a.eventLists_.length;u++){const f=a.eventLists_[u];f&&(n(f.path)?(Pv(a.eventLists_[u]),a.eventLists_[u]=null):r=!1)}r&&(a.eventLists_=[]),a.recursionDepth_--}function Pv(a){for(let n=0;n<a.events.length;n++){const r=a.events[n];if(null!==r){a.events[n]=null;const u=r.getEventRunner();Lc&&Ao("event: "+r.toString()),uu(u)}}}const _c="repo_interrupt";class Ko{constructor(n,r,u,f){this.repoInfo_=n,this.forceRestClient_=r,this.authTokenProvider_=u,this.appCheckProvider_=f,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hc(),this.transactionQueueTree_=new sl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Yf(a){const r=a.infoData_.getNode(new ur(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+r}function or(a){return function(a){return(a=a||{}).timestamp=a.timestamp||(new Date).getTime(),a}({timestamp:Yf(a)})}function g_(a,n,r,u,f){a.dataUpdateCount++;const y=new ur(n);r=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,r):r;let T=[];if(f)if(u){const q=(0,Qe.UI)(r,le=>zs(le));T=function Rv(a,n,r,u){const f=Hf(a,u);if(f){const y=jf(f),T=y.path,N=y.queryId,q=Go(T,n),le=Ns.fromObject(r);return gm(a,T,new jl(Hg(N),q,le))}return[]}(a.serverSyncTree_,y,q,f)}else{const q=zs(r);T=Cy(a.serverSyncTree_,y,q,f)}else if(u){const q=(0,Qe.UI)(r,le=>zs(le));T=function a_(a,n,r){const u=Ns.fromObject(r);return fa(a,new jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,u))}(a.serverSyncTree_,y,q)}else{const q=zs(r);T=Lf(a.serverSyncTree_,y,q)}let N=y;T.length>0&&(N=cd(a,y)),ol(a.eventQueue_,N,T)}function Uh(a,n){Du(a,"connected",n),!1===n&&function Gh(a){$h(a,"onDisconnectEvents");const n=or(a),r=Hc();wh(a.onDisconnect_,Ur(),(f,y)=>{const T=zl(f,y,a.serverSyncTree_,n);Eh(r,f,T)});let u=[];wh(r,Ur(),(f,y)=>{u=u.concat(Lf(a.serverSyncTree_,f,y));const T=Kh(a,f);cd(a,T)}),a.onDisconnect_=Hc(),ol(a.eventQueue_,Ur(),u)}(a)}function Du(a,n,r){const u=new ur("/.info/"+n),f=zs(r);a.infoData_.updateSnapshot(u,f);const y=Lf(a.infoSyncTree_,u,f);ol(a.eventQueue_,u,y)}function Iu(a){return a.nextWriteId_++}function Tu(a,n,r,u,f){$h(a,"set",{path:n.toString(),value:r,priority:u});const y=or(a),T=zs(r,u),N=Bf(a.serverSyncTree_,n),q=Gf(T,N,y),le=Iu(a),gt=Ud(a.serverSyncTree_,n,q,le,!0);Cu(a.eventQueue_,gt),a.server_.put(n.toString(),T.val(!0),(Gt,cn)=>{const on="ok"===Gt;on||bo("set at "+n+" failed: "+Gt);const kn=Yc(a.serverSyncTree_,le,!on);ol(a.eventQueue_,n,kn),za(0,f,Gt,cn)});const Et=Kh(a,n);cd(a,Et),ol(a.eventQueue_,Et,[])}function zh(a,n,r){a.server_.onDisconnectCancel(n.toString(),(u,f)=>{"ok"===u&&Sf(a.onDisconnect_,n),za(0,r,u,f)})}function __(a,n,r,u){const f=zs(r);a.server_.onDisconnectPut(n.toString(),f.val(!0),(y,T)=>{"ok"===y&&Eh(a.onDisconnect_,n,f),za(0,u,y,T)})}function Zf(a,n,r){let u;u=".info"===lr(n._path)?Ph(a.infoSyncTree_,n,r):Ph(a.serverSyncTree_,n,r),Ay(a.eventQueue_,n._path,u)}function Kl(a){a.persistentConnection_&&a.persistentConnection_.interrupt(_c)}function $h(a,...n){let r="";a.persistentConnection_&&(r=a.persistentConnection_.id+":"),Ao(r,...n)}function za(a,n,r,u){n&&uu(()=>{if("ok"===r)n(null);else{const f=(r||"error").toUpperCase();let y=f;u&&(y+=": "+u);const T=new Error(y);T.code=f,n(T)}})}function y_(a,n,r){return Bf(a.serverSyncTree_,n,r)||Gi.EMPTY_NODE}function qf(a,n=a.transactionQueueTree_){if(n||yc(a,n),$l(n)){const r=ud(a,n);(0,Qe.hu)(r.length>0,"Sending zero length transaction queue"),r.every(f=>0===f.status)&&function Ry(a,n,r){const u=r.map(le=>le.currentWriteId),f=y_(a,n,u);let y=f;const T=f.hash();for(let le=0;le<r.length;le++){const gt=r[le];(0,Qe.hu)(0===gt.status,"tryToSendTransactionQueue_: items in queue should all be run."),gt.status=1,gt.retryCount++;const Et=Go(n,gt.path);y=y.updateChild(Et,gt.currentOutputSnapshotRaw)}const N=y.val(!0),q=n;a.server_.put(q.toString(),N,le=>{$h(a,"transaction put response",{path:q.toString(),status:le});let gt=[];if("ok"===le){const Et=[];for(let Gt=0;Gt<r.length;Gt++)r[Gt].status=2,gt=gt.concat(Yc(a.serverSyncTree_,r[Gt].currentWriteId)),r[Gt].onComplete&&Et.push(()=>r[Gt].onComplete(null,!0,r[Gt].currentOutputSnapshotResolved)),r[Gt].unwatcher();yc(a,sd(a.transactionQueueTree_,n)),qf(a,a.transactionQueueTree_),ol(a.eventQueue_,n,gt);for(let Gt=0;Gt<Et.length;Gt++)uu(Et[Gt])}else{if("datastale"===le)for(let Et=0;Et<r.length;Et++)r[Et].status=3===r[Et].status?4:0;else{bo("transaction at "+q.toString()+" failed: "+le);for(let Et=0;Et<r.length;Et++)r[Et].status=4,r[Et].abortReason=le}cd(a,n)}},T)}(a,wu(n),r)}else $f(n)&&bm(n,r=>{qf(a,r)})}function cd(a,n){const r=Mm(a,n),u=wu(r);return function Wh(a,n,r){if(0===n.length)return;const u=[];let f=[];const T=n.filter(N=>0===N.status).map(N=>N.currentWriteId);for(let N=0;N<n.length;N++){const q=n[N],le=Go(r,q.path);let Et,gt=!1;if((0,Qe.hu)(null!==le,"rerunTransactionsUnderNode_: relativePath should not be null."),4===q.status)gt=!0,Et=q.abortReason,f=f.concat(Yc(a.serverSyncTree_,q.currentWriteId,!0));else if(0===q.status)if(q.retryCount>=25)gt=!0,Et="maxretry",f=f.concat(Yc(a.serverSyncTree_,q.currentWriteId,!0));else{const Gt=y_(a,q.path,T);q.currentInputSnapshot=Gt;const cn=n[N].update(Gt.val());if(void 0!==cn){ad("transaction failed: Data returned ",cn,q.path);let on=zs(cn);"object"==typeof cn&&null!=cn&&(0,Qe.r3)(cn,".priority")||(on=on.updatePriority(Gt.getPriority()));const ti=q.currentWriteId,Pi=or(a),Qi=Gf(on,Gt,Pi);q.currentOutputSnapshotRaw=on,q.currentOutputSnapshotResolved=Qi,q.currentWriteId=Iu(a),T.splice(T.indexOf(ti),1),f=f.concat(Ud(a.serverSyncTree_,q.path,Qi,q.currentWriteId,q.applyLocally)),f=f.concat(Yc(a.serverSyncTree_,ti,!0))}else gt=!0,Et="nodata",f=f.concat(Yc(a.serverSyncTree_,q.currentWriteId,!0))}ol(a.eventQueue_,r,f),f=[],gt&&(n[N].status=2,setTimeout(n[N].unwatcher,Math.floor(0)),n[N].onComplete&&u.push("nodata"===Et?()=>n[N].onComplete(null,!1,n[N].currentInputSnapshot):()=>n[N].onComplete(new Error(Et),!1,null)))}yc(a,a.transactionQueueTree_);for(let N=0;N<u.length;N++)uu(u[N]);qf(a,a.transactionQueueTree_)}(a,ud(a,r),u),u}function Mm(a,n){let r,u=a.transactionQueueTree_;for(r=lr(n);null!==r&&void 0===$l(u);)u=sd(u,r),r=lr(n=Jr(n));return u}function ud(a,n){const r=[];return dd(a,n,r),r.sort((u,f)=>u.order-f.order),r}function dd(a,n,r){const u=$l(n);if(u)for(let f=0;f<u.length;f++)r.push(u[f]);bm(n,f=>{dd(a,f,r)})}function yc(a,n){const r=$l(n);if(r){let u=0;for(let f=0;f<r.length;f++)2!==r[f].status&&(r[u]=r[f],u++);r.length=u,od(n,r.length>0?r:void 0)}bm(n,u=>{yc(a,u)})}function Kh(a,n){const r=wu(Mm(a,n)),u=sd(a.transactionQueueTree_,n);return function kv(a,n,r){let u=r?a:a.parent;for(;null!==u;){if(n(u))return!0;u=u.parent}}(u,f=>{Qf(a,f)}),Qf(a,u),Ty(u,f=>{Qf(a,f)}),r}function Qf(a,n){const r=$l(n);if(r){const u=[];let f=[],y=-1;for(let T=0;T<r.length;T++)3===r[T].status||(1===r[T].status?((0,Qe.hu)(y===T-1,"All SENT items should be at beginning of queue."),y=T,r[T].status=3,r[T].abortReason="set"):((0,Qe.hu)(0===r[T].status,"Unexpected transaction status in abort"),r[T].unwatcher(),f=f.concat(Yc(a.serverSyncTree_,r[T].currentWriteId,!0)),r[T].onComplete&&u.push(r[T].onComplete.bind(null,new Error("set"),!1,null))));-1===y?od(n,void 0):r.length=y+1,ol(a.eventQueue_,wu(n),f);for(let T=0;T<u.length;T++)uu(u[T])}}const Om=function(a,n){const r=Rm(a),u=r.namespace;return"firebase.com"===r.domain&&Ua(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==r.domain&&Ua("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ap(r.host,r.secure,u,"ws"===r.scheme||"wss"===r.scheme,n,"",u!==r.subdomain),path:new ur(r.pathString)}},Rm=function(a){let n="",r="",u="",f="",y="",T=!0,N="https",q=443;if("string"==typeof a){let le=a.indexOf("//");le>=0&&(N=a.substring(0,le-1),a=a.substring(le+2));let gt=a.indexOf("/");-1===gt&&(gt=a.length);let Et=a.indexOf("?");-1===Et&&(Et=a.length),n=a.substring(0,Math.min(gt,Et)),gt<Et&&(f=function Am(a){let n="";const r=a.split("/");for(let u=0;u<r.length;u++)if(r[u].length>0){let f=r[u];try{f=decodeURIComponent(f.replace(/\+/g," "))}catch{}n+="/"+f}return n}(a.substring(gt,Et)));const Gt=function xm(a){const n={};"?"===a.charAt(0)&&(a=a.substring(1));for(const r of a.split("&")){if(0===r.length)continue;const u=r.split("=");2===u.length?n[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):bo(`Invalid query segment '${r}' in query '${a}'`)}return n}(a.substring(Math.min(a.length,Et)));le=n.indexOf(":"),le>=0?(T="https"===N||"wss"===N,q=parseInt(n.substring(le+1),10)):le=n.length;const cn=n.slice(0,le);if("localhost"===cn.toLowerCase())r="localhost";else if(cn.split(".").length<=2)r=cn;else{const on=n.indexOf(".");u=n.substring(0,on).toLowerCase(),r=n.substring(on+1),y=u}"ns"in Gt&&(y=Gt.ns)}return{host:n,port:q,domain:r,subdomain:u,secure:T,scheme:N,pathString:f,namespace:y}};class Yh{constructor(n,r,u,f){this.eventType=n,this.eventRegistration=r,this.snapshot=u,this.prevName=f}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Qe.Wl)(this.snapshot.exportVal())}}class km{constructor(n,r,u){this.eventRegistration=n,this.error=r,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Xc{constructor(n,r){this.snapshotCallback=n,this.cancelCallback=r}onValue(n,r){this.snapshotCallback.call(null,n,r)}onCancel(n){return(0,Qe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Xf{constructor(n,r){this._repo=n,this._path=r}cancel(){const n=new Qe.BH;return zh(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Ga("OnDisconnect.remove",this._path);const n=new Qe.BH;return __(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Ga("OnDisconnect.set",this._path),Wl("OnDisconnect.set",n,this._path,!1);const r=new Qe.BH;return __(this._repo,this._path,n,r.wrapCallback(()=>{})),r.promise}setWithPriority(n,r){Ga("OnDisconnect.setWithPriority",this._path),Wl("OnDisconnect.setWithPriority",n,this._path,!1),Wf("OnDisconnect.setWithPriority",r,!1);const u=new Qe.BH;return function Nv(a,n,r,u,f){const y=zs(r,u);a.server_.onDisconnectPut(n.toString(),y.val(!0),(T,N)=>{"ok"===T&&Eh(a.onDisconnect_,n,y),za(0,f,T,N)})}(this._repo,this._path,n,r,u.wrapCallback(()=>{})),u.promise}update(n){Ga("OnDisconnect.update",this._path),Im("OnDisconnect.update",n,this._path,!1);const r=new Qe.BH;return function xy(a,n,r,u){if((0,Qe.xb)(r))return Ao("onDisconnect().update() called with empty data.  Don't do anything."),void za(0,u,"ok",void 0);a.server_.onDisconnectMerge(n.toString(),r,(f,y)=>{"ok"===f&&wo(r,(T,N)=>{const q=zs(N);Eh(a.onDisconnect_,es(n,T),q)}),za(0,u,f,y)})}(this._repo,this._path,n,r.wrapCallback(()=>{})),r.promise}}class ma{constructor(n,r,u,f){this._repo=n,this._path=r,this._queryParams=u,this._orderByCalled=f}get key(){return qi(this._path)?null:Sd(this._path)}get ref(){return new Ma(this._repo,this._path)}get _queryIdentifier(){const n=py(this._queryParams),r=Dd(n);return"{}"===r?"default":r}get _queryObject(){return py(this._queryParams)}isEqual(n){if(!((n=(0,Qe.m9)(n))instanceof ma))return!1;const r=this._repo===n._repo,u=oo(this._path,n._path);return r&&u&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Md(a){let n="";for(let r=a.pieceNum_;r<a.pieces_.length;r++)""!==a.pieces_[r]&&(n+="/"+encodeURIComponent(String(a.pieces_[r])));return n||"/"}(this._path)}}function Zh(a,n){if(!0===a._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function vc(a){let n=null,r=null;if(a.hasStart()&&(n=a.getIndexStartValue()),a.hasEnd()&&(r=a.getIndexEndValue()),a.getIndex()===ja){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",f="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!==Vl)throw new Error(u);if("string"!=typeof n)throw new Error(f)}if(a.hasEnd()){if(a.getIndexEndName()!==Ia)throw new Error(u);if("string"!=typeof r)throw new Error(f)}}else if(a.getIndex()===ws){if(null!=n&&!Zc(n)||null!=r&&!Zc(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Qe.hu)(a.getIndex()instanceof Rg||a.getIndex()===If,"unknown index type."),null!=n&&"object"==typeof n||null!=r&&"object"==typeof r)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Jf(a){if(a.hasStart()&&a.hasEnd()&&a.hasLimit()&&!a.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ma extends ma{constructor(n,r){super(n,r,new Pd,!1)}get parent(){const n=Yu(this._path);return null===n?null:new Ma(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class bc{constructor(n,r,u){this._node=n,this.ref=r,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const r=new ur(n),u=hd(this.ref,n);return new bc(this._node.getChild(r),u,ws)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,f)=>n(new bc(f,hd(this.ref,u),ws)))}hasChild(n){const r=new ur(n);return!this._node.getChild(r).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function v_(a,n){return(a=(0,Qe.m9)(a))._checkNotDeleted("ref"),void 0!==n?hd(a._root,n):a._root}function zd(a,n){(a=(0,Qe.m9)(a))._checkNotDeleted("refFromURL");const r=Om(n,a._repo.repoInfo_.nodeAdmin);ld("refFromURL",r);const u=r.repoInfo;return!a._repo.repoInfo_.isCustomHost()&&u.host!==a._repo.repoInfo_.host&&Ua("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+a._repo.repoInfo_.host+")"),v_(a,r.path.toString())}function hd(a,n){return null===lr((a=(0,Qe.m9)(a))._path)?(r=n,r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),qc("child","path",r,!1)):qc("child","path",n,!1),new Ma(a._repo,es(a._path,n));var r}function Ec(a,n){a=(0,Qe.m9)(a),Ga("set",a._path),Wl("set",n,a._path,!1);const r=new Qe.BH;return Tu(a._repo,a._path,n,null,r.wrapCallback(()=>{})),r.promise}function Ny(a,n){Im("update",n,a._path,!1);const r=new Qe.BH;return function jh(a,n,r,u){$h(a,"update",{path:n.toString(),value:r});let f=!0;const y=or(a),T={};if(wo(r,(N,q)=>{f=!1,T[N]=zl(es(n,N),zs(q),a.serverSyncTree_,y)}),f)Ao("update() called with empty data.  Don't do anything."),za(0,u,"ok",void 0);else{const N=Iu(a),q=function wy(a,n,r,u){!function rm(a,n,r,u){(0,Qe.hu)(u>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:r,writeId:u,visible:!0}),a.visibleWrites=Ih(a.visibleWrites,n,r),a.lastWriteId=u}(a.pendingWriteTree_,n,r,u);const f=Ns.fromObject(r);return fa(a,new jl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,f))}(a.serverSyncTree_,n,T,N);Cu(a.eventQueue_,q),a.server_.merge(n.toString(),r,(le,gt)=>{const Et="ok"===le;Et||bo("update at "+n+" failed: "+le);const Gt=Yc(a.serverSyncTree_,N,!Et),cn=Gt.length>0?cd(a,n):n;ol(a.eventQueue_,cn,Gt),za(0,u,le,gt)}),wo(r,le=>{const gt=Kh(a,es(n,le));cd(a,gt)}),ol(a.eventQueue_,n,[])}}(a._repo,a._path,n,r.wrapCallback(()=>{})),r.promise}function Fy(a){a=(0,Qe.m9)(a);const n=new Xc(()=>{}),r=new $d(n);return function Hh(a,n,r){const u=function u_(a,n){const r=n._path;let u=null;a.syncPointTree_.foreachOnPath(r,(le,gt)=>{const Et=Go(le,r);u=u||Eu(gt,Et)});let f=a.syncPointTree_.get(r);f?u=u||Eu(f,Ur()):(f=new s_,a.syncPointTree_=a.syncPointTree_.set(r,f));const y=null!=u,T=y?new Gc(u,!0,!1):null;return function yy(a){return Dh(a.viewCache_)}(Rh(f,n,td(a.pendingWriteTree_,n._path),y?T.getNode():Gi.EMPTY_NODE,y))}(a.serverSyncTree_,n);return null!=u?Promise.resolve(u):a.server_.get(n).then(f=>{const y=zs(f).withIndex(n._queryParams.getIndex());let T;if(Nh(a.serverSyncTree_,n,r,!0),n._queryParams.loadsAllData())T=Lf(a.serverSyncTree_,n._path,y);else{const N=Vf(a.serverSyncTree_,n);T=Cy(a.serverSyncTree_,n._path,y,N)}return ol(a.eventQueue_,n._path,T),Ph(a.serverSyncTree_,n,r,null,!0),y},f=>($h(a,"get for query "+(0,Qe.Wl)(n)+" failed: "+f),Promise.reject(new Error(f))))}(a._repo,a,r).then(u=>new bc(u,new Ma(a._repo,a._path),a._queryParams.getIndex()))}class $d{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,r){const u=r._queryParams.getIndex();return new Yh("value",this,new bc(n.snapshotNode,new Ma(r._repo,r._path),u))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,r){return this.callbackContext.hasCancelCallback?new km(this,n,r):null}matches(n){return n instanceof $d&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class tp{constructor(n,r){this.eventType=n,this.callbackContext=r}respondsTo(n){let r="children_added"===n?"child_added":n;return r="children_removed"===r?"child_removed":r,this.eventType===r}createCancelEvent(n,r){return this.callbackContext.hasCancelCallback?new km(this,n,r):null}createEvent(n,r){(0,Qe.hu)(null!=n.childName,"Child events should have a childName.");const u=hd(new Ma(r._repo,r._path),n.childName),f=r._queryParams.getIndex();return new Yh(n.type,this,new bc(n.snapshotNode,u,f),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof tp&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Nm(a,n,r,u,f){let y;if("object"==typeof u&&(y=void 0,f=u),"function"==typeof u&&(y=u),f&&f.onlyOnce){const q=r,le=(gt,Et)=>{Zf(a._repo,a,N),q(gt,Et)};le.userCallback=r.userCallback,le.context=r.context,r=le}const T=new Xc(r,y||void 0),N="value"===n?new $d(T):new tp(n,T);return function Oy(a,n,r){let u;u=".info"===lr(n._path)?Nh(a.infoSyncTree_,n,r):Nh(a.serverSyncTree_,n,r),Ay(a.eventQueue_,n._path,u)}(a._repo,a,N),()=>Zf(a._repo,a,N)}function Fm(a,n,r,u){return Nm(a,"value",n,r,u)}function Ly(a,n,r,u){return Nm(a,"child_added",n,r,u)}function b_(a,n,r,u){return Nm(a,"child_changed",n,r,u)}function E_(a,n,r,u){return Nm(a,"child_moved",n,r,u)}function Do(a,n,r,u){return Nm(a,"child_removed",n,r,u)}function w_(a,n,r){let u=null;const f=r?new Xc(r):null;"value"===n?u=new $d(f):n&&(u=new tp(n,f)),Zf(a._repo,a,u)}class Yl{}class C_ extends Yl{constructor(n,r){super(),this._value=n,this._key=r}_apply(n){Wl("endAt",this._value,n._path,!0);const r=vh(n._queryParams,this._value,this._key);if(Jf(r),vc(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ma(n._repo,n._path,r,n._orderByCalled)}}class By extends Yl{constructor(n,r){super(),this._value=n,this._key=r}_apply(n){Wl("endBefore",this._value,n._path,!1);const r=function Qp(a,n,r){let u,f;return a.index_===ja?("string"==typeof n&&(n=Od(n)),f=vh(a,n,r)):(u=null==r?Vl:Od(r),f=vh(a,n,u)),f.endBeforeSet_=!0,f}(n._queryParams,this._value,this._key);if(Jf(r),vc(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ma(n._repo,n._path,r,n._orderByCalled)}}class Qh extends Yl{constructor(n,r){super(),this._value=n,this._key=r}_apply(n){Wl("startAt",this._value,n._path,!0);const r=_h(n._queryParams,this._value,this._key);if(Jf(r),vc(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ma(n._repo,n._path,r,n._orderByCalled)}}class Wd extends Yl{constructor(n,r){super(),this._value=n,this._key=r}_apply(n){Wl("startAfter",this._value,n._path,!1);const r=function yh(a,n,r){let u;if(a.index_===ja)"string"==typeof n&&(n=Ju(n)),u=_h(a,n,r);else{let f;f=null==r?Ia:Ju(r),u=_h(a,n,f)}return u.startAfterSet_=!0,u}(n._queryParams,this._value,this._key);if(Jf(r),vc(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ma(n._repo,n._path,r,n._orderByCalled)}}class Jh extends Yl{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ma(n._repo,n._path,function Fg(a,n){const r=a.copy();return r.limitSet_=!0,r.limit_=n,r.viewFrom_="l",r}(n._queryParams,this._limit),n._orderByCalled)}}class Vy extends Yl{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ma(n._repo,n._path,function Lg(a,n){const r=a.copy();return r.limitSet_=!0,r.limit_=n,r.viewFrom_="r",r}(n._queryParams,this._limit),n._orderByCalled)}}class I_ extends Yl{constructor(n){super(),this._path=n}_apply(n){Zh(n,"orderByChild");const r=new ur(this._path);if(qi(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new Rg(r),f=bh(n._queryParams,u);return vc(f),new ma(n._repo,n._path,f,!0)}}class eu extends Yl{_apply(n){Zh(n,"orderByKey");const r=bh(n._queryParams,ja);return vc(r),new ma(n._repo,n._path,r,!0)}}class Uy extends Yl{_apply(n){Zh(n,"orderByPriority");const r=bh(n._queryParams,ws);return vc(r),new ma(n._repo,n._path,r,!0)}}class wc extends Yl{_apply(n){Zh(n,"orderByValue");const r=bh(n._queryParams,If);return vc(r),new ma(n._repo,n._path,r,!0)}}class T_ extends Yl{constructor(n,r){super(),this._value=n,this._key=r}_apply(n){if(Wl("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new C_(this._value,this._key)._apply(new Qh(this._value,this._key)._apply(n))}}function Cc(a,...n){let r=(0,Qe.m9)(a);for(const u of n)r=u._apply(r);return r}(function hm(a){(0,Qe.hu)(!bu,"__referenceConstructor has already been defined"),bu=a})(Ma),function vy(a){(0,Qe.hu)(!Wo,"__referenceConstructor has already been defined"),Wo=a}(Ma);const S_={};function ip(a,n,r,u,f){let y=u||a.options.databaseURL;void 0===y&&(a.options.projectId||Ua("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ao("Using default host for project ",a.options.projectId),y=`${a.options.projectId}-default-rtdb.firebaseio.com`);let q,le,T=Om(y,f),N=T.repoInfo;typeof process<"u"&&process.env&&(le=process.env.FIREBASE_DATABASE_EMULATOR_HOST),le?(q=!0,y=`http://${le}?ns=${N.namespace}`,T=Om(y,f),N=T.repoInfo):q=!T.repoInfo.secure;const gt=f&&q?new cc(cc.OWNER):new hg(a.name,a.options,n);ld("Invalid Firebase Database URL",T),qi(T.path)||Ua("Database URL must point to the root of a Firebase Database (not including a child path).");const Et=function Gy(a,n,r,u){let f=S_[n.name];f||(f={},S_[n.name]=f);let y=f[a.toURLString()];return y&&Ua("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),y=new Ko(a,false,r,u),f[a.toURLString()]=y,y}(N,a,gt,new Mp(a.name,r));return new Mu(Et,a)}class Mu{constructor(n,r){this._repoInternal=n,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Gd(a,n,r){if(a.stats_=_g(a.repoInfo_),a.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)a.server_=new Tf(a.repoInfo_,(u,f,y,T)=>{g_(a,u,f,y,T)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Uh(a,!0),0);else{if(typeof r<"u"&&null!==r){if("object"!=typeof r)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Qe.Wl)(r)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}a.persistentConnection_=new qu(a.repoInfo_,n,(u,f,y,T)=>{g_(a,u,f,y,T)},u=>{Uh(a,u)},u=>{!function Ss(a,n){wo(n,(r,u)=>{Du(a,r,u)})}(a,u)},a.authTokenProvider_,a.appCheckProvider_,r),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(u=>{a.server_.refreshAuthToken(u)}),a.appCheckProvider_.addTokenChangeListener(u=>{a.server_.refreshAppCheckToken(u.token)}),a.statsReporter_=function pv(a,n){const r=a.toString();return xp[r]||(xp[r]=n()),xp[r]}(a.repoInfo_,()=>new my(a.stats_,a.server_)),a.infoData_=new Bg,a.infoSyncTree_=new Ey({startListening:(u,f,y,T)=>{let N=[];const q=a.infoData_.getNode(u._path);return q.isEmpty()||(N=Lf(a.infoSyncTree_,u._path,q),setTimeout(()=>{T("ok")},0)),N},stopListening:()=>{}}),Du(a,"connected",!1),a.serverSyncTree_=new Ey({startListening:(u,f,y,T)=>(a.server_.listen(u,y,f,(N,q)=>{const le=T(N,q);ol(a.eventQueue_,u._path,le)}),[]),stopListening:(u,f)=>{a.server_.unlisten(u,f)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ma(this._repo,Ur())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function _b(a,n){const r=S_[n];(!r||r[a.key]!==a)&&Ua(`Database ${n}(${a.repoInfo_}) has already been deleted.`),Kl(a),delete r[a.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Ua("Cannot call "+n+" on a deleted database.")}}function M_(){Ku.IS_TRANSPORT_INITIALIZED&&bo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Bm(){M_(),Ha.forceDisallow()}function Bv(){M_(),nl.forceDisallow(),Ha.forceAllow()}function Uv(a,n){Ip(a,n)}const O_={".sv":"timestamp"};class Um{constructor(n,r){this.committed=n,this.snapshot=r}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qu.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)},qu.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)},function Hv(a){Cp(ea.SDK_VERSION),(0,ea._registerComponent)(new Br.wA("database",(n,{instanceIdentifier:r})=>ip(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),r),"PUBLIC").setMultipleInstances(!0)),(0,ea.registerVersion)(Ep,Gu,a),(0,ea.registerVersion)(Ep,Gu,"esm2017")}();const Gv=new Ll.Yd("@firebase/database-compat"),P_=function(a){Gv.warn("FIREBASE WARNING: "+a)};class Yy{constructor(n){this._delegate=n}cancel(n){(0,Qe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Qe.Wj)("OnDisconnect.cancel","onComplete",n,!0);const r=this._delegate.cancel();return n&&r.then(()=>n(null),u=>n(u)),r}remove(n){(0,Qe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Qe.Wj)("OnDisconnect.remove","onComplete",n,!0);const r=this._delegate.remove();return n&&r.then(()=>n(null),u=>n(u)),r}set(n,r){(0,Qe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Qe.Wj)("OnDisconnect.set","onComplete",r,!0);const u=this._delegate.set(n);return r&&u.then(()=>r(null),f=>r(f)),u}setWithPriority(n,r,u){(0,Qe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Qe.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const f=this._delegate.setWithPriority(n,r);return u&&f.then(()=>u(null),y=>u(y)),f}update(n,r){if((0,Qe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const f={};for(let y=0;y<n.length;++y)f[""+y]=n[y];n=f,P_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Qe.Wj)("OnDisconnect.update","onComplete",r,!0);const u=this._delegate.update(n);return r&&u.then(()=>r(null),f=>r(f)),u}}class Zy{constructor(n,r){this.committed=n,this.snapshot=r}toJSON(){return(0,Qe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class al{constructor(n,r){this._database=n,this._delegate=r}val(){return(0,Qe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Qe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Qe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Qe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,Qe.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),qc("DataSnapshot.child","path",n,!1),new al(this._database,this._delegate.child(n))}hasChild(n){return(0,Qe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),qc("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,Qe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,Qe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Qe.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(r=>n(new al(this._database,r)))}hasChildren(){return(0,Qe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Qe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Qe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Cs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class _s{constructor(n,r){this.database=n,this._delegate=r}on(n,r,u,f){var y;(0,Qe.Dv)("Query.on",2,4,arguments.length),(0,Qe.Wj)("Query.on","callback",r,!1);const T=_s.getCancelAndContextArgs_("Query.on",u,f),N=(le,gt)=>{r.call(T.context,new al(this.database,le),gt)};N.userCallback=r,N.context=T.context;const q=null===(y=T.cancel)||void 0===y?void 0:y.bind(T.context);switch(n){case"value":return Fm(this._delegate,N,q),r;case"child_added":return Ly(this._delegate,N,q),r;case"child_removed":return Do(this._delegate,N,q),r;case"child_changed":return b_(this._delegate,N,q),r;case"child_moved":return E_(this._delegate,N,q),r;default:throw new Error((0,Qe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,r,u){if((0,Qe.Dv)("Query.off",0,3,arguments.length),function(a,n,r){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Qe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,Qe.Wj)("Query.off","callback",r,!0),(0,Qe.lb)("Query.off","context",u,!0),r){const f=()=>{};f.userCallback=r,f.context=u,w_(this._delegate,n,f)}else w_(this._delegate,n)}get(){return Fy(this._delegate).then(n=>new al(this.database,n))}once(n,r,u,f){(0,Qe.Dv)("Query.once",1,4,arguments.length),(0,Qe.Wj)("Query.once","callback",r,!0);const y=_s.getCancelAndContextArgs_("Query.once",u,f),T=new Qe.BH,N=(le,gt)=>{const Et=new al(this.database,le);r&&r.call(y.context,Et,gt),T.resolve(Et)};N.userCallback=r,N.context=y.context;const q=le=>{y.cancel&&y.cancel.call(y.context,le),T.reject(le)};switch(n){case"value":Fm(this._delegate,N,q,{onlyOnce:!0});break;case"child_added":Ly(this._delegate,N,q,{onlyOnce:!0});break;case"child_removed":Do(this._delegate,N,q,{onlyOnce:!0});break;case"child_changed":b_(this._delegate,N,q,{onlyOnce:!0});break;case"child_moved":E_(this._delegate,N,q,{onlyOnce:!0});break;default:throw new Error((0,Qe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return T.promise}limitToFirst(n){return(0,Qe.Dv)("Query.limitToFirst",1,1,arguments.length),new _s(this.database,Cc(this._delegate,function fd(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jh(a)}(n)))}limitToLast(n){return(0,Qe.Dv)("Query.limitToLast",1,1,arguments.length),new _s(this.database,Cc(this._delegate,function Fv(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Vy(a)}(n)))}orderByChild(n){return(0,Qe.Dv)("Query.orderByChild",1,1,arguments.length),new _s(this.database,Cc(this._delegate,function Jc(a){if("$key"===a)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===a)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===a)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qc("orderByChild","path",a,!1),new I_(a)}(n)))}orderByKey(){return(0,Qe.Dv)("Query.orderByKey",0,0,arguments.length),new _s(this.database,Cc(this._delegate,function Lv(){return new eu}()))}orderByPriority(){return(0,Qe.Dv)("Query.orderByPriority",0,0,arguments.length),new _s(this.database,Cc(this._delegate,function tu(){return new Uy}()))}orderByValue(){return(0,Qe.Dv)("Query.orderByValue",0,0,arguments.length),new _s(this.database,Cc(this._delegate,function Zl(){return new wc}()))}startAt(n=null,r){return(0,Qe.Dv)("Query.startAt",0,2,arguments.length),new _s(this.database,Cc(this._delegate,function Xh(a=null,n){return Vh("startAt","key",n,!0),new Qh(a,n)}(n,r)))}startAfter(n=null,r){return(0,Qe.Dv)("Query.startAfter",0,2,arguments.length),new _s(this.database,Cc(this._delegate,function Su(a,n){return Vh("startAfter","key",n,!0),new Wd(a,n)}(n,r)))}endAt(n=null,r){return(0,Qe.Dv)("Query.endAt",0,2,arguments.length),new _s(this.database,Cc(this._delegate,function D_(a,n){return Vh("endAt","key",n,!0),new C_(a,n)}(n,r)))}endBefore(n=null,r){return(0,Qe.Dv)("Query.endBefore",0,2,arguments.length),new _s(this.database,Cc(this._delegate,function Lm(a,n){return Vh("endBefore","key",n,!0),new By(a,n)}(n,r)))}equalTo(n,r){return(0,Qe.Dv)("Query.equalTo",1,2,arguments.length),new _s(this.database,Cc(this._delegate,function Hy(a,n){return Vh("equalTo","key",n,!0),new T_(a,n)}(n,r)))}toString(){return(0,Qe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Qe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,Qe.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof _s))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,r,u){const f={cancel:void 0,context:void 0};if(r&&u)f.cancel=r,(0,Qe.Wj)(n,"cancel",f.cancel,!0),f.context=u,(0,Qe.lb)(n,"context",f.context,!0);else if(r)if("object"==typeof r&&null!==r)f.context=r;else{if("function"!=typeof r)throw new Error((0,Qe.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");f.cancel=r}return f}get ref(){return new Cs(this.database,new Ma(this._delegate._repo,this._delegate._path))}}class Cs extends _s{constructor(n,r){super(n,new ma(r._repo,r._path,new Pd,!1)),this.database=n,this._delegate=r}getKey(){return(0,Qe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,Qe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Cs(this.database,hd(this._delegate,n))}getParent(){(0,Qe.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Cs(this.database,n):null}getRoot(){return(0,Qe.Dv)("Reference.root",0,0,arguments.length),new Cs(this.database,this._delegate.root)}set(n,r){(0,Qe.Dv)("Reference.set",1,2,arguments.length),(0,Qe.Wj)("Reference.set","onComplete",r,!0);const u=Ec(this._delegate,n);return r&&u.then(()=>r(null),f=>r(f)),u}update(n,r){if((0,Qe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const f={};for(let y=0;y<n.length;++y)f[""+y]=n[y];n=f,P_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ga("Reference.update",this._delegate._path),(0,Qe.Wj)("Reference.update","onComplete",r,!0);const u=Ny(this._delegate,n);return r&&u.then(()=>r(null),f=>r(f)),u}setWithPriority(n,r,u){(0,Qe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Qe.Wj)("Reference.setWithPriority","onComplete",u,!0);const f=function Py(a,n,r){if(Ga("setWithPriority",a._path),Wl("setWithPriority",n,a._path,!1),Wf("setWithPriority",r,!1),".length"===a.key||".keys"===a.key)throw"setWithPriority failed: "+a.key+" is a read-only object.";const u=new Qe.BH;return Tu(a._repo,a._path,n,r,u.wrapCallback(()=>{})),u.promise}(this._delegate,n,r);return u&&f.then(()=>u(null),y=>u(y)),f}remove(n){(0,Qe.Dv)("Reference.remove",0,1,arguments.length),(0,Qe.Wj)("Reference.remove","onComplete",n,!0);const r=function qh(a){return Ga("remove",a._path),Ec(a,null)}(this._delegate);return n&&r.then(()=>n(null),u=>n(u)),r}transaction(n,r,u){(0,Qe.Dv)("Reference.transaction",1,3,arguments.length),(0,Qe.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,Qe.Wj)("Reference.transaction","onComplete",r,!0),function(a,n,r,u){if(void 0!==r&&"boolean"!=typeof r)throw new Error((0,Qe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const f=function R_(a,n,r){var u;if(a=(0,Qe.m9)(a),Ga("Reference.transaction",a._path),".length"===a.key||".keys"===a.key)throw"Reference.transaction failed: "+a.key+" is a read-only object.";const f=null===(u=r?.applyLocally)||void 0===u||u,y=new Qe.BH,N=Fm(a,()=>{});return function Sm(a,n,r,u,f,y){$h(a,"transaction on "+n);const T={path:n,update:r,onComplete:u,status:null,order:Dp(),applyLocally:y,retryCount:0,unwatcher:f,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},N=y_(a,n,void 0);T.currentInputSnapshot=N;const q=T.update(N.val());if(void 0===q)T.unwatcher(),T.currentOutputSnapshotRaw=null,T.currentOutputSnapshotResolved=null,T.onComplete&&T.onComplete(null,!1,T.currentInputSnapshot);else{ad("transaction failed: Data returned ",q,T.path),T.status=0;const le=sd(a.transactionQueueTree_,n),gt=$l(le)||[];let Et;gt.push(T),od(le,gt),"object"==typeof q&&null!==q&&(0,Qe.r3)(q,".priority")?(Et=(0,Qe.DV)(q,".priority"),(0,Qe.hu)(Zc(Et),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Et=(Bf(a.serverSyncTree_,n)||Gi.EMPTY_NODE).getPriority().val();const Gt=or(a),cn=zs(q,Et),on=Gf(cn,N,Gt);T.currentOutputSnapshotRaw=cn,T.currentOutputSnapshotResolved=on,T.currentWriteId=Iu(a);const kn=Ud(a.serverSyncTree_,n,on,T.currentWriteId,T.applyLocally);ol(a.eventQueue_,n,kn),qf(a,a.transactionQueueTree_)}}(a._repo,a._path,n,(q,le,gt)=>{let Et=null;q?y.reject(q):(Et=new bc(gt,new Ma(a._repo,a._path),ws),y.resolve(new Um(le,Et)))},N,f),y.promise}(this._delegate,n,{applyLocally:u}).then(y=>new Zy(y.committed,new al(this.database,y.snapshot)));return r&&f.then(y=>r(null,y.committed,y.snapshot),y=>r(y,!1,null)),f}setPriority(n,r){(0,Qe.Dv)("Reference.setPriority",1,2,arguments.length),(0,Qe.Wj)("Reference.setPriority","onComplete",r,!0);const u=function ky(a,n){a=(0,Qe.m9)(a),Ga("setPriority",a._path),Wf("setPriority",n,!1);const r=new Qe.BH;return Tu(a._repo,es(a._path,".priority"),n,null,r.wrapCallback(()=>{})),r.promise}(this._delegate,n);return r&&u.then(()=>r(null),f=>r(f)),u}push(n,r){(0,Qe.Dv)("Reference.push",0,2,arguments.length),(0,Qe.Wj)("Reference.push","onComplete",r,!0);const u=function Pm(a,n){a=(0,Qe.m9)(a),Ga("push",a._path),Wl("push",n,a._path,!0);const r=Yf(a._repo),u=Dv(r),f=hd(a,u),y=hd(a,u);let T;return T=null!=n?Ec(y,n).then(()=>y):Promise.resolve(y),f.then=T.then.bind(T),f.catch=T.then.bind(T,void 0),f}(this._delegate,n),f=u.then(T=>new Cs(this.database,T));r&&f.then(()=>r(null),T=>r(T));const y=new Cs(this.database,u);return y.then=f.then.bind(f),y.catch=f.catch.bind(f,void 0),y}onDisconnect(){return Ga("Reference.onDisconnect",this._delegate._path),new Yy(new Xf(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ef{constructor(n,r){this._delegate=n,this.app=r,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Bm,forceLongPolling:Bv}}useEmulator(n,r,u={}){!function A_(a,n,r,u={}){(a=(0,Qe.m9)(a))._checkNotDeleted("useEmulator"),a._instanceStarted&&Ua("Cannot call useEmulator() after instance has already been initialized.");const f=a._repoInternal;let y;if(f.repoInfo_.nodeAdmin)u.mockUserToken&&Ua('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),y=new cc(cc.OWNER);else if(u.mockUserToken){const T="string"==typeof u.mockUserToken?u.mockUserToken:(0,Qe.Sg)(u.mockUserToken,a.app.options.projectId);y=new cc(T)}!function np(a,n,r,u){a.repoInfo_=new Ap(`${n}:${r}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams),u&&(a.authTokenProvider_=u)}(f,n,r,y)}(this._delegate,n,r,u)}ref(n){if((0,Qe.Dv)("database.ref",0,1,arguments.length),n instanceof Cs){const r=zd(this._delegate,n.toString());return new Cs(this,r)}{const r=v_(this._delegate,n);return new Cs(this,r)}}refFromURL(n){(0,Qe.Dv)("database.refFromURL",1,1,arguments.length);const u=zd(this._delegate,n);return new Cs(this,u)}goOffline(){return(0,Qe.Dv)("database.goOffline",0,0,arguments.length),function x_(a){(a=(0,Qe.m9)(a))._checkNotDeleted("goOffline"),Kl(a._repo)}(this._delegate)}goOnline(){return(0,Qe.Dv)("database.goOnline",0,0,arguments.length),function Vm(a){(a=(0,Qe.m9)(a))._checkNotDeleted("goOnline"),function Qc(a){a.persistentConnection_&&a.persistentConnection_.resume(_c)}(a._repo)}(this._delegate)}}ef.ServerValue={TIMESTAMP:function $y(){return O_}(),increment:a=>function Wy(a){return{".sv":{increment:a}}}(a)};var sp=Object.freeze({__proto__:null,initStandalone:function qy({app:a,url:n,version:r,customAuthImpl:u,namespace:f,nodeAdmin:y=!1}){Cp(r);const T=new Br.zt("auth-internal",new Br.H0("database-standalone"));return T.setComponent(new Br.wA("auth-internal",()=>u,"PRIVATE")),{instance:new ef(ip(a,T,void 0,n,y),a),namespace:f}}});const op=ef.ServerValue;function pd(a){return null==a}function Au(a){return"function"==typeof a.set}function ap(a,n){return Au(n)?n:a.ref(n)}function xu(a,n){if(function $v(a){return"string"==typeof a}(a))return n.stringCase();if(Au(a))return n.firebaseCase();if(function jm(a){return"function"==typeof a.exportVal}(a))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof a)}function tf(a,n,r="on",u=bs.z){return new _r.y(f=>{let y=null;return y=a[r](n,(T,N)=>{u.schedule(()=>{f.next({snapshot:T,prevKey:N})}),"once"===r&&u.schedule(()=>f.complete())},T=>{u.schedule(()=>f.error(T))}),"on"===r?{unsubscribe(){null!=y&&a.off(n,y)}}:{unsubscribe(){}}}).pipe((0,io.U)(f=>{const{snapshot:y,prevKey:T}=f;let N=null;return y.exists()&&(N=y.key),{type:n,payload:y,prevKey:T,key:N}}),(0,ig.B)())}function N_(a,n){const r=a.length;for(let u=0;u<r;u++)if(a[u].payload.key===n)return u;return-1}function F_(a,n){const{payload:r,prevKey:u,key:f}=n,y=N_(a,f),T=function Ou(a,n){if(pd(n))return 0;{const r=N_(a,n);return-1===r?a.length:r+1}}(a,u);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let N=null;n.payload.forEach(q=>{const le={payload:q,type:"value",prevKey:N,key:q.key};return N=q.key,a=[...a,le],!1})}return a;case"child_added":if(y>-1){const N=a[y-1];(N&&N.key||null)!==u&&(a=a.filter(q=>q.payload.key!==r.key)).splice(T,0,n)}else{if(null==u)return[n,...a];(a=a.slice()).splice(T,0,n)}return a;case"child_removed":return a.filter(N=>N.payload.key!==r.key);case"child_changed":return a.map(N=>N.payload.key===f?n:N);case"child_moved":if(y>-1){const N=a.splice(y,1)[0];return(a=a.slice()).splice(T,0,N),a}return a;default:return a}}function Gm(a){return(pd(a)||0===a.length)&&(a=["child_added","child_removed","child_changed","child_moved"]),a}function md(a,n,r){return function Qy(a,n,r){return tf(a,"value","once",r).pipe((0,ec.w)(u=>{const f=[(0,Fo.of)(u)];return n.forEach(y=>f.push(tf(a,y,"on",r))),(0,ar.T)(...f).pipe((0,rg.R)(F_,[]))}),(0,Nc.x)())}(a,n=Gm(n),r)}function L_(a,n,r){const u=(n=Gm(n)).map(f=>tf(a,f,"on",r));return(0,ar.T)(...u)}function lp(a,n){return function(u,f){return xu(u,{stringCase:()=>a.child(u)[n](f),firebaseCase:()=>u[n](f),snapshotCase:()=>u.ref[n](f)})}}function yb(a){return function(r){return r?xu(r,{stringCase:()=>a.child(r).remove(),firebaseCase:()=>r.remove(),snapshotCase:()=>r.ref.remove()}):a.remove()}}function V_(a,n){return function(){return tf(a,"value","on",n)}}!function $a(a){a.INTERNAL.registerComponent(new Br.wA("database-compat",(n,{instanceIdentifier:r})=>{const u=n.getProvider("app-compat").getImmediate(),f=n.getProvider("database").getImmediate({identifier:r});return new ef(f,u)},"PUBLIC").setServiceProps({Reference:Cs,Query:_s,Database:ef,DataSnapshot:al,enableLogging:Uv,INTERNAL:sp,ServerValue:op}).setMultipleInstances(!0)),a.registerVersion("@firebase/database-compat","0.2.10")}(Sl.Z);const Mi=new b.OlP("angularfire2.realtimeDatabaseURL"),Xy=new b.OlP("angularfire2.database.use-emulator");let Yv=(()=>{class a{constructor(r,u,f,y,T,N,q,le,gt,Et,Gt,cn,on,kn,ti){this.schedulers=N;const Pi=q,Qi=(0,co.on)(r,T,u);le&&(0,No.nw)(Qi,T,gt,Gt,cn,on,Et,kn),this.database=(0,co.cc)(`${Qi.name}.database.${f}`,"AngularFireDatabase",Qi.name,()=>{const hr=T.runOutsideAngular(()=>Qi.database(f||void 0));return Pi&&hr.useEmulator(...Pi),hr},[Pi])}list(r,u){const f=this.schedulers.ngZone.runOutsideAngular(()=>ap(this.database,r));let y=f;return u&&(y=u(f)),function zm(a,n){const r=n.schedulers.outsideAngular,u=n.schedulers.ngZone.run(()=>a.ref);return{query:a,update:lp(u,"update"),set:lp(u,"set"),push:f=>u.push(f),remove:yb(u),snapshotChanges:f=>md(a,f,r).pipe(vs.iC),stateChanges:f=>L_(a,f,r).pipe(vs.iC),auditTrail:f=>function Wv(a,n,r){return function B_(a,n,r){return function gd(a,n){return tf(a,"value","on",n).pipe((0,io.U)(r=>{let u;return r.payload.forEach(f=>(u=f.key,!1)),{data:r,lastKeyToLoad:u}}))}(a,r).pipe((0,lv.M)(n),(0,io.U)(([f,y])=>{const T=f.lastKeyToLoad,N=y.map(q=>q.key);return{actions:y,lastKeyToLoad:T,loadedKeys:N}}),function ff(a){return(0,Ho.e)((n,r)=>{let u=!1,f=0;n.subscribe((0,ju.x)(r,y=>(u||(u=!a(y,f++)))&&r.next(y)))})}(f=>-1===f.loadedKeys.indexOf(f.lastKeyToLoad)),(0,io.U)(f=>f.actions))}(a,L_(a,n).pipe((0,rg.R)((f,y)=>[...f,y],[])),r)}(a,f,r).pipe(vs.iC),valueChanges:(f,y)=>md(a,f,r).pipe((0,io.U)(N=>N.map(q=>y&&y.idField?Object.assign(Object.assign({},q.payload.val()),{[y.idField]:q.key}):q.payload.val())),vs.iC)}}(y,this)}object(r){return function Kv(a,n){return{query:a,snapshotChanges:()=>V_(a,n.schedulers.outsideAngular)().pipe(vs.iC),update:r=>a.ref.update(r),set:r=>a.ref.set(r),remove:()=>a.ref.remove(),valueChanges:()=>V_(a,n.schedulers.outsideAngular)().pipe(vs.iC,(0,io.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ap(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(co.Dh),b.LFG(co.xv,8),b.LFG(Mi,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(vs.HU),b.LFG(Xy,8),b.LFG(No.zQ,8),b.LFG(No.Qv,8),b.LFG(No.L6,8),b.LFG(No._Q,8),b.LFG(No.rT,8),b.LFG(No.lh,8),b.LFG(No.f7,8),b.LFG(Da.nm,8))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),Jy=(()=>{class a{constructor(){Fl.Z.registerVersion("angularfire",vs.q4.full,"rtdb-compat")}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=b.oAB({type:a}),a.\u0275inj=b.cJS({providers:[Yv]}),a})();var Aa=D(9653),Ru=D(7579);const cp=["toast-component",""];function up(a,n){if(1&a){const r=b.EpF();b.TgZ(0,"button",5),b.NdJ("click",function(){b.CHM(r);const f=b.oxw();return b.KtG(f.remove())}),b.TgZ(1,"span",6),b._uU(2,"\xd7"),b.qZA()()}}function Xs(a,n){if(1&a&&(b.ynx(0),b._uU(1),b.BQk()),2&a){const r=b.oxw(2);b.xp6(1),b.hij("[",r.duplicatesCount+1,"]")}}function vb(a,n){if(1&a&&(b.TgZ(0,"div"),b._uU(1),b.YNc(2,Xs,2,1,"ng-container",4),b.qZA()),2&a){const r=b.oxw();b.Tol(r.options.titleClass),b.uIk("aria-label",r.title),b.xp6(1),b.hij(" ",r.title," "),b.xp6(1),b.Q6J("ngIf",r.duplicatesCount)}}function o(a,n){if(1&a&&b._UZ(0,"div",7),2&a){const r=b.oxw();b.Tol(r.options.messageClass),b.Q6J("innerHTML",r.message,b.oJD)}}function e(a,n){if(1&a&&(b.TgZ(0,"div",8),b._uU(1),b.qZA()),2&a){const r=b.oxw();b.Tol(r.options.messageClass),b.uIk("aria-label",r.message),b.xp6(1),b.hij(" ",r.message," ")}}function t(a,n){if(1&a&&(b.TgZ(0,"div"),b._UZ(1,"div",9),b.qZA()),2&a){const r=b.oxw();b.xp6(1),b.Udp("width",r.width+"%")}}class wt{constructor(n,r){this.component=n,this.injector=r}attach(n,r){return this._attachedHost=n,n.attach(this,r)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class mn{constructor(n,r,u,f,y,T){this.toastId=n,this.config=r,this.message=u,this.title=f,this.toastType=y,this.toastRef=T,this._onTap=new Ru.x,this._onAction=new Ru.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const Jn=new b.OlP("ToastConfig");class oi{constructor(n){this._overlayRef=n,this.duplicatesCount=0,this._afterClosed=new Ru.x,this._activate=new Ru.x,this._manualClose=new Ru.x,this._resetTimeout=new Ru.x,this._countDuplicate=new Ru.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,r){n&&this._resetTimeout.next(),r&&this._countDuplicate.next(++this.duplicatesCount)}}class Or{constructor(n,r){this._toastPackage=n,this._parentInjector=r}get(n,r,u){return n===mn?this._toastPackage:this._parentInjector.get(n,r,u)}}class Ds extends class qt{attach(n,r){return this._attachedPortal=n,this.attachComponentPortal(n,r)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}{constructor(n,r,u){super(),this._hostDomElement=n,this._componentFactoryResolver=r,this._appRef=u}attachComponentPortal(n,r){const u=this._componentFactoryResolver.resolveComponentFactory(n.component);let f;return f=u.create(n.injector),this._appRef.attachView(f.hostView),this.setDisposeFn(()=>{this._appRef.detachView(f.hostView),f.destroy()}),r?this._hostDomElement.insertBefore(this._getComponentRootNode(f),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(f)),f}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}class dr{constructor(n){this._portalHost=n}attach(n,r=!0){return this._portalHost.attach(n,r)}detach(){return this._portalHost.detach()}}let Ms=(()=>{class a{constructor(r){this._document=r}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r=this._document.createElement("div");r.classList.add("overlay-container"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),this._containerElement=r}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(K.K0))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Pr=(()=>{class a{constructor(r,u,f,y){this._overlayContainer=r,this._componentFactoryResolver=u,this._appRef=f,this._document=y,this._paneElements=new Map}create(r,u){return this._createOverlayRef(this.getPaneElement(r,u))}getPaneElement(r="",u){return this._paneElements.get(u)||this._paneElements.set(u,{}),this._paneElements.get(u)[r]||(this._paneElements.get(u)[r]=this._createPaneElement(r,u)),this._paneElements.get(u)[r]}_createPaneElement(r,u){const f=this._document.createElement("div");return f.id="toast-container",f.classList.add(r),f.classList.add("toast-container"),u?u.getContainerElement().appendChild(f):this._overlayContainer.getContainerElement().appendChild(f),f}_createPortalHost(r){return new Ds(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new dr(this._createPortalHost(r))}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(Ms),b.LFG(b._Vd),b.LFG(b.z2F),b.LFG(K.K0))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Nr=(()=>{class a{constructor(r,u,f,y,T){this.overlay=u,this._injector=f,this.sanitizer=y,this.ngZone=T,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...r.default,...r.config},r.config.iconClasses&&(this.toastrConfig.iconClasses={...r.default.iconClasses,...r.config.iconClasses})}show(r,u,f={},y=""){return this._preBuildNotification(y,r,u,this.applyConfig(f))}success(r,u,f={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",r,u,this.applyConfig(f))}error(r,u,f={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",r,u,this.applyConfig(f))}info(r,u,f={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",r,u,this.applyConfig(f))}warning(r,u,f={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",r,u,this.applyConfig(f))}clear(r){for(const u of this.toasts)if(void 0!==r){if(u.toastId===r)return void u.toastRef.manualClose()}else u.toastRef.manualClose()}remove(r){const u=this._findToast(r);if(!u||(u.activeToast.toastRef.close(),this.toasts.splice(u.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const f=this.toasts[this.currentlyActive].toastRef;f.isInactive()||(this.currentlyActive=this.currentlyActive+1,f.activate())}return!0}findDuplicate(r="",u="",f,y){const{includeTitleDuplicates:T}=this.toastrConfig;for(const N of this.toasts){const q=T&&N.title===r;if((!T||q)&&N.message===u)return N.toastRef.onDuplicate(f,y),N}return null}applyConfig(r={}){return{...this.toastrConfig,...r}}_findToast(r){for(let u=0;u<this.toasts.length;u++)if(this.toasts[u].toastId===r)return{index:u,activeToast:this.toasts[u]};return null}_preBuildNotification(r,u,f,y){return y.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,u,f,y)):this._buildNotification(r,u,f,y)}_buildNotification(r,u,f,y){if(!y.toastComponent)throw new Error("toastComponent required");const T=this.findDuplicate(f,u,this.toastrConfig.resetTimeoutOnDuplicate&&y.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&f||u)&&this.toastrConfig.preventDuplicates&&null!==T)return T;this.previousToastMessage=u;let N=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(N=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const q=this.overlay.create(y.positionClass,this.overlayContainer);this.index=this.index+1;let le=u;u&&y.enableHtml&&(le=this.sanitizer.sanitize(b.q3G.HTML,u));const gt=new oi(q),Et=new mn(this.index,y,le,f,r,gt),Gt=new Or(Et,this._injector),cn=new wt(y.toastComponent,Gt),on=q.attach(cn,this.toastrConfig.newestOnTop);gt.componentInstance=on.instance;const kn={toastId:this.index,title:f||"",message:u||"",toastRef:gt,onShown:gt.afterActivate(),onHidden:gt.afterClosed(),onTap:Et.onTap(),onAction:Et.onAction(),portal:on};return N||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{kn.toastRef.activate()})),this.toasts.push(kn),kn}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(Jn),b.LFG(Pr),b.LFG(b.zs3),b.LFG(m.H7),b.LFG(b.R0b))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const nf={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class a{constructor(r,u,f){this.toastrService=r,this.toastPackage=u,this.ngZone=f,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=u.message,this.title=u.title,this.options=u.config,this.originalTimeout=u.config.timeOut,this.toastClasses=`${u.toastType} ${u.config.toastClass}`,this.sub=u.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=u.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=u.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=u.toastRef.countDuplicate().subscribe(y=>{this.duplicatesCount=y})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,u){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),u)):this.timeout=setTimeout(()=>r(),u)}outsideInterval(r,u){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),u)):this.intervalId=setInterval(()=>r(),u)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}}return a.\u0275fac=function(r){return new(r||a)(b.Y36(Nr),b.Y36(mn),b.Y36(b.R0b))},a.\u0275cmp=b.Xpm({type:a,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,u){1&r&&b.NdJ("click",function(){return u.tapToast()})("mouseenter",function(){return u.stickAround()})("mouseleave",function(){return u.delayedHideToast()}),2&r&&(b.d8E("@flyInOut",u.state),b.Tol(u.toastClasses),b.Udp("display",u.displayStyle))},attrs:cp,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,u){1&r&&(b.YNc(0,up,3,0,"button",0),b.YNc(1,vb,3,5,"div",1),b.YNc(2,o,1,3,"div",2),b.YNc(3,e,2,4,"div",3),b.YNc(4,t,2,2,"div",4)),2&r&&(b.Q6J("ngIf",u.options.closeButton),b.xp6(1),b.Q6J("ngIf",u.title),b.xp6(1),b.Q6J("ngIf",u.message&&u.options.enableHtml),b.xp6(1),b.Q6J("ngIf",u.message&&!u.options.enableHtml),b.xp6(1),b.Q6J("ngIf",u.options.progressBar))},dependencies:[K.O5],encapsulation:2,data:{animation:[(0,E.X$)("flyInOut",[(0,E.SB)("inactive",(0,E.oB)({opacity:0})),(0,E.SB)("active",(0,E.oB)({opacity:1})),(0,E.SB)("removed",(0,E.oB)({opacity:0})),(0,E.eR)("inactive => active",(0,E.jt)("{{ easeTime }}ms {{ easing }}")),(0,E.eR)("active => removed",(0,E.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),a})()};let bb=(()=>{class a{static forRoot(r={}){return{ngModule:a,providers:[{provide:Jn,useValue:{default:nf,config:r}}]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=b.oAB({type:a}),a.\u0275inj=b.cJS({imports:[[K.ez]]}),a})();var Qb=D(8502),tE=D(515),nE=D(2843),iE=D(576);class _d{constructor(n,r,u){this.kind=n,this.value=r,this.error=u,this.hasValue="N"===n}observe(n){return U_(this,n)}do(n,r,u){const{kind:f,value:y,error:T}=this;return"N"===f?n?.(y):"E"===f?r?.(T):u?.()}accept(n,r,u){var f;return(0,iE.m)(null===(f=n)||void 0===f?void 0:f.next)?this.observe(n):this.do(n,r,u)}toObservable(){const{kind:n,value:r,error:u}=this,f="N"===n?(0,Fo.of)(r):"E"===n?(0,nE._)(()=>u):"C"===n?tE.E:0;if(!f)throw new TypeError(`Unexpected notification kind ${n}`);return f}static createNext(n){return new _d("N",n)}static createError(n){return new _d("E",void 0,n)}static createComplete(){return _d.completeNotification}}function U_(a,n){var r,u,f;const{kind:y,value:T,error:N}=a;if("string"!=typeof y)throw new TypeError('Invalid notification, missing "kind"');"N"===y?null===(r=n.next)||void 0===r||r.call(n,T):"E"===y?null===(u=n.error)||void 0===u||u.call(n,N):null===(f=n.complete)||void 0===f||f.call(n)}_d.completeNotification=new _d("C");var H_=D(262),ev=D(8421);function $m(a,n,r,u){return(0,Ho.e)((f,y)=>{let T;n&&"function"!=typeof n?({duration:r,element:T,connector:u}=n):T=n;const N=new Map,q=on=>{N.forEach(on),on(y)},le=on=>q(kn=>kn.error(on));let gt=0,Et=!1;const Gt=new ju.Q(y,on=>{try{const kn=a(on);let ti=N.get(kn);if(!ti){N.set(kn,ti=u?u():new Ru.x);const Pi=function cn(on,kn){const ti=new _r.y(Pi=>{gt++;const Qi=kn.subscribe(Pi);return()=>{Qi.unsubscribe(),0==--gt&&Et&&Gt.unsubscribe()}});return ti.key=on,ti}(kn,ti);if(y.next(Pi),r){const Qi=(0,ju.x)(ti,()=>{ti.complete(),Qi?.unsubscribe()},void 0,void 0,()=>N.delete(kn));Gt.add((0,ev.Xf)(r(Pi)).subscribe(Qi))}}ti.next(T?T(on):on)}catch(kn){le(kn)}},()=>q(on=>on.complete()),le,()=>N.clear(),()=>(Et=!0,0===gt));f.subscribe(Gt)})}var Eb=D(5577);function j_(a,n){return n?r=>r.pipe(j_((u,f)=>(0,ev.Xf)(a(u,f)).pipe((0,io.U)((y,T)=>n(u,y,f,T))))):(0,Ho.e)((r,u)=>{let f=0,y=null,T=!1;r.subscribe((0,ju.x)(u,N=>{y||(y=(0,ju.x)(u,void 0,()=>{y=null,T&&u.complete()}),(0,ev.Xf)(a(N,f++)).subscribe(y))},()=>{T=!0,!y&&u.complete()}))})}var e0=D(5698);const wb={dispatch:!0,useEffectsErrorHandler:!0},G_="__@ngrx/effects_create__";function tv(a,n){const r=a(),u={...wb,...n};return Object.defineProperty(r,G_,{value:u}),r}function t0(a){return Object.getOwnPropertyNames(a).filter(u=>!(!a[u]||!a[u].hasOwnProperty(G_))&&a[u][G_].hasOwnProperty("dispatch")).map(u=>({propertyName:u,...a[u][G_]}))}function dp(a){return Object.getPrototypeOf(a)}const nv="__@ngrx/effects__";function r0(a){return(0,Aa.qC)(Cb,dp)(a)}function Cb(a){return function Zv(a){return a.constructor.hasOwnProperty(nv)}(a)?a.constructor[nv]:[]}function o0(a,n,r){const u=dp(a).constructor.name,f=function iv(a){return[r0,t0].reduce((r,u)=>r.concat(u(a)),[])}(a).map(({propertyName:y,dispatch:T,useEffectsErrorHandler:N})=>{const q="function"==typeof a[y]?a[y]():a[y],le=N?r(q,n):q;return!1===T?le.pipe((0,Qb.l)()):le.pipe(function Xb(){return(0,Ho.e)((a,n)=>{a.subscribe((0,ju.x)(n,r=>{n.next(_d.createNext(r))},()=>{n.next(_d.createComplete()),n.complete()},r=>{n.next(_d.createError(r)),n.complete()}))})}()).pipe((0,io.U)(Et=>({effect:a[y],notification:Et,propertyName:y,sourceName:u,sourceInstance:a})))});return(0,ar.T)(...f)}function qv(a,n,r=10){return a.pipe((0,H_.K)(u=>(n&&n.handleError(u),r<=1?a:qv(a,n,r-1))))}let a0=(()=>{class a extends _r.y{constructor(r){super(),r&&(this.source=r)}lift(r){const u=new a;return u.source=this,u.operator=r,u}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(Aa.Y$))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function rv(...a){return(0,Zt.h)(n=>a.some(r=>"string"==typeof r?r===n.type:r.type===n.type))}const Ib=new b.OlP("@ngrx/effects Internal Root Guard"),Wm=new b.OlP("@ngrx/effects User Provided Effects"),Qv=new b.OlP("@ngrx/effects Internal Root Effects"),Xv=new b.OlP("@ngrx/effects Root Effects"),Tb=new b.OlP("@ngrx/effects Internal Feature Effects"),Sb=new b.OlP("@ngrx/effects Feature Effects"),l0=new b.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>qv}),Mb="@ngrx/effects/init";function g0(a){return Jv(a,"ngrxOnInitEffects")}function Jv(a,n){return a&&n in a&&"function"==typeof a[n]}(0,Aa.PH)(Mb);let z_=(()=>{class a extends Ru.x{constructor(r,u){super(),this.errorHandler=r,this.effectsErrorHandler=u}addEffects(r){this.next(r)}toActions(){return this.pipe($m(dp),(0,Eb.z)(r=>r.pipe($m(eb))),(0,Eb.z)(r=>{const u=r.pipe(j_(y=>function Rb(a,n){return r=>{const u=o0(r,a,n);return function Ob(a){return Jv(a,"ngrxOnRunEffects")}(r)?r.ngrxOnRunEffects(u):u}}(this.errorHandler,this.effectsErrorHandler)(y)),(0,io.U)(y=>(function u0(a,n){if("N"===a.notification.kind){const r=a.notification.value;!function d0(a){return"function"!=typeof a&&a&&a.type&&"string"==typeof a.type}(r)&&n.handleError(new Error(`Effect ${function h0({propertyName:a,sourceInstance:n,sourceName:r}){const u="function"==typeof n[a];return`"${r}.${String(a)}${u?"()":""}"`}(a)} dispatched an invalid action: ${function Ab(a){try{return JSON.stringify(a)}catch{return a}}(r)}`))}}(y,this.errorHandler),y.notification)),(0,Zt.h)(y=>"N"===y.kind&&null!=y.value),function Jb(){return(0,Ho.e)((a,n)=>{a.subscribe((0,ju.x)(n,r=>U_(r,n)))})}()),f=r.pipe((0,e0.q)(1),(0,Zt.h)(g0),(0,io.U)(y=>y.ngrxOnInitEffects()));return(0,ar.T)(u,f)}))}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(b.qLn),b.LFG(l0))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function eb(a){return function f0(a){return Jv(a,"ngrxOnIdentifyEffects")}(a)?a.ngrxOnIdentifyEffects():""}let $_=(()=>{class a{constructor(r,u){this.effectSources=r,this.store=u,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(z_),b.LFG(Aa.yh))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),kb=(()=>{class a{constructor(r,u,f,y,T,N,q){this.sources=r,u.start(),y.forEach(le=>r.addEffects(le)),f.dispatch({type:Mb})}addEffects(r){this.sources.addEffects(r)}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(z_),b.LFG($_),b.LFG(Aa.yh),b.LFG(Xv),b.LFG(Aa.cr,8),b.LFG(Aa.CK,8),b.LFG(Ib,8))},a.\u0275mod=b.oAB({type:a}),a.\u0275inj=b.cJS({}),a})(),_0=(()=>{class a{constructor(r,u,f,y){u.forEach(T=>T.forEach(N=>r.addEffects(N)))}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(kb),b.LFG(Sb),b.LFG(Aa.cr,8),b.LFG(Aa.CK,8))},a.\u0275mod=b.oAB({type:a}),a.\u0275inj=b.cJS({}),a})(),tb=(()=>{class a{static forFeature(r=[]){return{ngModule:_0,providers:[r,{provide:Tb,multi:!0,useValue:r},{provide:Wm,multi:!0,useValue:[]},{provide:Sb,multi:!0,useFactory:Pb,deps:[b.zs3,Tb,Wm]}]}}static forRoot(r=[]){return{ngModule:kb,providers:[r,{provide:Qv,useValue:[r]},{provide:Ib,useFactory:Km,deps:[[$_,new b.FiY,new b.tp0],[Qv,new b.PiD]]},{provide:Wm,multi:!0,useValue:[]},{provide:Xv,useFactory:Pb,deps:[b.zs3,Qv,Wm]}]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=b.oAB({type:a}),a.\u0275inj=b.cJS({}),a})();function Pb(a,n,r){const u=[];for(const f of n)u.push(...f);for(const f of r)u.push(...f);return function Nb(a,n){return n.map(r=>a.get(r))}(a,u)}function Km(a,n){if((1!==n.length||0!==n[0].length)&&a)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Dc=D(8450),nb=D(2084);let v0=(()=>{class a{constructor(r,u){this.actions$=r,this.todoService=u,this.getTasks$=tv(()=>this.actions$.pipe(rv(Dc.Ak),(0,ec.w)(f=>this.todoService.getTasks().pipe((0,io.U)(y=>{let T=[];return y.forEach(N=>T.push(N.data())),console.log("dataaaaa",T),Dc.Le({data:T})}),(0,H_.K)(y=>(0,Fo.of)(Dc.Q7(y))))))),this.createTask$=tv(()=>this.actions$.pipe(rv(Dc.vr),j_(f=>this.todoService.addTask(f.task).pipe((0,io.U)(y=>Dc.EF(y)),(0,H_.K)(y=>(console.log(y),(0,Fo.of)(Dc.WG(y)))))))),this.deleteTask$=tv(()=>this.actions$.pipe(rv(Dc._5),j_(f=>this.todoService.deleteTask(f.taskid).pipe((0,io.U)(y=>Dc.bl(y)),(0,H_.K)(y=>(0,Fo.of)(Dc.Ez(y))))))),this.editTask$=tv(()=>this.actions$.pipe(rv(Dc.eT),j_(f=>this.todoService.editTask(f.task).pipe((0,io.U)(y=>Dc.Fj(y)),(0,H_.K)(y=>(0,Fo.of)(Dc.rf(y)))))))}}return a.\u0275fac=function(r){return new(r||a)(b.LFG(a0),b.LFG(nb.Z))},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac}),a})();var ib=D(3329);function b0(a){return new Us(a)}let Fb=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=b.oAB({type:a,bootstrap:[Mo]}),a.\u0275inj=b.cJS({providers:[yo.z],imports:[m.b2,Xa,wr.JF,Oa,co.hO.initializeApp(te.N.firebaseConfig),H.aw.forRoot({loader:{provide:H.Zw,useFactory:b0,deps:[wr.eN]}}),bb.forRoot(),ba.m,Aa.Aw.forRoot({todos:ib.nq}),tb.forRoot([v0]),No.ww,bp.yb,ah,Jy]}),a})();te.N.production&&(0,b.G48)(),m.q6().bootstrapModule(Fb).catch(a=>console.error(a))},5867:(hn,ft,D)=>{D.d(ft,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=D(9681);(0,m.registerVersion)("firebase","9.14.0","app")},127:(hn,ft,D)=>{D.d(ft,{Z:()=>m.Z});var m=D(3942);m.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(hn,ft,D)=>{D.r(ft);var m=D(5861),b=D(3942),E=D(8247),M=D(2090),Fe=(D(9681),D(1877),D(4859));function re(){return window}function se(){return(se=(0,m.Z)(function*(Xe,oe,Le){var kt;const{BuildInfo:pn}=re();(0,E.ap)(oe.sessionId,"AuthEvent did not contain a session ID");const zn=yield Je(oe.sessionId),Hn={};return(0,E.aq)()?Hn.ibi=pn.packageName:(0,E.ar)()?Hn.apn=pn.packageName:(0,E.as)(Xe,"operation-not-supported-in-this-environment"),pn.displayName&&(Hn.appDisplayName=pn.displayName),Hn.sessionId=zn,(0,E.at)(Xe,Le,oe.type,void 0,null!==(kt=oe.eventId)&&void 0!==kt?kt:void 0,Hn)})).apply(this,arguments)}function Te(){return(Te=(0,m.Z)(function*(Xe){const{BuildInfo:oe}=re(),Le={};(0,E.aq)()?Le.iosBundleId=oe.packageName:(0,E.ar)()?Le.androidPackageName=oe.packageName:(0,E.as)(Xe,"operation-not-supported-in-this-environment"),yield(0,E.au)(Xe,Le)})).apply(this,arguments)}function dt(){return(dt=(0,m.Z)(function*(Xe,oe,Le){const{cordova:kt}=re();let pn=()=>{};try{yield new Promise((zn,Hn)=>{let Ze=null;function Be(){var Ut;zn();const In=null===(Ut=kt.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof In&&In(),"function"==typeof Le?.close&&Le.close()}function Ne(){Ze||(Ze=window.setTimeout(()=>{Hn((0,E.aw)(Xe,"redirect-cancelled-by-user"))},2e3))}function At(){"visible"===document?.visibilityState&&Ne()}oe.addPassiveListener(Be),document.addEventListener("resume",Ne,!1),(0,E.ar)()&&document.addEventListener("visibilitychange",At,!1),pn=()=>{oe.removePassiveListener(Be),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",At,!1),Ze&&window.clearTimeout(Ze)}})}finally{pn()}})).apply(this,arguments)}function Je(Xe){return $e.apply(this,arguments)}function $e(){return($e=(0,m.Z)(function*(Xe){const oe=Ft(Xe),Le=yield crypto.subtle.digest("SHA-256",oe);return Array.from(new Uint8Array(Le)).map(pn=>pn.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ft(Xe){if((0,E.ap)(/[0-9a-zA-Z]+/.test(Xe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Xe);const oe=new ArrayBuffer(Xe.length),Le=new Uint8Array(oe);for(let kt=0;kt<Xe.length;kt++)Le[kt]=Xe.charCodeAt(kt);return Le}class Oe extends E.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(oe=>{this.resolveInialized=oe})}addPassiveListener(oe){this.passiveListeners.add(oe)}removePassiveListener(oe){this.passiveListeners.delete(oe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(oe){return this.resolveInialized(),this.passiveListeners.forEach(Le=>Le(oe)),super.onEvent(oe)}initialized(){var oe=this;return(0,m.Z)(function*(){yield oe.initPromise})()}}function _e(Xe){return fe.apply(this,arguments)}function fe(){return(fe=(0,m.Z)(function*(Xe){const oe=yield Ke()._get(St(Xe));return oe&&(yield Ke()._remove(St(Xe))),oe})).apply(this,arguments)}function Se(){const Xe=[],oe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Le=0;Le<20;Le++){const kt=Math.floor(Math.random()*oe.length);Xe.push(oe.charAt(kt))}return Xe.join("")}function Ke(){return(0,E.az)(E.b)}function St(Xe){return(0,E.aA)("authEvent",Xe.config.apiKey,Xe.name)}function Jt(Xe){if(!Xe?.includes("?"))return{};const[oe,...Le]=Xe.split("?");return(0,M.zd)(Le.join("?"))}function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,E.aw)("no-auth-event")}}function st(){var Xe;return(null===(Xe=self?.location)||void 0===Xe?void 0:Xe.protocol)||null}function ve(Xe=(0,M.z$)()){return!("file:"!==st()&&"ionic:"!==st()&&"capacitor:"!==st()||!Xe.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pn(){try{const Xe=self.localStorage,oe=E.aI();if(Xe)return Xe.setItem(oe,"1"),Xe.removeItem(oe),!function An(Xe=(0,M.z$)()){return function Lt(){return(0,M.w1)()&&11===document?.documentMode}()||function zt(Xe=(0,M.z$)()){return/Edge\/\d+/.test(Xe)}(Xe)}()||(0,M.hl)()}catch{return Vn()&&(0,M.hl)()}return!1}function Vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xn(){return(function xe(){return"http:"===st()||"https:"===st()}()||(0,M.ru)()||ve())&&!function Ct(){return(0,M.b$)()||(0,M.UG)()}()&&Pn()&&!Vn()}function ii(){return ve()&&typeof document<"u"}function Cn(){return(Cn=(0,m.Z)(function*(){return!!ii()&&new Promise(Xe=>{const oe=setTimeout(()=>{Xe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(oe),Xe(!0)})})})).apply(this,arguments)}const ht={LOCAL:"local",NONE:"none",SESSION:"session"},j=E.ax,Z="persistence";function We(Xe){return De.apply(this,arguments)}function De(){return(De=(0,m.Z)(function*(Xe){yield Xe._initializationPromise;const oe=ee(),Le=E.aA(Z,Xe.config.apiKey,Xe.name);oe&&oe.setItem(Le,Xe._getPersistence())})).apply(this,arguments)}function ee(){var Xe;try{return(null===(Xe=function Fn(){return typeof window<"u"?window:null}())||void 0===Xe?void 0:Xe.sessionStorage)||null}catch{return null}}const qe=E.ax;class mt{constructor(){this.browserResolver=E.az(E.k),this.cordovaResolver=E.az(class xt{constructor(){this._redirectPersistence=E.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=E.aB,this._overrideRedirectResult=E.aC}_initialize(oe){var Le=this;return(0,m.Z)(function*(){const kt=oe._key();let pn=Le.eventManagers.get(kt);return pn||(pn=new Oe(oe),Le.eventManagers.set(kt,pn),Le.attachCallbackListeners(oe,pn)),pn})()}_openPopup(oe){(0,E.as)(oe,"operation-not-supported-in-this-environment")}_openRedirect(oe,Le,kt,pn){var zn=this;return(0,m.Z)(function*(){!function Ye(Xe){var oe,Le,kt,pn,zn,Hn,Ze,Be,Ne,At;const Ut=re();(0,E.ax)("function"==typeof(null===(oe=Ut?.universalLinks)||void 0===oe?void 0:oe.subscribe),Xe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,E.ax)(typeof(null===(Le=Ut?.BuildInfo)||void 0===Le?void 0:Le.packageName)<"u",Xe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,E.ax)("function"==typeof(null===(zn=null===(pn=null===(kt=Ut?.cordova)||void 0===kt?void 0:kt.plugins)||void 0===pn?void 0:pn.browsertab)||void 0===zn?void 0:zn.openUrl),Xe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,E.ax)("function"==typeof(null===(Be=null===(Ze=null===(Hn=Ut?.cordova)||void 0===Hn?void 0:Hn.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===Be?void 0:Be.isAvailable),Xe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,E.ax)("function"==typeof(null===(At=null===(Ne=Ut?.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===At?void 0:At.open),Xe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(oe);const Hn=yield zn._initialize(oe);yield Hn.initialized(),Hn.resetRedirect(),(0,E.aD)(),yield zn._originValidation(oe);const Ze=function ae(Xe,oe,Le=null){return{type:oe,eventId:Le,urlResponse:null,sessionId:Se(),postBody:null,tenantId:Xe.tenantId,error:(0,E.aw)(Xe,"no-auth-event")}}(oe,kt,pn);yield function Me(Xe,oe){return Ke()._set(St(Xe),oe)}(oe,Ze);const Be=yield function X(Xe,oe,Le){return se.apply(this,arguments)}(oe,Ze,Le),Ne=yield function ze(Xe){const{cordova:oe}=re();return new Promise(Le=>{oe.plugins.browsertab.isAvailable(kt=>{let pn=null;kt?oe.plugins.browsertab.openUrl(Xe):pn=oe.InAppBrowser.open(Xe,(0,E.av)()?"_blank":"_system","location=yes"),Le(pn)})})}(Be);return function Re(Xe,oe,Le){return dt.apply(this,arguments)}(oe,Hn,Ne)})()}_isIframeWebStorageSupported(oe,Le){throw new Error("Method not implemented.")}_originValidation(oe){const Le=oe._key();return this.originValidationPromises[Le]||(this.originValidationPromises[Le]=function ue(Xe){return Te.apply(this,arguments)}(oe)),this.originValidationPromises[Le]}attachCallbackListeners(oe,Le){const{universalLinks:kt,handleOpenURL:pn,BuildInfo:zn}=re(),Hn=setTimeout((0,m.Z)(function*(){yield _e(oe),Le.onEvent(ne())}),500),Ze=function(){var At=(0,m.Z)(function*(Ut){clearTimeout(Hn);const In=yield _e(oe);let li=null;In&&Ut?.url&&(li=function Ge(Xe,oe){var Le,kt;const pn=function Qt(Xe){const oe=Jt(Xe),Le=oe.link?decodeURIComponent(oe.link):void 0,kt=Jt(Le).link,pn=oe.deep_link_id?decodeURIComponent(oe.deep_link_id):void 0;return Jt(pn).link||pn||kt||Le||Xe}(oe);if(pn.includes("/__/auth/callback")){const zn=Jt(pn),Hn=zn.firebaseError?function yt(Xe){try{return JSON.parse(Xe)}catch{return null}}(decodeURIComponent(zn.firebaseError)):null,Ze=null===(kt=null===(Le=Hn?.code)||void 0===Le?void 0:Le.split("auth/"))||void 0===kt?void 0:kt[1],Be=Ze?(0,E.aw)(Ze):null;return Be?{type:Xe.type,eventId:Xe.eventId,tenantId:Xe.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:Xe.type,eventId:Xe.eventId,tenantId:Xe.tenantId,sessionId:Xe.sessionId,urlResponse:pn,postBody:null}}return null}(In,Ut.url)),Le.onEvent(li||ne())});return function(In){return At.apply(this,arguments)}}();typeof kt<"u"&&"function"==typeof kt.subscribe&&kt.subscribe(null,Ze);const Be=pn,Ne=`${zn.packageName.toLowerCase()}://`;re().handleOpenURL=function(){var At=(0,m.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(Ne)&&Ze({url:Ut}),"function"==typeof Be)try{Be(Ut)}catch(In){console.error(In)}});return function(Ut){return At.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=E.a,this._completeRedirectFn=E.aB,this._overrideRedirectResult=E.aC}_initialize(oe){var Le=this;return(0,m.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._initialize(oe)})()}_openPopup(oe,Le,kt,pn){var zn=this;return(0,m.Z)(function*(){return yield zn.selectUnderlyingResolver(),zn.assertedUnderlyingResolver._openPopup(oe,Le,kt,pn)})()}_openRedirect(oe,Le,kt,pn){var zn=this;return(0,m.Z)(function*(){return yield zn.selectUnderlyingResolver(),zn.assertedUnderlyingResolver._openRedirect(oe,Le,kt,pn)})()}_isIframeWebStorageSupported(oe,Le){this.assertedUnderlyingResolver._isIframeWebStorageSupported(oe,Le)}_originValidation(oe){return this.assertedUnderlyingResolver._originValidation(oe)}get _shouldInitProactively(){return ii()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var oe=this;return(0,m.Z)(function*(){if(oe.underlyingResolver)return;const Le=yield function ci(){return Cn.apply(this,arguments)}();oe.underlyingResolver=Le?oe.cordovaResolver:oe.browserResolver})()}}function Pt(Xe){return Xe.unwrap()}function qn(Xe){return Wn(Xe)}function Wn(Xe){const{_tokenResponse:oe}=Xe instanceof M.ZR?Xe.customData:Xe;if(!oe)return null;if(!(Xe instanceof M.ZR)&&"temporaryProof"in oe&&"phoneNumber"in oe)return E.P.credentialFromResult(Xe);const Le=oe.providerId;if(!Le||Le===E.o.PASSWORD)return null;let kt;switch(Le){case E.o.GOOGLE:kt=E.Q;break;case E.o.FACEBOOK:kt=E.N;break;case E.o.GITHUB:kt=E.T;break;case E.o.TWITTER:kt=E.W;break;default:const{oauthIdToken:pn,oauthAccessToken:zn,oauthTokenSecret:Hn,pendingToken:Ze,nonce:Be}=oe;return zn||Hn||pn||Ze?Ze?Le.startsWith("saml.")?E.aL._create(Le,Ze):E.J._fromParams({providerId:Le,signInMethod:Le,pendingToken:Ze,idToken:pn,accessToken:zn}):new E.U(Le).credential({idToken:pn,accessToken:zn,rawNonce:Be}):null}return Xe instanceof M.ZR?kt.credentialFromError(Xe):kt.credentialFromResult(Xe)}function Tn(Xe,oe){return oe.catch(Le=>{throw Le instanceof M.ZR&&function un(Xe,oe){var Le,kt;const pn=null===(Le=oe.customData)||void 0===Le?void 0:Le._tokenResponse;if("auth/multi-factor-auth-required"===(null===(kt=oe)||void 0===kt?void 0:kt.code))oe.resolver=new _t(Xe,E.an(Xe,oe));else if(pn){const zn=Wn(oe),Hn=oe;zn&&(Hn.credential=zn,Hn.tenantId=pn.tenantId||void 0,Hn.email=pn.email||void 0,Hn.phoneNumber=pn.phoneNumber||void 0)}}(Xe,Le),Le}).then(Le=>{const pn=Le.user;return{operationType:Le.operationType,credential:qn(Le),additionalUserInfo:E.al(Le),user:ot.getOrCreate(pn)}})}function ui(Xe,oe){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,m.Z)(function*(Xe,oe){const Le=yield oe;return{verificationId:Le.verificationId,confirm:kt=>Tn(Xe,Le.confirm(kt))}})).apply(this,arguments)}class _t{constructor(oe,Le){this.resolver=Le,this.auth=function yn(Xe){return Xe.wrapped()}(oe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(oe){return Tn(Pt(this.auth),this.resolver.resolveSignIn(oe))}}class ot{constructor(oe){this._delegate=oe,this.multiFactor=E.ao(oe)}static getOrCreate(oe){return ot.USER_MAP.has(oe)||ot.USER_MAP.set(oe,new ot(oe)),ot.USER_MAP.get(oe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(oe){return this._delegate.getIdTokenResult(oe)}getIdToken(oe){return this._delegate.getIdToken(oe)}linkAndRetrieveDataWithCredential(oe){return this.linkWithCredential(oe)}linkWithCredential(oe){var Le=this;return(0,m.Z)(function*(){return Tn(Le.auth,E.Z(Le._delegate,oe))})()}linkWithPhoneNumber(oe,Le){var kt=this;return(0,m.Z)(function*(){return ui(kt.auth,E.l(kt._delegate,oe,Le))})()}linkWithPopup(oe){var Le=this;return(0,m.Z)(function*(){return Tn(Le.auth,E.d(Le._delegate,oe,mt))})()}linkWithRedirect(oe){var Le=this;return(0,m.Z)(function*(){return yield We(E.aE(Le.auth)),E.g(Le._delegate,oe,mt)})()}reauthenticateAndRetrieveDataWithCredential(oe){return this.reauthenticateWithCredential(oe)}reauthenticateWithCredential(oe){var Le=this;return(0,m.Z)(function*(){return Tn(Le.auth,E._(Le._delegate,oe))})()}reauthenticateWithPhoneNumber(oe,Le){return ui(this.auth,E.r(this._delegate,oe,Le))}reauthenticateWithPopup(oe){return Tn(this.auth,E.e(this._delegate,oe,mt))}reauthenticateWithRedirect(oe){var Le=this;return(0,m.Z)(function*(){return yield We(E.aE(Le.auth)),E.h(Le._delegate,oe,mt)})()}sendEmailVerification(oe){return E.ab(this._delegate,oe)}unlink(oe){var Le=this;return(0,m.Z)(function*(){return yield E.ak(Le._delegate,oe),Le})()}updateEmail(oe){return E.ag(this._delegate,oe)}updatePassword(oe){return E.ah(this._delegate,oe)}updatePhoneNumber(oe){return E.u(this._delegate,oe)}updateProfile(oe){return E.af(this._delegate,oe)}verifyBeforeUpdateEmail(oe,Le){return E.ac(this._delegate,oe,Le)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ot.USER_MAP=new WeakMap;const Tt=E.ax;let Ue=(()=>{class Xe{constructor(Le,kt){if(this.app=Le,kt.isInitialized())return this._delegate=kt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:pn}=Le.options;Tt(pn,"invalid-api-key",{appName:Le.name}),Tt(pn,"invalid-api-key",{appName:Le.name});const zn=typeof window<"u"?mt:void 0;this._delegate=kt.initialize({options:{persistence:Ae(pn,Le.name),popupRedirectResolver:zn}}),this._delegate._updateErrorMap(E.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ot.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Le){this._delegate.languageCode=Le}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Le){this._delegate.tenantId=Le}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Le,kt){E.G(this._delegate,Le,kt)}applyActionCode(Le){return E.a2(this._delegate,Le)}checkActionCode(Le){return E.a3(this._delegate,Le)}confirmPasswordReset(Le,kt){return E.a1(this._delegate,Le,kt)}createUserWithEmailAndPassword(Le,kt){var pn=this;return(0,m.Z)(function*(){return Tn(pn._delegate,E.a5(pn._delegate,Le,kt))})()}fetchProvidersForEmail(Le){return this.fetchSignInMethodsForEmail(Le)}fetchSignInMethodsForEmail(Le){return E.aa(this._delegate,Le)}isSignInWithEmailLink(Le){return E.a8(this._delegate,Le)}getRedirectResult(){var Le=this;return(0,m.Z)(function*(){Tt(xn(),Le._delegate,"operation-not-supported-in-this-environment");const kt=yield E.j(Le._delegate,mt);return kt?Tn(Le._delegate,Promise.resolve(kt)):{credential:null,user:null}})()}addFrameworkForLogging(Le){!function at(Xe,oe){(0,E.aE)(Xe)._logFramework(oe)}(this._delegate,Le)}onAuthStateChanged(Le,kt,pn){const{next:zn,error:Hn,complete:Ze}=je(Le,kt,pn);return this._delegate.onAuthStateChanged(zn,Hn,Ze)}onIdTokenChanged(Le,kt,pn){const{next:zn,error:Hn,complete:Ze}=je(Le,kt,pn);return this._delegate.onIdTokenChanged(zn,Hn,Ze)}sendSignInLinkToEmail(Le,kt){return E.a7(this._delegate,Le,kt)}sendPasswordResetEmail(Le,kt){return E.a0(this._delegate,Le,kt||void 0)}setPersistence(Le){var kt=this;return(0,m.Z)(function*(){let pn;switch(function Ie(Xe,oe){j(Object.values(ht).includes(oe),Xe,"invalid-persistence-type"),(0,M.b$)()?j(oe!==ht.SESSION,Xe,"unsupported-persistence-type"):(0,M.UG)()?j(oe===ht.NONE,Xe,"unsupported-persistence-type"):Vn()?j(oe===ht.NONE||oe===ht.LOCAL&&(0,M.hl)(),Xe,"unsupported-persistence-type"):j(oe===ht.NONE||Pn(),Xe,"unsupported-persistence-type")}(kt._delegate,Le),Le){case ht.SESSION:pn=E.a;break;case ht.LOCAL:pn=(yield E.az(E.i)._isAvailable())?E.i:E.b;break;case ht.NONE:pn=E.L;break;default:return E.as("argument-error",{appName:kt._delegate.name})}return kt._delegate.setPersistence(pn)})()}signInAndRetrieveDataWithCredential(Le){return this.signInWithCredential(Le)}signInAnonymously(){return Tn(this._delegate,E.X(this._delegate))}signInWithCredential(Le){return Tn(this._delegate,E.Y(this._delegate,Le))}signInWithCustomToken(Le){return Tn(this._delegate,E.$(this._delegate,Le))}signInWithEmailAndPassword(Le,kt){return Tn(this._delegate,E.a6(this._delegate,Le,kt))}signInWithEmailLink(Le,kt){return Tn(this._delegate,E.a9(this._delegate,Le,kt))}signInWithPhoneNumber(Le,kt){return ui(this._delegate,E.s(this._delegate,Le,kt))}signInWithPopup(Le){var kt=this;return(0,m.Z)(function*(){return Tt(xn(),kt._delegate,"operation-not-supported-in-this-environment"),Tn(kt._delegate,E.c(kt._delegate,Le,mt))})()}signInWithRedirect(Le){var kt=this;return(0,m.Z)(function*(){return Tt(xn(),kt._delegate,"operation-not-supported-in-this-environment"),yield We(kt._delegate),E.f(kt._delegate,Le,mt)})()}updateCurrentUser(Le){return this._delegate.updateCurrentUser(Le)}verifyPasswordResetCode(Le){return E.a4(this._delegate,Le)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Xe.Persistence=ht,Xe})();function je(Xe,oe,Le){let kt=Xe;"function"!=typeof Xe&&({next:kt,error:oe,complete:Le}=Xe);const pn=kt;return{next:Hn=>pn(Hn&&ot.getOrCreate(Hn)),error:oe,complete:Le}}function Ae(Xe,oe){const Le=function z(Xe,oe){const Le=ee();if(!Le)return[];const kt=E.aA(Z,Xe,oe);switch(Le.getItem(kt)){case ht.NONE:return[E.L];case ht.LOCAL:return[E.i,E.a];case ht.SESSION:return[E.a];default:return[]}}(Xe,oe);if(typeof self<"u"&&!Le.includes(E.i)&&Le.push(E.i),typeof window<"u")for(const kt of[E.b,E.a])Le.includes(kt)||Le.push(kt);return Le.includes(E.L)||Le.push(E.L),Le}class pt{constructor(){this.providerId="phone",this._delegate=new E.P(Pt(b.Z.auth()))}static credential(oe,Le){return E.P.credential(oe,Le)}verifyPhoneNumber(oe,Le){return this._delegate.verifyPhoneNumber(oe,Le)}unwrap(){return this._delegate}}pt.PHONE_SIGN_IN_METHOD=E.P.PHONE_SIGN_IN_METHOD,pt.PROVIDER_ID=E.P.PROVIDER_ID;const Rt=E.ax;class ke{constructor(oe,Le,kt=b.Z.app()){var pn;Rt(null===(pn=kt.options)||void 0===pn?void 0:pn.apiKey,"invalid-api-key",{appName:kt.name}),this._delegate=new E.R(oe,Le,kt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bt(Xe){Xe.INTERNAL.registerComponent(new Fe.wA("auth-compat",oe=>{const Le=oe.getProvider("app-compat").getImmediate(),kt=oe.getProvider("auth");return new Ue(Le,kt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:E.A.EMAIL_SIGNIN,PASSWORD_RESET:E.A.PASSWORD_RESET,RECOVER_EMAIL:E.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:E.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:E.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:E.A.VERIFY_EMAIL}},EmailAuthProvider:E.M,FacebookAuthProvider:E.N,GithubAuthProvider:E.T,GoogleAuthProvider:E.Q,OAuthProvider:E.U,SAMLAuthProvider:E.V,PhoneAuthProvider:pt,PhoneMultiFactorGenerator:E.m,RecaptchaVerifier:ke,TwitterAuthProvider:E.W,Auth:Ue,AuthCredential:E.H,Error:M.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Xe.registerVersion("@firebase/auth-compat","0.2.24")}(b.Z)},1135:(hn,ft,D)=>{D.d(ft,{X:()=>b});var m=D(7579);class b extends m.x{constructor(M){super(),this._value=M}get value(){return this.getValue()}_subscribe(M){const de=super._subscribe(M);return!de.closed&&M.next(this._value),de}getValue(){const{hasError:M,thrownError:de,_value:be}=this;if(M)throw de;return this._throwIfClosed(),be}next(M){super.next(this._value=M)}}},9751:(hn,ft,D)=>{D.d(ft,{y:()=>re});var m=D(930),b=D(727),E=D(8822),M=D(9635),de=D(2416),be=D(576),Fe=D(2806);let re=(()=>{class ue{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const Re=new ue;return Re.source=this,Re.operator=ze,Re}subscribe(ze,Re,dt){const Ye=function se(ue){return ue&&ue instanceof m.Lv||function X(ue){return ue&&(0,be.m)(ue.next)&&(0,be.m)(ue.error)&&(0,be.m)(ue.complete)}(ue)&&(0,b.Nn)(ue)}(ze)?ze:new m.Hp(ze,Re,dt);return(0,Fe.x)(()=>{const{operator:Je,source:$e}=this;Ye.add(Je?Je.call(Ye,$e):$e?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(ze){try{return this._subscribe(ze)}catch(Re){ze.error(Re)}}forEach(ze,Re){return new(Re=pe(Re))((dt,Ye)=>{const Je=new m.Hp({next:$e=>{try{ze($e)}catch(Ft){Ye(Ft),Je.unsubscribe()}},error:Ye,complete:dt});this.subscribe(Je)})}_subscribe(ze){var Re;return null===(Re=this.source)||void 0===Re?void 0:Re.subscribe(ze)}[E.L](){return this}pipe(...ze){return(0,M.U)(ze)(this)}toPromise(ze){return new(ze=pe(ze))((Re,dt)=>{let Ye;this.subscribe(Je=>Ye=Je,Je=>dt(Je),()=>Re(Ye))})}}return ue.create=Te=>new ue(Te),ue})();function pe(ue){var Te;return null!==(Te=ue??de.v.Promise)&&void 0!==Te?Te:Promise}},7579:(hn,ft,D)=>{D.d(ft,{x:()=>Fe});var m=D(9751),b=D(727);const M=(0,D(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=D(8737),be=D(2806);let Fe=(()=>{class pe extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const ue=new re(this,this);return ue.operator=se,ue}_throwIfClosed(){if(this.closed)throw new M}next(se){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(se)}})}error(se){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:ue}=this;for(;ue.length;)ue.shift().error(se)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:ue,isStopped:Te,observers:ze}=this;return ue||Te?b.Lc:(this.currentObservers=null,ze.push(se),new b.w0(()=>{this.currentObservers=null,(0,de.P)(ze,se)}))}_checkFinalizedStatuses(se){const{hasError:ue,thrownError:Te,isStopped:ze}=this;ue?se.error(Te):ze&&se.complete()}asObservable(){const se=new m.y;return se.source=this,se}}return pe.create=(X,se)=>new re(X,se),pe})();class re extends Fe{constructor(X,se){super(),this.destination=X,this.source=se}next(X){var se,ue;null===(ue=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===ue||ue.call(se,X)}error(X){var se,ue;null===(ue=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===ue||ue.call(se,X)}complete(){var X,se;null===(se=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===se||se.call(X)}_subscribe(X){var se,ue;return null!==(ue=null===(se=this.source)||void 0===se?void 0:se.subscribe(X))&&void 0!==ue?ue:b.Lc}}},930:(hn,ft,D)=>{D.d(ft,{Hp:()=>dt,Lv:()=>ue});var m=D(576),b=D(727),E=D(2416),M=D(7849),de=D(5032);const be=pe("C",void 0,void 0);function pe(rt,Oe,ae){return{kind:rt,value:Oe,error:ae}}var X=D(3410),se=D(2806);class ue extends b.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,b.Nn)(Oe)&&Oe.add(this)):this.destination=Ft}static create(Oe,ae,Me){return new dt(Oe,ae,Me)}next(Oe){this.isStopped?$e(function re(rt){return pe("N",rt,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?$e(function Fe(rt){return pe("E",void 0,rt)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?$e(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function ze(rt,Oe){return Te.call(rt,Oe)}class Re{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:ae}=this;if(ae.next)try{ae.next(Oe)}catch(Me){Ye(Me)}}error(Oe){const{partialObserver:ae}=this;if(ae.error)try{ae.error(Oe)}catch(Me){Ye(Me)}else Ye(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(ae){Ye(ae)}}}class dt extends ue{constructor(Oe,ae,Me){let _e;if(super(),(0,m.m)(Oe)||!Oe)_e={next:Oe??void 0,error:ae??void 0,complete:Me??void 0};else{let fe;this&&E.v.useDeprecatedNextContext?(fe=Object.create(Oe),fe.unsubscribe=()=>this.unsubscribe(),_e={next:Oe.next&&ze(Oe.next,fe),error:Oe.error&&ze(Oe.error,fe),complete:Oe.complete&&ze(Oe.complete,fe)}):_e=Oe}this.destination=new Re(_e)}}function Ye(rt){E.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(rt):(0,M.h)(rt)}function $e(rt,Oe){const{onStoppedNotification:ae}=E.v;ae&&X.z.setTimeout(()=>ae(rt,Oe))}const Ft={closed:!0,next:de.Z,error:function Je(rt){throw rt},complete:de.Z}},727:(hn,ft,D)=>{D.d(ft,{Lc:()=>be,w0:()=>de,Nn:()=>Fe});var m=D(576);const E=(0,D(3888).d)(pe=>function(se){pe(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((ue,Te)=>`${Te+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var M=D(8737);class de{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const ze of se)ze.remove(this);else se.remove(this);const{initialTeardown:ue}=this;if((0,m.m)(ue))try{ue()}catch(ze){X=ze instanceof E?ze.errors:[ze]}const{_finalizers:Te}=this;if(Te){this._finalizers=null;for(const ze of Te)try{re(ze)}catch(Re){X=X??[],Re instanceof E?X=[...X,...Re.errors]:X.push(Re)}}if(X)throw new E(X)}}add(X){var se;if(X&&X!==this)if(this.closed)re(X);else{if(X instanceof de){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(X)}}_hasParent(X){const{_parentage:se}=this;return se===X||Array.isArray(se)&&se.includes(X)}_addParent(X){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(X),se):se?[se,X]:X}_removeParent(X){const{_parentage:se}=this;se===X?this._parentage=null:Array.isArray(se)&&(0,M.P)(se,X)}remove(X){const{_finalizers:se}=this;se&&(0,M.P)(se,X),X instanceof de&&X._removeParent(this)}}de.EMPTY=(()=>{const pe=new de;return pe.closed=!0,pe})();const be=de.EMPTY;function Fe(pe){return pe instanceof de||pe&&"closed"in pe&&(0,m.m)(pe.remove)&&(0,m.m)(pe.add)&&(0,m.m)(pe.unsubscribe)}function re(pe){(0,m.m)(pe)?pe():pe.unsubscribe()}},2416:(hn,ft,D)=>{D.d(ft,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(hn,ft,D)=>{D.d(ft,{a:()=>X});var m=D(9751),b=D(4742),E=D(8996),M=D(4671),de=D(3268),be=D(3269),Fe=D(1810),re=D(5403),pe=D(9672);function X(...Te){const ze=(0,be.yG)(Te),Re=(0,be.jO)(Te),{args:dt,keys:Ye}=(0,b.D)(Te);if(0===dt.length)return(0,E.D)([],ze);const Je=new m.y(function se(Te,ze,Re=M.y){return dt=>{ue(ze,()=>{const{length:Ye}=Te,Je=new Array(Ye);let $e=Ye,Ft=Ye;for(let rt=0;rt<Ye;rt++)ue(ze,()=>{const Oe=(0,E.D)(Te[rt],ze);let ae=!1;Oe.subscribe((0,re.x)(dt,Me=>{Je[rt]=Me,ae||(ae=!0,Ft--),Ft||dt.next(Re(Je.slice()))},()=>{--$e||dt.complete()}))},dt)},dt)}}(dt,ze,Ye?$e=>(0,Fe.n)(Ye,$e):M.y));return Re?Je.pipe((0,de.Z)(Re)):Je}function ue(Te,ze,Re){Te?(0,pe.f)(Re,Te,ze):ze()}},7272:(hn,ft,D)=>{D.d(ft,{z:()=>de});var m=D(8189),E=D(3269),M=D(8996);function de(...be){return function b(){return(0,m.J)(1)}()((0,M.D)(be,(0,E.yG)(be)))}},9770:(hn,ft,D)=>{D.d(ft,{P:()=>E});var m=D(9751),b=D(8421);function E(M){return new m.y(de=>{(0,b.Xf)(M()).subscribe(de)})}},515:(hn,ft,D)=>{D.d(ft,{E:()=>b});const b=new(D(9751).y)(de=>de.complete())},4128:(hn,ft,D)=>{D.d(ft,{D:()=>re});var m=D(9751),b=D(4742),E=D(8421),M=D(3269),de=D(5403),be=D(3268),Fe=D(1810);function re(...pe){const X=(0,M.jO)(pe),{args:se,keys:ue}=(0,b.D)(pe),Te=new m.y(ze=>{const{length:Re}=se;if(!Re)return void ze.complete();const dt=new Array(Re);let Ye=Re,Je=Re;for(let $e=0;$e<Re;$e++){let Ft=!1;(0,E.Xf)(se[$e]).subscribe((0,de.x)(ze,rt=>{Ft||(Ft=!0,Je--),dt[$e]=rt},()=>Ye--,void 0,()=>{(!Ye||!Ft)&&(Je||ze.next(ue?(0,Fe.n)(ue,dt):dt),ze.complete())}))}});return X?Te.pipe((0,be.Z)(X)):Te}},8996:(hn,ft,D)=>{D.d(ft,{D:()=>Oe});var m=D(8421),b=D(5363),E=D(9468),be=D(9751),re=D(2202),pe=D(576),X=D(9672);function ue(ae,Me){if(!ae)throw new Error("Iterable cannot be null");return new be.y(_e=>{(0,X.f)(_e,Me,()=>{const fe=ae[Symbol.asyncIterator]();(0,X.f)(_e,Me,()=>{fe.next().then(Ge=>{Ge.done?_e.complete():_e.next(Ge.value)})},0,!0)})})}var Te=D(3670),ze=D(8239),Re=D(1144),dt=D(6495),Ye=D(2206),Je=D(4532),$e=D(3260);function Oe(ae,Me){return Me?function rt(ae,Me){if(null!=ae){if((0,Te.c)(ae))return function M(ae,Me){return(0,m.Xf)(ae).pipe((0,E.R)(Me),(0,b.Q)(Me))}(ae,Me);if((0,Re.z)(ae))return function Fe(ae,Me){return new be.y(_e=>{let fe=0;return Me.schedule(function(){fe===ae.length?_e.complete():(_e.next(ae[fe++]),_e.closed||this.schedule())})})}(ae,Me);if((0,ze.t)(ae))return function de(ae,Me){return(0,m.Xf)(ae).pipe((0,E.R)(Me),(0,b.Q)(Me))}(ae,Me);if((0,Ye.D)(ae))return ue(ae,Me);if((0,dt.T)(ae))return function se(ae,Me){return new be.y(_e=>{let fe;return(0,X.f)(_e,Me,()=>{fe=ae[re.h](),(0,X.f)(_e,Me,()=>{let Ge,Se;try{({value:Ge,done:Se}=fe.next())}catch(Ke){return void _e.error(Ke)}Se?_e.complete():_e.next(Ge)},0,!0)}),()=>(0,pe.m)(fe?.return)&&fe.return()})}(ae,Me);if((0,$e.L)(ae))return function Ft(ae,Me){return ue((0,$e.Q)(ae),Me)}(ae,Me)}throw(0,Je.z)(ae)}(ae,Me):(0,m.Xf)(ae)}},4968:(hn,ft,D)=>{D.d(ft,{R:()=>X});var m=D(8421),b=D(9751),E=D(5577),M=D(1144),de=D(576),be=D(3268);const Fe=["addListener","removeListener"],re=["addEventListener","removeEventListener"],pe=["on","off"];function X(Re,dt,Ye,Je){if((0,de.m)(Ye)&&(Je=Ye,Ye=void 0),Je)return X(Re,dt,Ye).pipe((0,be.Z)(Je));const[$e,Ft]=function ze(Re){return(0,de.m)(Re.addEventListener)&&(0,de.m)(Re.removeEventListener)}(Re)?re.map(rt=>Oe=>Re[rt](dt,Oe,Ye)):function ue(Re){return(0,de.m)(Re.addListener)&&(0,de.m)(Re.removeListener)}(Re)?Fe.map(se(Re,dt)):function Te(Re){return(0,de.m)(Re.on)&&(0,de.m)(Re.off)}(Re)?pe.map(se(Re,dt)):[];if(!$e&&(0,M.z)(Re))return(0,E.z)(rt=>X(rt,dt,Ye))((0,m.Xf)(Re));if(!$e)throw new TypeError("Invalid event target");return new b.y(rt=>{const Oe=(...ae)=>rt.next(1<ae.length?ae:ae[0]);return $e(Oe),()=>Ft(Oe)})}function se(Re,dt){return Ye=>Je=>Re[Ye](dt,Je)}},8421:(hn,ft,D)=>{D.d(ft,{Xf:()=>Te});var m=D(655),b=D(1144),E=D(8239),M=D(9751),de=D(3670),be=D(2206),Fe=D(4532),re=D(6495),pe=D(3260),X=D(576),se=D(7849),ue=D(8822);function Te(rt){if(rt instanceof M.y)return rt;if(null!=rt){if((0,de.c)(rt))return function ze(rt){return new M.y(Oe=>{const ae=rt[ue.L]();if((0,X.m)(ae.subscribe))return ae.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rt);if((0,b.z)(rt))return function Re(rt){return new M.y(Oe=>{for(let ae=0;ae<rt.length&&!Oe.closed;ae++)Oe.next(rt[ae]);Oe.complete()})}(rt);if((0,E.t)(rt))return function dt(rt){return new M.y(Oe=>{rt.then(ae=>{Oe.closed||(Oe.next(ae),Oe.complete())},ae=>Oe.error(ae)).then(null,se.h)})}(rt);if((0,be.D)(rt))return Je(rt);if((0,re.T)(rt))return function Ye(rt){return new M.y(Oe=>{for(const ae of rt)if(Oe.next(ae),Oe.closed)return;Oe.complete()})}(rt);if((0,pe.L)(rt))return function $e(rt){return Je((0,pe.Q)(rt))}(rt)}throw(0,Fe.z)(rt)}function Je(rt){return new M.y(Oe=>{(function Ft(rt,Oe){var ae,Me,_e,fe;return(0,m.mG)(this,void 0,void 0,function*(){try{for(ae=(0,m.KL)(rt);!(Me=yield ae.next()).done;)if(Oe.next(Me.value),Oe.closed)return}catch(Ge){_e={error:Ge}}finally{try{Me&&!Me.done&&(fe=ae.return)&&(yield fe.call(ae))}finally{if(_e)throw _e.error}}Oe.complete()})})(rt,Oe).catch(ae=>Oe.error(ae))})}},6451:(hn,ft,D)=>{D.d(ft,{T:()=>be});var m=D(8189),b=D(8421),E=D(515),M=D(3269),de=D(8996);function be(...Fe){const re=(0,M.yG)(Fe),pe=(0,M._6)(Fe,1/0),X=Fe;return X.length?1===X.length?(0,b.Xf)(X[0]):(0,m.J)(pe)((0,de.D)(X,re)):E.E}},9646:(hn,ft,D)=>{D.d(ft,{of:()=>E});var m=D(3269),b=D(8996);function E(...M){const de=(0,m.yG)(M);return(0,b.D)(M,de)}},2843:(hn,ft,D)=>{D.d(ft,{_:()=>E});var m=D(9751),b=D(576);function E(M,de){const be=(0,b.m)(M)?M:()=>M,Fe=re=>re.error(be());return new m.y(de?re=>de.schedule(Fe,0,re):Fe)}},5963:(hn,ft,D)=>{D.d(ft,{H:()=>de});var m=D(9751),b=D(4986),E=D(3532);function de(be=0,Fe,re=b.P){let pe=-1;return null!=Fe&&((0,E.K)(Fe)?re=Fe:pe=Fe),new m.y(X=>{let se=function M(be){return be instanceof Date&&!isNaN(be)}(be)?+be-re.now():be;se<0&&(se=0);let ue=0;return re.schedule(function(){X.closed||(X.next(ue++),0<=pe?this.schedule(void 0,pe):X.complete())},se)})}},5403:(hn,ft,D)=>{D.d(ft,{Q:()=>E,x:()=>b});var m=D(930);function b(M,de,be,Fe,re){return new E(M,de,be,Fe,re)}class E extends m.Lv{constructor(de,be,Fe,re,pe,X){super(de),this.onFinalize=pe,this.shouldUnsubscribe=X,this._next=be?function(se){try{be(se)}catch(ue){de.error(ue)}}:super._next,this._error=re?function(se){try{re(se)}catch(ue){de.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=Fe?function(){try{Fe()}catch(se){de.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},262:(hn,ft,D)=>{D.d(ft,{K:()=>M});var m=D(8421),b=D(5403),E=D(4482);function M(de){return(0,E.e)((be,Fe)=>{let X,re=null,pe=!1;re=be.subscribe((0,b.x)(Fe,void 0,void 0,se=>{X=(0,m.Xf)(de(se,M(de)(be))),re?(re.unsubscribe(),re=null,X.subscribe(Fe)):pe=!0})),pe&&(re.unsubscribe(),re=null,X.subscribe(Fe))})}},4351:(hn,ft,D)=>{D.d(ft,{b:()=>E});var m=D(5577),b=D(576);function E(M,de){return(0,b.m)(de)?(0,m.z)(M,de,1):(0,m.z)(M,1)}},8372:(hn,ft,D)=>{D.d(ft,{b:()=>M});var m=D(4986),b=D(4482),E=D(5403);function M(de,be=m.z){return(0,b.e)((Fe,re)=>{let pe=null,X=null,se=null;const ue=()=>{if(pe){pe.unsubscribe(),pe=null;const ze=X;X=null,re.next(ze)}};function Te(){const ze=se+de,Re=be.now();if(Re<ze)return pe=this.schedule(void 0,ze-Re),void re.add(pe);ue()}Fe.subscribe((0,E.x)(re,ze=>{X=ze,se=be.now(),pe||(pe=be.schedule(Te,de),re.add(pe))},()=>{ue(),re.complete()},void 0,()=>{X=pe=null}))})}},6590:(hn,ft,D)=>{D.d(ft,{d:()=>E});var m=D(4482),b=D(5403);function E(M){return(0,m.e)((de,be)=>{let Fe=!1;de.subscribe((0,b.x)(be,re=>{Fe=!0,be.next(re)},()=>{Fe||be.next(M),be.complete()}))})}},1884:(hn,ft,D)=>{D.d(ft,{x:()=>M});var m=D(4671),b=D(4482),E=D(5403);function M(be,Fe=m.y){return be=be??de,(0,b.e)((re,pe)=>{let X,se=!0;re.subscribe((0,E.x)(pe,ue=>{const Te=Fe(ue);(se||!be(X,Te))&&(se=!1,X=Te,pe.next(ue))}))})}function de(be,Fe){return be===Fe}},9300:(hn,ft,D)=>{D.d(ft,{h:()=>E});var m=D(4482),b=D(5403);function E(M,de){return(0,m.e)((be,Fe)=>{let re=0;be.subscribe((0,b.x)(Fe,pe=>M.call(de,pe,re++)&&Fe.next(pe)))})}},8746:(hn,ft,D)=>{D.d(ft,{x:()=>b});var m=D(4482);function b(E){return(0,m.e)((M,de)=>{try{M.subscribe(de)}finally{de.add(E)}})}},3803:(hn,ft,D)=>{D.d(ft,{P:()=>Fe});var m=D(6805),b=D(9300),E=D(5698),M=D(6590),de=D(8068),be=D(4671);function Fe(re,pe){const X=arguments.length>=2;return se=>se.pipe(re?(0,b.h)((ue,Te)=>re(ue,Te,se)):be.y,(0,E.q)(1),X?(0,M.d)(pe):(0,de.T)(()=>new m.K))}},8502:(hn,ft,D)=>{D.d(ft,{l:()=>M});var m=D(4482),b=D(5403),E=D(5032);function M(){return(0,m.e)((de,be)=>{de.subscribe((0,b.x)(be,E.Z))})}},4004:(hn,ft,D)=>{D.d(ft,{U:()=>E});var m=D(4482),b=D(5403);function E(M,de){return(0,m.e)((be,Fe)=>{let re=0;be.subscribe((0,b.x)(Fe,pe=>{Fe.next(M.call(de,pe,re++))}))})}},9718:(hn,ft,D)=>{D.d(ft,{h:()=>b});var m=D(4004);function b(E){return(0,m.U)(()=>E)}},8189:(hn,ft,D)=>{D.d(ft,{J:()=>E});var m=D(5577),b=D(4671);function E(M=1/0){return(0,m.z)(b.y,M)}},5577:(hn,ft,D)=>{D.d(ft,{z:()=>re});var m=D(4004),b=D(8421),E=D(4482),M=D(9672),de=D(5403),Fe=D(576);function re(pe,X,se=1/0){return(0,Fe.m)(X)?re((ue,Te)=>(0,m.U)((ze,Re)=>X(ue,ze,Te,Re))((0,b.Xf)(pe(ue,Te))),se):("number"==typeof X&&(se=X),(0,E.e)((ue,Te)=>function be(pe,X,se,ue,Te,ze,Re,dt){const Ye=[];let Je=0,$e=0,Ft=!1;const rt=()=>{Ft&&!Ye.length&&!Je&&X.complete()},Oe=Me=>Je<ue?ae(Me):Ye.push(Me),ae=Me=>{ze&&X.next(Me),Je++;let _e=!1;(0,b.Xf)(se(Me,$e++)).subscribe((0,de.x)(X,fe=>{Te?.(fe),ze?Oe(fe):X.next(fe)},()=>{_e=!0},void 0,()=>{if(_e)try{for(Je--;Ye.length&&Je<ue;){const fe=Ye.shift();Re?(0,M.f)(X,Re,()=>ae(fe)):ae(fe)}rt()}catch(fe){X.error(fe)}}))};return pe.subscribe((0,de.x)(X,Oe,()=>{Ft=!0,rt()})),()=>{dt?.()}}(ue,Te,pe,se)))}},5363:(hn,ft,D)=>{D.d(ft,{Q:()=>M});var m=D(9672),b=D(4482),E=D(5403);function M(de,be=0){return(0,b.e)((Fe,re)=>{Fe.subscribe((0,E.x)(re,pe=>(0,m.f)(re,de,()=>re.next(pe),be),()=>(0,m.f)(re,de,()=>re.complete(),be),pe=>(0,m.f)(re,de,()=>re.error(pe),be)))})}},5026:(hn,ft,D)=>{D.d(ft,{R:()=>M});var m=D(4482),b=D(5403);function E(de,be,Fe,re,pe){return(X,se)=>{let ue=Fe,Te=be,ze=0;X.subscribe((0,b.x)(se,Re=>{const dt=ze++;Te=ue?de(Te,Re,dt):(ue=!0,Re),re&&se.next(Te)},pe&&(()=>{ue&&se.next(Te),se.complete()})))}}function M(de,be){return(0,m.e)(E(de,be,arguments.length>=2,!0))}},3099:(hn,ft,D)=>{D.d(ft,{B:()=>de});var m=D(8421),b=D(7579),E=D(930),M=D(4482);function de(Fe={}){const{connector:re=(()=>new b.x),resetOnError:pe=!0,resetOnComplete:X=!0,resetOnRefCountZero:se=!0}=Fe;return ue=>{let Te,ze,Re,dt=0,Ye=!1,Je=!1;const $e=()=>{ze?.unsubscribe(),ze=void 0},Ft=()=>{$e(),Te=Re=void 0,Ye=Je=!1},rt=()=>{const Oe=Te;Ft(),Oe?.unsubscribe()};return(0,M.e)((Oe,ae)=>{dt++,!Je&&!Ye&&$e();const Me=Re=Re??re();ae.add(()=>{dt--,0===dt&&!Je&&!Ye&&(ze=be(rt,se))}),Me.subscribe(ae),!Te&&dt>0&&(Te=new E.Hp({next:_e=>Me.next(_e),error:_e=>{Je=!0,$e(),ze=be(Ft,pe,_e),Me.error(_e)},complete:()=>{Ye=!0,$e(),ze=be(Ft,X),Me.complete()}}),(0,m.Xf)(Oe).subscribe(Te))})(ue)}}function be(Fe,re,...pe){if(!0===re)return void Fe();if(!1===re)return;const X=new E.Hp({next:()=>{X.unsubscribe(),Fe()}});return re(...pe).subscribe(X)}},3151:(hn,ft,D)=>{D.d(ft,{d:()=>de});var m=D(7579),b=D(6063);class E extends m.x{constructor(Fe=1/0,re=1/0,pe=b.l){super(),this._bufferSize=Fe,this._windowTime=re,this._timestampProvider=pe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=re===1/0,this._bufferSize=Math.max(1,Fe),this._windowTime=Math.max(1,re)}next(Fe){const{isStopped:re,_buffer:pe,_infiniteTimeWindow:X,_timestampProvider:se,_windowTime:ue}=this;re||(pe.push(Fe),!X&&pe.push(se.now()+ue)),this._trimBuffer(),super.next(Fe)}_subscribe(Fe){this._throwIfClosed(),this._trimBuffer();const re=this._innerSubscribe(Fe),{_infiniteTimeWindow:pe,_buffer:X}=this,se=X.slice();for(let ue=0;ue<se.length&&!Fe.closed;ue+=pe?1:2)Fe.next(se[ue]);return this._checkFinalizedStatuses(Fe),re}_trimBuffer(){const{_bufferSize:Fe,_timestampProvider:re,_buffer:pe,_infiniteTimeWindow:X}=this,se=(X?1:2)*Fe;if(Fe<1/0&&se<pe.length&&pe.splice(0,pe.length-se),!X){const ue=re.now();let Te=0;for(let ze=1;ze<pe.length&&pe[ze]<=ue;ze+=2)Te=ze;Te&&pe.splice(0,Te+1)}}}var M=D(3099);function de(be,Fe,re){let pe,X=!1;return be&&"object"==typeof be?({bufferSize:pe=1/0,windowTime:Fe=1/0,refCount:X=!1,scheduler:re}=be):pe=be??1/0,(0,M.B)({connector:()=>new E(pe,Fe,re),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:X})}},5684:(hn,ft,D)=>{D.d(ft,{T:()=>b});var m=D(9300);function b(E){return(0,m.h)((M,de)=>E<=de)}},8675:(hn,ft,D)=>{D.d(ft,{O:()=>M});var m=D(7272),b=D(3269),E=D(4482);function M(...de){const be=(0,b.yG)(de);return(0,E.e)((Fe,re)=>{(be?(0,m.z)(de,Fe,be):(0,m.z)(de,Fe)).subscribe(re)})}},9468:(hn,ft,D)=>{D.d(ft,{R:()=>b});var m=D(4482);function b(E,M=0){return(0,m.e)((de,be)=>{be.add(E.schedule(()=>de.subscribe(be),M))})}},3900:(hn,ft,D)=>{D.d(ft,{w:()=>M});var m=D(8421),b=D(4482),E=D(5403);function M(de,be){return(0,b.e)((Fe,re)=>{let pe=null,X=0,se=!1;const ue=()=>se&&!pe&&re.complete();Fe.subscribe((0,E.x)(re,Te=>{pe?.unsubscribe();let ze=0;const Re=X++;(0,m.Xf)(de(Te,Re)).subscribe(pe=(0,E.x)(re,dt=>re.next(be?be(Te,dt,Re,ze++):dt),()=>{pe=null,ue()}))},()=>{se=!0,ue()}))})}},5698:(hn,ft,D)=>{D.d(ft,{q:()=>M});var m=D(515),b=D(4482),E=D(5403);function M(de){return de<=0?()=>m.E:(0,b.e)((be,Fe)=>{let re=0;be.subscribe((0,E.x)(Fe,pe=>{++re<=de&&(Fe.next(pe),de<=re&&Fe.complete())}))})}},2722:(hn,ft,D)=>{D.d(ft,{R:()=>de});var m=D(4482),b=D(5403),E=D(8421),M=D(5032);function de(be){return(0,m.e)((Fe,re)=>{(0,E.Xf)(be).subscribe((0,b.x)(re,()=>re.complete(),M.Z)),!re.closed&&Fe.subscribe(re)})}},2529:(hn,ft,D)=>{D.d(ft,{o:()=>E});var m=D(4482),b=D(5403);function E(M,de=!1){return(0,m.e)((be,Fe)=>{let re=0;be.subscribe((0,b.x)(Fe,pe=>{const X=M(pe,re++);(X||de)&&Fe.next(pe),!X&&Fe.complete()}))})}},8505:(hn,ft,D)=>{D.d(ft,{b:()=>de});var m=D(576),b=D(4482),E=D(5403),M=D(4671);function de(be,Fe,re){const pe=(0,m.m)(be)||Fe||re?{next:be,error:Fe,complete:re}:be;return pe?(0,b.e)((X,se)=>{var ue;null===(ue=pe.subscribe)||void 0===ue||ue.call(pe);let Te=!0;X.subscribe((0,E.x)(se,ze=>{var Re;null===(Re=pe.next)||void 0===Re||Re.call(pe,ze),se.next(ze)},()=>{var ze;Te=!1,null===(ze=pe.complete)||void 0===ze||ze.call(pe),se.complete()},ze=>{var Re;Te=!1,null===(Re=pe.error)||void 0===Re||Re.call(pe,ze),se.error(ze)},()=>{var ze,Re;Te&&(null===(ze=pe.unsubscribe)||void 0===ze||ze.call(pe)),null===(Re=pe.finalize)||void 0===Re||Re.call(pe)}))}):M.y}},8068:(hn,ft,D)=>{D.d(ft,{T:()=>M});var m=D(6805),b=D(4482),E=D(5403);function M(be=de){return(0,b.e)((Fe,re)=>{let pe=!1;Fe.subscribe((0,E.x)(re,X=>{pe=!0,re.next(X)},()=>pe?re.complete():re.error(be())))})}function de(){return new m.K}},1365:(hn,ft,D)=>{D.d(ft,{M:()=>Fe});var m=D(4482),b=D(5403),E=D(8421),M=D(4671),de=D(5032),be=D(3269);function Fe(...re){const pe=(0,be.jO)(re);return(0,m.e)((X,se)=>{const ue=re.length,Te=new Array(ue);let ze=re.map(()=>!1),Re=!1;for(let dt=0;dt<ue;dt++)(0,E.Xf)(re[dt]).subscribe((0,b.x)(se,Ye=>{Te[dt]=Ye,!Re&&!ze[dt]&&(ze[dt]=!0,(Re=ze.every(M.y))&&(ze=null))},de.Z));X.subscribe((0,b.x)(se,dt=>{if(Re){const Ye=[dt,...Te];se.next(pe?pe(...Ye):Ye)}}))})}},4408:(hn,ft,D)=>{D.d(ft,{o:()=>de});var m=D(727);class b extends m.w0{constructor(Fe,re){super()}schedule(Fe,re=0){return this}}const E={setInterval(be,Fe,...re){const{delegate:pe}=E;return pe?.setInterval?pe.setInterval(be,Fe,...re):setInterval(be,Fe,...re)},clearInterval(be){const{delegate:Fe}=E;return(Fe?.clearInterval||clearInterval)(be)},delegate:void 0};var M=D(8737);class de extends b{constructor(Fe,re){super(Fe,re),this.scheduler=Fe,this.work=re,this.pending=!1}schedule(Fe,re=0){var pe;if(this.closed)return this;this.state=Fe;const X=this.id,se=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(se,X,re)),this.pending=!0,this.delay=re,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(se,this.id,re),this}requestAsyncId(Fe,re,pe=0){return E.setInterval(Fe.flush.bind(Fe,this),pe)}recycleAsyncId(Fe,re,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return re;null!=re&&E.clearInterval(re)}execute(Fe,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(Fe,re);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Fe,re){let X,pe=!1;try{this.work(Fe)}catch(se){pe=!0,X=se||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:Fe,scheduler:re}=this,{actions:pe}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,M.P)(pe,this),null!=Fe&&(this.id=this.recycleAsyncId(re,Fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(hn,ft,D)=>{D.d(ft,{v:()=>E});var m=D(6063);class b{constructor(de,be=b.now){this.schedulerActionCtor=de,this.now=be}schedule(de,be=0,Fe){return new this.schedulerActionCtor(this,de).schedule(Fe,be)}}b.now=m.l.now;class E extends b{constructor(de,be=b.now){super(de,be),this.actions=[],this._active=!1}flush(de){const{actions:be}=this;if(this._active)return void be.push(de);let Fe;this._active=!0;do{if(Fe=de.execute(de.state,de.delay))break}while(de=be.shift());if(this._active=!1,Fe){for(;de=be.shift();)de.unsubscribe();throw Fe}}}},6406:(hn,ft,D)=>{D.d(ft,{Z:()=>Fe});var m=D(4408),b=D(727);const E={schedule(pe){let X=requestAnimationFrame,se=cancelAnimationFrame;const{delegate:ue}=E;ue&&(X=ue.requestAnimationFrame,se=ue.cancelAnimationFrame);const Te=X(ze=>{se=void 0,pe(ze)});return new b.w0(()=>se?.(Te))},requestAnimationFrame(...pe){const{delegate:X}=E;return(X?.requestAnimationFrame||requestAnimationFrame)(...pe)},cancelAnimationFrame(...pe){const{delegate:X}=E;return(X?.cancelAnimationFrame||cancelAnimationFrame)(...pe)},delegate:void 0};var de=D(7565);const Fe=new class be extends de.v{flush(X){this._active=!0;const se=this._scheduled;this._scheduled=void 0;const{actions:ue}=this;let Te;X=X||ue.shift();do{if(Te=X.execute(X.state,X.delay))break}while((X=ue[0])&&X.id===se&&ue.shift());if(this._active=!1,Te){for(;(X=ue[0])&&X.id===se&&ue.shift();)X.unsubscribe();throw Te}}}(class M extends m.o{constructor(X,se){super(X,se),this.scheduler=X,this.work=se}requestAsyncId(X,se,ue=0){return null!==ue&&ue>0?super.requestAsyncId(X,se,ue):(X.actions.push(this),X._scheduled||(X._scheduled=E.requestAnimationFrame(()=>X.flush(void 0))))}recycleAsyncId(X,se,ue=0){var Te;if(null!=ue?ue>0:this.delay>0)return super.recycleAsyncId(X,se,ue);const{actions:ze}=X;null!=se&&(null===(Te=ze[ze.length-1])||void 0===Te?void 0:Te.id)!==se&&(E.cancelAnimationFrame(se),X._scheduled=void 0)}})},3101:(hn,ft,D)=>{D.d(ft,{E:()=>ze});var m=D(4408);let E,b=1;const M={};function de(dt){return dt in M&&(delete M[dt],!0)}const be={setImmediate(dt){const Ye=b++;return M[Ye]=!0,E||(E=Promise.resolve()),E.then(()=>de(Ye)&&dt()),Ye},clearImmediate(dt){de(dt)}},{setImmediate:re,clearImmediate:pe}=be,X={setImmediate(...dt){const{delegate:Ye}=X;return(Ye?.setImmediate||re)(...dt)},clearImmediate(dt){const{delegate:Ye}=X;return(Ye?.clearImmediate||pe)(dt)},delegate:void 0};var ue=D(7565);const ze=new class Te extends ue.v{flush(Ye){this._active=!0;const Je=this._scheduled;this._scheduled=void 0;const{actions:$e}=this;let Ft;Ye=Ye||$e.shift();do{if(Ft=Ye.execute(Ye.state,Ye.delay))break}while((Ye=$e[0])&&Ye.id===Je&&$e.shift());if(this._active=!1,Ft){for(;(Ye=$e[0])&&Ye.id===Je&&$e.shift();)Ye.unsubscribe();throw Ft}}}(class se extends m.o{constructor(Ye,Je){super(Ye,Je),this.scheduler=Ye,this.work=Je}requestAsyncId(Ye,Je,$e=0){return null!==$e&&$e>0?super.requestAsyncId(Ye,Je,$e):(Ye.actions.push(this),Ye._scheduled||(Ye._scheduled=X.setImmediate(Ye.flush.bind(Ye,void 0))))}recycleAsyncId(Ye,Je,$e=0){var Ft;if(null!=$e?$e>0:this.delay>0)return super.recycleAsyncId(Ye,Je,$e);const{actions:rt}=Ye;null!=Je&&(null===(Ft=rt[rt.length-1])||void 0===Ft?void 0:Ft.id)!==Je&&(X.clearImmediate(Je),Ye._scheduled=void 0)}})},4986:(hn,ft,D)=>{D.d(ft,{P:()=>M,z:()=>E});var m=D(4408);const E=new(D(7565).v)(m.o),M=E},6063:(hn,ft,D)=>{D.d(ft,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},233:(hn,ft,D)=>{D.d(ft,{N:()=>de});var m=D(4408),E=D(7565);const de=new class M extends E.v{}(class b extends m.o{constructor(re,pe){super(re,pe),this.scheduler=re,this.work=pe}schedule(re,pe=0){return pe>0?super.schedule(re,pe):(this.delay=pe,this.state=re,this.scheduler.flush(this),this)}execute(re,pe){return pe>0||this.closed?super.execute(re,pe):this._execute(re,pe)}requestAsyncId(re,pe,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(re,pe,X):(re.flush(this),0)}})},3410:(hn,ft,D)=>{D.d(ft,{z:()=>m});const m={setTimeout(b,E,...M){const{delegate:de}=m;return de?.setTimeout?de.setTimeout(b,E,...M):setTimeout(b,E,...M)},clearTimeout(b){const{delegate:E}=m;return(E?.clearTimeout||clearTimeout)(b)},delegate:void 0}},2202:(hn,ft,D)=>{D.d(ft,{h:()=>b});const b=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(hn,ft,D)=>{D.d(ft,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(hn,ft,D)=>{D.d(ft,{K:()=>b});const b=(0,D(3888).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(hn,ft,D)=>{D.d(ft,{_6:()=>be,jO:()=>M,yG:()=>de});var m=D(576),b=D(3532);function E(Fe){return Fe[Fe.length-1]}function M(Fe){return(0,m.m)(E(Fe))?Fe.pop():void 0}function de(Fe){return(0,b.K)(E(Fe))?Fe.pop():void 0}function be(Fe,re){return"number"==typeof E(Fe)?Fe.pop():re}},4742:(hn,ft,D)=>{D.d(ft,{D:()=>de});const{isArray:m}=Array,{getPrototypeOf:b,prototype:E,keys:M}=Object;function de(Fe){if(1===Fe.length){const re=Fe[0];if(m(re))return{args:re,keys:null};if(function be(Fe){return Fe&&"object"==typeof Fe&&b(Fe)===E}(re)){const pe=M(re);return{args:pe.map(X=>re[X]),keys:pe}}}return{args:Fe,keys:null}}},8737:(hn,ft,D)=>{function m(b,E){if(b){const M=b.indexOf(E);0<=M&&b.splice(M,1)}}D.d(ft,{P:()=>m})},3888:(hn,ft,D)=>{function m(b){const M=b(de=>{Error.call(de),de.stack=(new Error).stack});return M.prototype=Object.create(Error.prototype),M.prototype.constructor=M,M}D.d(ft,{d:()=>m})},1810:(hn,ft,D)=>{function m(b,E){return b.reduce((M,de,be)=>(M[de]=E[be],M),{})}D.d(ft,{n:()=>m})},2806:(hn,ft,D)=>{D.d(ft,{O:()=>M,x:()=>E});var m=D(2416);let b=null;function E(de){if(m.v.useDeprecatedSynchronousErrorHandling){const be=!b;if(be&&(b={errorThrown:!1,error:null}),de(),be){const{errorThrown:Fe,error:re}=b;if(b=null,Fe)throw re}}else de()}function M(de){m.v.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=de)}},9672:(hn,ft,D)=>{function m(b,E,M,de=0,be=!1){const Fe=E.schedule(function(){M(),be?b.add(this.schedule(null,de)):this.unsubscribe()},de);if(b.add(Fe),!be)return Fe}D.d(ft,{f:()=>m})},4671:(hn,ft,D)=>{function m(b){return b}D.d(ft,{y:()=>m})},1144:(hn,ft,D)=>{D.d(ft,{z:()=>m});const m=b=>b&&"number"==typeof b.length&&"function"!=typeof b},2206:(hn,ft,D)=>{D.d(ft,{D:()=>b});var m=D(576);function b(E){return Symbol.asyncIterator&&(0,m.m)(E?.[Symbol.asyncIterator])}},576:(hn,ft,D)=>{function m(b){return"function"==typeof b}D.d(ft,{m:()=>m})},3670:(hn,ft,D)=>{D.d(ft,{c:()=>E});var m=D(8822),b=D(576);function E(M){return(0,b.m)(M[m.L])}},6495:(hn,ft,D)=>{D.d(ft,{T:()=>E});var m=D(2202),b=D(576);function E(M){return(0,b.m)(M?.[m.h])}},8239:(hn,ft,D)=>{D.d(ft,{t:()=>b});var m=D(576);function b(E){return(0,m.m)(E?.then)}},3260:(hn,ft,D)=>{D.d(ft,{L:()=>M,Q:()=>E});var m=D(655),b=D(576);function E(de){return(0,m.FC)(this,arguments,function*(){const Fe=de.getReader();try{for(;;){const{value:re,done:pe}=yield(0,m.qq)(Fe.read());if(pe)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(re)}}finally{Fe.releaseLock()}})}function M(de){return(0,b.m)(de?.getReader)}},3532:(hn,ft,D)=>{D.d(ft,{K:()=>b});var m=D(576);function b(E){return E&&(0,m.m)(E.schedule)}},4482:(hn,ft,D)=>{D.d(ft,{A:()=>b,e:()=>E});var m=D(576);function b(M){return(0,m.m)(M?.lift)}function E(M){return de=>{if(b(de))return de.lift(function(be){try{return M(be,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(hn,ft,D)=>{D.d(ft,{Z:()=>M});var m=D(4004);const{isArray:b}=Array;function M(de){return(0,m.U)(be=>function E(de,be){return b(be)?de(...be):de(be)}(de,be))}},5032:(hn,ft,D)=>{function m(){}D.d(ft,{Z:()=>m})},9635:(hn,ft,D)=>{D.d(ft,{U:()=>E,z:()=>b});var m=D(4671);function b(...M){return E(M)}function E(M){return 0===M.length?m.y:1===M.length?M[0]:function(be){return M.reduce((Fe,re)=>re(Fe),be)}}},7849:(hn,ft,D)=>{D.d(ft,{h:()=>E});var m=D(2416),b=D(3410);function E(M){b.z.setTimeout(()=>{const{onUnhandledError:de}=m.v;if(!de)throw M;de(M)})}},4532:(hn,ft,D)=>{function m(b){return new TypeError(`You provided ${null!==b&&"object"==typeof b?"an invalid object":`'${b}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(ft,{z:()=>m})},655:(hn,ft,D)=>{function M(Se,Ke){var St={};for(var yt in Se)Object.prototype.hasOwnProperty.call(Se,yt)&&Ke.indexOf(yt)<0&&(St[yt]=Se[yt]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var Qt=0;for(yt=Object.getOwnPropertySymbols(Se);Qt<yt.length;Qt++)Ke.indexOf(yt[Qt])<0&&Object.prototype.propertyIsEnumerable.call(Se,yt[Qt])&&(St[yt[Qt]]=Se[yt[Qt]])}return St}function de(Se,Ke,St,yt){var Sn,Qt=arguments.length,Jt=Qt<3?Ke:null===yt?yt=Object.getOwnPropertyDescriptor(Ke,St):yt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Jt=Reflect.decorate(Se,Ke,St,yt);else for(var xt=Se.length-1;xt>=0;xt--)(Sn=Se[xt])&&(Jt=(Qt<3?Sn(Jt):Qt>3?Sn(Ke,St,Jt):Sn(Ke,St))||Jt);return Qt>3&&Jt&&Object.defineProperty(Ke,St,Jt),Jt}function be(Se,Ke){return function(St,yt){Ke(St,yt,Se)}}function re(Se,Ke,St,yt){return new(St||(St=Promise))(function(Jt,Sn){function xt(at){try{ne(yt.next(at))}catch(it){Sn(it)}}function an(at){try{ne(yt.throw(at))}catch(it){Sn(it)}}function ne(at){at.done?Jt(at.value):function Qt(Jt){return Jt instanceof St?Jt:new St(function(Sn){Sn(Jt)})}(at.value).then(xt,an)}ne((yt=yt.apply(Se,Ke||[])).next())})}function Ye(Se){return this instanceof Ye?(this.v=Se,this):new Ye(Se)}function Je(Se,Ke,St){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qt,yt=St.apply(Se,Ke||[]),Jt=[];return Qt={},Sn("next"),Sn("throw"),Sn("return"),Qt[Symbol.asyncIterator]=function(){return this},Qt;function Sn(Bt){yt[Bt]&&(Qt[Bt]=function(Ce){return new Promise(function(st,xe){Jt.push([Bt,Ce,st,xe])>1||xt(Bt,Ce)})})}function xt(Bt,Ce){try{!function an(Bt){Bt.value instanceof Ye?Promise.resolve(Bt.value.v).then(ne,at):it(Jt[0][2],Bt)}(yt[Bt](Ce))}catch(st){it(Jt[0][3],st)}}function ne(Bt){xt("next",Bt)}function at(Bt){xt("throw",Bt)}function it(Bt,Ce){Bt(Ce),Jt.shift(),Jt.length&&xt(Jt[0][0],Jt[0][1])}}function Ft(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var St,Ke=Se[Symbol.asyncIterator];return Ke?Ke.call(Se):(Se=function ue(Se){var Ke="function"==typeof Symbol&&Symbol.iterator,St=Ke&&Se[Ke],yt=0;if(St)return St.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&yt>=Se.length&&(Se=void 0),{value:Se&&Se[yt++],done:!Se}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),St={},yt("next"),yt("throw"),yt("return"),St[Symbol.asyncIterator]=function(){return this},St);function yt(Jt){St[Jt]=Se[Jt]&&function(Sn){return new Promise(function(xt,an){!function Qt(Jt,Sn,xt,an){Promise.resolve(an).then(function(ne){Jt({value:ne,done:xt})},Sn)}(xt,an,(Sn=Se[Jt](Sn)).done,Sn.value)})}}}D.d(ft,{FC:()=>Je,KL:()=>Ft,_T:()=>M,fM:()=>be,gn:()=>de,mG:()=>re,qq:()=>Ye})},7340:(hn,ft,D)=>{D.d(ft,{F4:()=>X,IO:()=>Re,LC:()=>b,SB:()=>pe,X$:()=>M,ZE:()=>$e,ZN:()=>Je,_j:()=>m,eR:()=>se,jt:()=>de,k1:()=>Ft,l3:()=>E,oB:()=>re,pV:()=>Te,ru:()=>be,vP:()=>Fe});class m{}class b{}const E="*";function M(rt,Oe){return{type:7,name:rt,definitions:Oe,options:{}}}function de(rt,Oe=null){return{type:4,styles:Oe,timings:rt}}function be(rt,Oe=null){return{type:3,steps:rt,options:Oe}}function Fe(rt,Oe=null){return{type:2,steps:rt,options:Oe}}function re(rt){return{type:6,styles:rt,offset:null}}function pe(rt,Oe,ae){return{type:0,name:rt,styles:Oe,options:ae}}function X(rt){return{type:5,steps:rt}}function se(rt,Oe,ae=null){return{type:1,expr:rt,animation:Oe,options:ae}}function Te(rt=null){return{type:9,options:rt}}function Re(rt,Oe,ae=null){return{type:11,selector:rt,animation:Oe,options:ae}}function Ye(rt){Promise.resolve().then(rt)}class Je{constructor(Oe=0,ae=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Oe+ae}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}onStart(Oe){this._originalOnStartFns.push(Oe),this._onStartFns.push(Oe)}onDone(Oe){this._originalOnDoneFns.push(Oe),this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ye(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Oe){this._position=this.totalTime?Oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Oe){const ae="start"==Oe?this._onStartFns:this._onDoneFns;ae.forEach(Me=>Me()),ae.length=0}}class $e{constructor(Oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Oe;let ae=0,Me=0,_e=0;const fe=this.players.length;0==fe?Ye(()=>this._onFinish()):this.players.forEach(Ge=>{Ge.onDone(()=>{++ae==fe&&this._onFinish()}),Ge.onDestroy(()=>{++Me==fe&&this._onDestroy()}),Ge.onStart(()=>{++_e==fe&&this._onStart()})}),this.totalTime=this.players.reduce((Ge,Se)=>Math.max(Ge,Se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}init(){this.players.forEach(Oe=>Oe.init())}onStart(Oe){this._onStartFns.push(Oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[])}onDone(Oe){this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Oe=>Oe.play())}pause(){this.players.forEach(Oe=>Oe.pause())}restart(){this.players.forEach(Oe=>Oe.restart())}finish(){this._onFinish(),this.players.forEach(Oe=>Oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Oe=>Oe.destroy()),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this.players.forEach(Oe=>Oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Oe){const ae=Oe*this.totalTime;this.players.forEach(Me=>{const _e=Me.totalTime?Math.min(1,ae/Me.totalTime):1;Me.setPosition(_e)})}getPosition(){const Oe=this.players.reduce((ae,Me)=>null===ae||Me.totalTime>ae.totalTime?Me:ae,null);return null!=Oe?Oe.getPosition():0}beforeDestroy(){this.players.forEach(Oe=>{Oe.beforeDestroy&&Oe.beforeDestroy()})}triggerCallback(Oe){const ae="start"==Oe?this._onStartFns:this._onDoneFns;ae.forEach(Me=>Me()),ae.length=0}}const Ft="!"},2687:(hn,ft,D)=>{D.d(ft,{$s:()=>Se,Em:()=>Jt,Kd:()=>Pt,X6:()=>ht,ic:()=>xt,qV:()=>Pn,qm:()=>ot,rt:()=>Tt,s1:()=>Qt,tE:()=>Wn,yG:()=>j});var m=D(6895),b=D(4650),E=D(3353),M=D(7579),de=D(727),be=D(1135),Fe=D(9646),re=D(9521),pe=D(8505),X=D(8372),se=D(9300),ue=D(4004),Te=D(5698),ze=D(5684),Re=D(1884),dt=D(2722),Ye=D(1281),Je=D(9643),$e=D(2289);function ae(Ue,je){return(Ue.getAttribute(je)||"").match(/\S+/g)||[]}const _e="cdk-describedby-message",fe="cdk-describedby-host";let Ge=0,Se=(()=>{class Ue{constructor(Ae,pt){this._platform=pt,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ge++,this._document=Ae,this._id=(0,b.f3M)(b.AFp)+"-"+Ge++}describe(Ae,pt,Rt){if(!this._canBeDescribed(Ae,pt))return;const ke=Ke(pt,Rt);"string"!=typeof pt?(St(pt,this._id),this._messageRegistry.set(ke,{messageElement:pt,referenceCount:0})):this._messageRegistry.has(ke)||this._createMessageElement(pt,Rt),this._isElementDescribedByMessage(Ae,ke)||this._addMessageReference(Ae,ke)}removeDescription(Ae,pt,Rt){if(!pt||!this._isElementNode(Ae))return;const ke=Ke(pt,Rt);if(this._isElementDescribedByMessage(Ae,ke)&&this._removeMessageReference(Ae,ke),"string"==typeof pt){const He=this._messageRegistry.get(ke);He&&0===He.referenceCount&&this._deleteMessageElement(ke)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Ae=this._document.querySelectorAll(`[${fe}="${this._id}"]`);for(let pt=0;pt<Ae.length;pt++)this._removeCdkDescribedByReferenceIds(Ae[pt]),Ae[pt].removeAttribute(fe);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Ae,pt){const Rt=this._document.createElement("div");St(Rt,this._id),Rt.textContent=Ae,pt&&Rt.setAttribute("role",pt),this._createMessagesContainer(),this._messagesContainer.appendChild(Rt),this._messageRegistry.set(Ke(Ae,pt),{messageElement:Rt,referenceCount:0})}_deleteMessageElement(Ae){this._messageRegistry.get(Ae)?.messageElement?.remove(),this._messageRegistry.delete(Ae)}_createMessagesContainer(){if(this._messagesContainer)return;const Ae="cdk-describedby-message-container",pt=this._document.querySelectorAll(`.${Ae}[platform="server"]`);for(let ke=0;ke<pt.length;ke++)pt[ke].remove();const Rt=this._document.createElement("div");Rt.style.visibility="hidden",Rt.classList.add(Ae),Rt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Rt.setAttribute("platform","server"),this._document.body.appendChild(Rt),this._messagesContainer=Rt}_removeCdkDescribedByReferenceIds(Ae){const pt=ae(Ae,"aria-describedby").filter(Rt=>0!=Rt.indexOf(_e));Ae.setAttribute("aria-describedby",pt.join(" "))}_addMessageReference(Ae,pt){const Rt=this._messageRegistry.get(pt);(function rt(Ue,je,Ae){const pt=ae(Ue,je);pt.some(Rt=>Rt.trim()==Ae.trim())||(pt.push(Ae.trim()),Ue.setAttribute(je,pt.join(" ")))})(Ae,"aria-describedby",Rt.messageElement.id),Ae.setAttribute(fe,this._id),Rt.referenceCount++}_removeMessageReference(Ae,pt){const Rt=this._messageRegistry.get(pt);Rt.referenceCount--,function Oe(Ue,je,Ae){const Rt=ae(Ue,je).filter(ke=>ke!=Ae.trim());Rt.length?Ue.setAttribute(je,Rt.join(" ")):Ue.removeAttribute(je)}(Ae,"aria-describedby",Rt.messageElement.id),Ae.removeAttribute(fe)}_isElementDescribedByMessage(Ae,pt){const Rt=ae(Ae,"aria-describedby"),ke=this._messageRegistry.get(pt),He=ke&&ke.messageElement.id;return!!He&&-1!=Rt.indexOf(He)}_canBeDescribed(Ae,pt){if(!this._isElementNode(Ae))return!1;if(pt&&"object"==typeof pt)return!0;const Rt=null==pt?"":`${pt}`.trim(),ke=Ae.getAttribute("aria-label");return!(!Rt||ke&&ke.trim()===Rt)}_isElementNode(Ae){return Ae.nodeType===this._document.ELEMENT_NODE}}return Ue.\u0275fac=function(Ae){return new(Ae||Ue)(b.LFG(m.K0),b.LFG(E.t4))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();function Ke(Ue,je){return"string"==typeof Ue?`${je||""}/${Ue}`:Ue}function St(Ue,je){Ue.id||(Ue.id=`${_e}-${je}-${Ge++}`)}class yt{constructor(je){this._items=je,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new M.x,this._typeaheadSubscription=de.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Ae=>Ae.disabled,this._pressedLetters=[],this.tabOut=new M.x,this.change=new M.x,je instanceof b.n_E&&je.changes.subscribe(Ae=>{if(this._activeItem){const Rt=Ae.toArray().indexOf(this._activeItem);Rt>-1&&Rt!==this._activeItemIndex&&(this._activeItemIndex=Rt)}})}skipPredicate(je){return this._skipPredicateFn=je,this}withWrap(je=!0){return this._wrap=je,this}withVerticalOrientation(je=!0){return this._vertical=je,this}withHorizontalOrientation(je){return this._horizontal=je,this}withAllowedModifierKeys(je){return this._allowedModifierKeys=je,this}withTypeAhead(je=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,pe.b)(Ae=>this._pressedLetters.push(Ae)),(0,X.b)(je),(0,se.h)(()=>this._pressedLetters.length>0),(0,ue.U)(()=>this._pressedLetters.join(""))).subscribe(Ae=>{const pt=this._getItemsArray();for(let Rt=1;Rt<pt.length+1;Rt++){const ke=(this._activeItemIndex+Rt)%pt.length,He=pt[ke];if(!this._skipPredicateFn(He)&&0===He.getLabel().toUpperCase().trim().indexOf(Ae)){this.setActiveItem(ke);break}}this._pressedLetters=[]}),this}withHomeAndEnd(je=!0){return this._homeAndEnd=je,this}setActiveItem(je){const Ae=this._activeItem;this.updateActiveItem(je),this._activeItem!==Ae&&this.change.next(this._activeItemIndex)}onKeydown(je){const Ae=je.keyCode,Rt=["altKey","ctrlKey","metaKey","shiftKey"].every(ke=>!je[ke]||this._allowedModifierKeys.indexOf(ke)>-1);switch(Ae){case re.Mf:return void this.tabOut.next();case re.JH:if(this._vertical&&Rt){this.setNextItemActive();break}return;case re.LH:if(this._vertical&&Rt){this.setPreviousItemActive();break}return;case re.SV:if(this._horizontal&&Rt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case re.oh:if(this._horizontal&&Rt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case re.Sd:if(this._homeAndEnd&&Rt){this.setFirstItemActive();break}return;case re.uR:if(this._homeAndEnd&&Rt){this.setLastItemActive();break}return;default:return void((Rt||(0,re.Vb)(je,"shiftKey"))&&(je.key&&1===je.key.length?this._letterKeyStream.next(je.key.toLocaleUpperCase()):(Ae>=re.A&&Ae<=re.Z||Ae>=re.xE&&Ae<=re.aO)&&this._letterKeyStream.next(String.fromCharCode(Ae))))}this._pressedLetters=[],je.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(je){const Ae=this._getItemsArray(),pt="number"==typeof je?je:Ae.indexOf(je);this._activeItem=Ae[pt]??null,this._activeItemIndex=pt}_setActiveItemByDelta(je){this._wrap?this._setActiveInWrapMode(je):this._setActiveInDefaultMode(je)}_setActiveInWrapMode(je){const Ae=this._getItemsArray();for(let pt=1;pt<=Ae.length;pt++){const Rt=(this._activeItemIndex+je*pt+Ae.length)%Ae.length;if(!this._skipPredicateFn(Ae[Rt]))return void this.setActiveItem(Rt)}}_setActiveInDefaultMode(je){this._setActiveItemByIndex(this._activeItemIndex+je,je)}_setActiveItemByIndex(je,Ae){const pt=this._getItemsArray();if(pt[je]){for(;this._skipPredicateFn(pt[je]);)if(!pt[je+=Ae])return;this.setActiveItem(je)}}_getItemsArray(){return this._items instanceof b.n_E?this._items.toArray():this._items}}class Qt extends yt{setActiveItem(je){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(je),this.activeItem&&this.activeItem.setActiveStyles()}}class Jt extends yt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(je){return this._origin=je,this}setActiveItem(je){super.setActiveItem(je),this.activeItem&&this.activeItem.focus(this._origin)}}let xt=(()=>{class Ue{constructor(Ae){this._platform=Ae}isDisabled(Ae){return Ae.hasAttribute("disabled")}isVisible(Ae){return function ne(Ue){return!!(Ue.offsetWidth||Ue.offsetHeight||"function"==typeof Ue.getClientRects&&Ue.getClientRects().length)}(Ae)&&"visible"===getComputedStyle(Ae).visibility}isTabbable(Ae){if(!this._platform.isBrowser)return!1;const pt=function an(Ue){try{return Ue.frameElement}catch{return null}}(function zt(Ue){return Ue.ownerDocument&&Ue.ownerDocument.defaultView||window}(Ae));if(pt&&(-1===ve(pt)||!this.isVisible(pt)))return!1;let Rt=Ae.nodeName.toLowerCase(),ke=ve(Ae);return Ae.hasAttribute("contenteditable")?-1!==ke:!("iframe"===Rt||"object"===Rt||this._platform.WEBKIT&&this._platform.IOS&&!function Ct(Ue){let je=Ue.nodeName.toLowerCase(),Ae="input"===je&&Ue.type;return"text"===Ae||"password"===Ae||"select"===je||"textarea"===je}(Ae))&&("audio"===Rt?!!Ae.hasAttribute("controls")&&-1!==ke:"video"===Rt?-1!==ke&&(null!==ke||this._platform.FIREFOX||Ae.hasAttribute("controls")):Ae.tabIndex>=0)}isFocusable(Ae,pt){return function Lt(Ue){return!function it(Ue){return function Ce(Ue){return"input"==Ue.nodeName.toLowerCase()}(Ue)&&"hidden"==Ue.type}(Ue)&&(function at(Ue){let je=Ue.nodeName.toLowerCase();return"input"===je||"select"===je||"button"===je||"textarea"===je}(Ue)||function Bt(Ue){return function st(Ue){return"a"==Ue.nodeName.toLowerCase()}(Ue)&&Ue.hasAttribute("href")}(Ue)||Ue.hasAttribute("contenteditable")||xe(Ue))}(Ae)&&!this.isDisabled(Ae)&&(pt?.ignoreVisibility||this.isVisible(Ae))}}return Ue.\u0275fac=function(Ae){return new(Ae||Ue)(b.LFG(E.t4))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();function xe(Ue){if(!Ue.hasAttribute("tabindex")||void 0===Ue.tabIndex)return!1;let je=Ue.getAttribute("tabindex");return!(!je||isNaN(parseInt(je,10)))}function ve(Ue){if(!xe(Ue))return null;const je=parseInt(Ue.getAttribute("tabindex")||"",10);return isNaN(je)?-1:je}class An{constructor(je,Ae,pt,Rt,ke=!1){this._element=je,this._checker=Ae,this._ngZone=pt,this._document=Rt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,ke||this.attachAnchors()}get enabled(){return this._enabled}set enabled(je){this._enabled=je,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(je,this._startAnchor),this._toggleAnchorTabIndex(je,this._endAnchor))}destroy(){const je=this._startAnchor,Ae=this._endAnchor;je&&(je.removeEventListener("focus",this.startAnchorListener),je.remove()),Ae&&(Ae.removeEventListener("focus",this.endAnchorListener),Ae.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(je){return new Promise(Ae=>{this._executeOnStable(()=>Ae(this.focusInitialElement(je)))})}focusFirstTabbableElementWhenReady(je){return new Promise(Ae=>{this._executeOnStable(()=>Ae(this.focusFirstTabbableElement(je)))})}focusLastTabbableElementWhenReady(je){return new Promise(Ae=>{this._executeOnStable(()=>Ae(this.focusLastTabbableElement(je)))})}_getRegionBoundary(je){const Ae=this._element.querySelectorAll(`[cdk-focus-region-${je}], [cdkFocusRegion${je}], [cdk-focus-${je}]`);return"start"==je?Ae.length?Ae[0]:this._getFirstTabbableElement(this._element):Ae.length?Ae[Ae.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(je){const Ae=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ae){if(!this._checker.isFocusable(Ae)){const pt=this._getFirstTabbableElement(Ae);return pt?.focus(je),!!pt}return Ae.focus(je),!0}return this.focusFirstTabbableElement(je)}focusFirstTabbableElement(je){const Ae=this._getRegionBoundary("start");return Ae&&Ae.focus(je),!!Ae}focusLastTabbableElement(je){const Ae=this._getRegionBoundary("end");return Ae&&Ae.focus(je),!!Ae}hasAttached(){return this._hasAttached}_getFirstTabbableElement(je){if(this._checker.isFocusable(je)&&this._checker.isTabbable(je))return je;const Ae=je.children;for(let pt=0;pt<Ae.length;pt++){const Rt=Ae[pt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ae[pt]):null;if(Rt)return Rt}return null}_getLastTabbableElement(je){if(this._checker.isFocusable(je)&&this._checker.isTabbable(je))return je;const Ae=je.children;for(let pt=Ae.length-1;pt>=0;pt--){const Rt=Ae[pt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ae[pt]):null;if(Rt)return Rt}return null}_createAnchor(){const je=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,je),je.classList.add("cdk-visually-hidden"),je.classList.add("cdk-focus-trap-anchor"),je.setAttribute("aria-hidden","true"),je}_toggleAnchorTabIndex(je,Ae){je?Ae.setAttribute("tabindex","0"):Ae.removeAttribute("tabindex")}toggleAnchors(je){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(je,this._startAnchor),this._toggleAnchorTabIndex(je,this._endAnchor))}_executeOnStable(je){this._ngZone.isStable?je():this._ngZone.onStable.pipe((0,Te.q)(1)).subscribe(je)}}let Pn=(()=>{class Ue{constructor(Ae,pt,Rt){this._checker=Ae,this._ngZone=pt,this._document=Rt}create(Ae,pt=!1){return new An(Ae,this._checker,this._ngZone,this._document,pt)}}return Ue.\u0275fac=function(Ae){return new(Ae||Ue)(b.LFG(xt),b.LFG(b.R0b),b.LFG(m.K0))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();function ht(Ue){return 0===Ue.buttons||0===Ue.offsetX&&0===Ue.offsetY}function j(Ue){const je=Ue.touches&&Ue.touches[0]||Ue.changedTouches&&Ue.changedTouches[0];return!(!je||-1!==je.identifier||null!=je.radiusX&&1!==je.radiusX||null!=je.radiusY&&1!==je.radiusY)}const Z=new b.OlP("cdk-input-modality-detector-options"),Ie={ignoreKeys:[re.zL,re.jx,re.b2,re.MW,re.JU]},De=(0,E.i$)({passive:!0,capture:!0});let z=(()=>{class Ue{constructor(Ae,pt,Rt,ke){this._platform=Ae,this._mostRecentTarget=null,this._modality=new be.X(null),this._lastTouchMs=0,this._onKeydown=He=>{this._options?.ignoreKeys?.some(bt=>bt===He.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.sA)(He))},this._onMousedown=He=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ht(He)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.sA)(He))},this._onTouchstart=He=>{j(He)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.sA)(He))},this._options={...Ie,...ke},this.modalityDetected=this._modality.pipe((0,ze.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Re.x)()),Ae.isBrowser&&pt.runOutsideAngular(()=>{Rt.addEventListener("keydown",this._onKeydown,De),Rt.addEventListener("mousedown",this._onMousedown,De),Rt.addEventListener("touchstart",this._onTouchstart,De)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,De),document.removeEventListener("mousedown",this._onMousedown,De),document.removeEventListener("touchstart",this._onTouchstart,De))}}return Ue.\u0275fac=function(Ae){return new(Ae||Ue)(b.LFG(E.t4),b.LFG(b.R0b),b.LFG(m.K0),b.LFG(Z,8))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();const ee=new b.OlP("liveAnnouncerElement",{providedIn:"root",factory:function qe(){return null}}),mt=new b.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Pt=(()=>{class Ue{constructor(Ae,pt,Rt,ke){this._ngZone=pt,this._defaultOptions=ke,this._document=Rt,this._liveElement=Ae||this._createLiveElement()}announce(Ae,...pt){const Rt=this._defaultOptions;let ke,He;return 1===pt.length&&"number"==typeof pt[0]?He=pt[0]:[ke,He]=pt,this.clear(),clearTimeout(this._previousTimeout),ke||(ke=Rt&&Rt.politeness?Rt.politeness:"polite"),null==He&&Rt&&(He=Rt.duration),this._liveElement.setAttribute("aria-live",ke),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(bt=>this._currentResolve=bt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ae,"number"==typeof He&&(this._previousTimeout=setTimeout(()=>this.clear(),He)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ae="cdk-live-announcer-element",pt=this._document.getElementsByClassName(Ae),Rt=this._document.createElement("div");for(let ke=0;ke<pt.length;ke++)pt[ke].remove();return Rt.classList.add(Ae),Rt.classList.add("cdk-visually-hidden"),Rt.setAttribute("aria-atomic","true"),Rt.setAttribute("aria-live","polite"),this._document.body.appendChild(Rt),Rt}}return Ue.\u0275fac=function(Ae){return new(Ae||Ue)(b.LFG(ee,8),b.LFG(b.R0b),b.LFG(m.K0),b.LFG(mt,8))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();const qn=new b.OlP("cdk-focus-monitor-default-options"),un=(0,E.i$)({passive:!0,capture:!0});let Wn=(()=>{class Ue{constructor(Ae,pt,Rt,ke,He){this._ngZone=Ae,this._platform=pt,this._inputModalityDetector=Rt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new M.x,this._rootNodeFocusAndBlurListener=bt=>{for(let oe=(0,E.sA)(bt);oe;oe=oe.parentElement)"focus"===bt.type?this._onFocus(bt,oe):this._onBlur(bt,oe)},this._document=ke,this._detectionMode=He?.detectionMode||0}monitor(Ae,pt=!1){const Rt=(0,Ye.fI)(Ae);if(!this._platform.isBrowser||1!==Rt.nodeType)return(0,Fe.of)(null);const ke=(0,E.kV)(Rt)||this._getDocument(),He=this._elementInfo.get(Rt);if(He)return pt&&(He.checkChildren=!0),He.subject;const bt={checkChildren:pt,subject:new M.x,rootNode:ke};return this._elementInfo.set(Rt,bt),this._registerGlobalListeners(bt),bt.subject}stopMonitoring(Ae){const pt=(0,Ye.fI)(Ae),Rt=this._elementInfo.get(pt);Rt&&(Rt.subject.complete(),this._setClasses(pt),this._elementInfo.delete(pt),this._removeGlobalListeners(Rt))}focusVia(Ae,pt,Rt){const ke=(0,Ye.fI)(Ae);ke===this._getDocument().activeElement?this._getClosestElementsInfo(ke).forEach(([bt,Xe])=>this._originChanged(bt,pt,Xe)):(this._setOrigin(pt),"function"==typeof ke.focus&&ke.focus(Rt))}ngOnDestroy(){this._elementInfo.forEach((Ae,pt)=>this.stopMonitoring(pt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ae){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ae)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ae&&this._isLastInteractionFromInputLabel(Ae)?"mouse":"program"}_shouldBeAttributedToTouch(Ae){return 1===this._detectionMode||!!Ae?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ae,pt){Ae.classList.toggle("cdk-focused",!!pt),Ae.classList.toggle("cdk-touch-focused","touch"===pt),Ae.classList.toggle("cdk-keyboard-focused","keyboard"===pt),Ae.classList.toggle("cdk-mouse-focused","mouse"===pt),Ae.classList.toggle("cdk-program-focused","program"===pt)}_setOrigin(Ae,pt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ae,this._originFromTouchInteraction="touch"===Ae&&pt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ae,pt){const Rt=this._elementInfo.get(pt),ke=(0,E.sA)(Ae);!Rt||!Rt.checkChildren&&pt!==ke||this._originChanged(pt,this._getFocusOrigin(ke),Rt)}_onBlur(Ae,pt){const Rt=this._elementInfo.get(pt);!Rt||Rt.checkChildren&&Ae.relatedTarget instanceof Node&&pt.contains(Ae.relatedTarget)||(this._setClasses(pt),this._emitOrigin(Rt,null))}_emitOrigin(Ae,pt){Ae.subject.observers.length&&this._ngZone.run(()=>Ae.subject.next(pt))}_registerGlobalListeners(Ae){if(!this._platform.isBrowser)return;const pt=Ae.rootNode,Rt=this._rootNodeFocusListenerCount.get(pt)||0;Rt||this._ngZone.runOutsideAngular(()=>{pt.addEventListener("focus",this._rootNodeFocusAndBlurListener,un),pt.addEventListener("blur",this._rootNodeFocusAndBlurListener,un)}),this._rootNodeFocusListenerCount.set(pt,Rt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,dt.R)(this._stopInputModalityDetector)).subscribe(ke=>{this._setOrigin(ke,!0)}))}_removeGlobalListeners(Ae){const pt=Ae.rootNode;if(this._rootNodeFocusListenerCount.has(pt)){const Rt=this._rootNodeFocusListenerCount.get(pt);Rt>1?this._rootNodeFocusListenerCount.set(pt,Rt-1):(pt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,un),pt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,un),this._rootNodeFocusListenerCount.delete(pt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ae,pt,Rt){this._setClasses(Ae,pt),this._emitOrigin(Rt,pt),this._lastFocusOrigin=pt}_getClosestElementsInfo(Ae){const pt=[];return this._elementInfo.forEach((Rt,ke)=>{(ke===Ae||Rt.checkChildren&&ke.contains(Ae))&&pt.push([ke,Rt])}),pt}_isLastInteractionFromInputLabel(Ae){const{_mostRecentTarget:pt,mostRecentModality:Rt}=this._inputModalityDetector;if("mouse"!==Rt||!pt||pt===Ae||"INPUT"!==Ae.nodeName&&"TEXTAREA"!==Ae.nodeName||Ae.disabled)return!1;const ke=Ae.labels;if(ke)for(let He=0;He<ke.length;He++)if(ke[He].contains(pt))return!0;return!1}}return Ue.\u0275fac=function(Ae){return new(Ae||Ue)(b.LFG(b.R0b),b.LFG(E.t4),b.LFG(z),b.LFG(m.K0,8),b.LFG(qn,8))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();const ui="cdk-high-contrast-black-on-white",Nt="cdk-high-contrast-white-on-black",_t="cdk-high-contrast-active";let ot=(()=>{class Ue{constructor(Ae,pt){this._platform=Ae,this._document=pt,this._breakpointSubscription=(0,b.f3M)($e.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ae=this._document.createElement("div");Ae.style.backgroundColor="rgb(1,2,3)",Ae.style.position="absolute",this._document.body.appendChild(Ae);const pt=this._document.defaultView||window,Rt=pt&&pt.getComputedStyle?pt.getComputedStyle(Ae):null,ke=(Rt&&Rt.backgroundColor||"").replace(/ /g,"");switch(Ae.remove(),ke){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ae=this._document.body.classList;Ae.remove(_t,ui,Nt),this._hasCheckedHighContrastMode=!0;const pt=this.getHighContrastMode();1===pt?Ae.add(_t,ui):2===pt&&Ae.add(_t,Nt)}}}return Ue.\u0275fac=function(Ae){return new(Ae||Ue)(b.LFG(E.t4),b.LFG(m.K0))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})(),Tt=(()=>{class Ue{constructor(Ae){Ae._applyBodyHighContrastModeCssClasses()}}return Ue.\u0275fac=function(Ae){return new(Ae||Ue)(b.LFG(ot))},Ue.\u0275mod=b.oAB({type:Ue}),Ue.\u0275inj=b.cJS({imports:[Je.Q8]}),Ue})()},445:(hn,ft,D)=>{D.d(ft,{Is:()=>Fe,Lv:()=>re,vT:()=>pe});var m=D(4650),b=D(6895);const E=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function M(){return(0,m.f3M)(b.K0)}}),de=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function be(X){const se=X?.toLowerCase()||"";return"auto"===se&&typeof navigator<"u"&&navigator?.language?de.test(navigator.language)?"rtl":"ltr":"rtl"===se?"rtl":"ltr"}let Fe=(()=>{class X{constructor(ue){if(this.value="ltr",this.change=new m.vpe,ue){const ze=ue.documentElement?ue.documentElement.dir:null;this.value=be((ue.body?ue.body.dir:null)||ze||"ltr")}}ngOnDestroy(){this.change.complete()}}return X.\u0275fac=function(ue){return new(ue||X)(m.LFG(E,8))},X.\u0275prov=m.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),re=(()=>{class X{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new m.vpe}get dir(){return this._dir}set dir(ue){const Te=this._dir;this._dir=be(ue),this._rawDir=ue,Te!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return X.\u0275fac=function(ue){return new(ue||X)},X.\u0275dir=m.lG2({type:X,selectors:[["","dir",""]],hostVars:1,hostBindings:function(ue,Te){2&ue&&m.uIk("dir",Te._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[m._Bn([{provide:Fe,useExisting:X}])]}),X})(),pe=(()=>{class X{}return X.\u0275fac=function(ue){return new(ue||X)},X.\u0275mod=m.oAB({type:X}),X.\u0275inj=m.cJS({}),X})()},1281:(hn,ft,D)=>{D.d(ft,{Eq:()=>de,HM:()=>be,Ig:()=>b,fI:()=>Fe,su:()=>E});var m=D(4650);function b(pe){return null!=pe&&"false"!=`${pe}`}function E(pe,X=0){return function M(pe){return!isNaN(parseFloat(pe))&&!isNaN(Number(pe))}(pe)?Number(pe):X}function de(pe){return Array.isArray(pe)?pe:[pe]}function be(pe){return null==pe?"":"string"==typeof pe?pe:`${pe}px`}function Fe(pe){return pe instanceof m.SBq?pe.nativeElement:pe}},5017:(hn,ft,D)=>{D.d(ft,{A8:()=>X,Ov:()=>re});var m=D(7579),b=D(4650);class re{constructor(Te=!1,ze,Re=!0,dt){this._multiple=Te,this._emitChanges=Re,this.compareWith=dt,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new m.x,ze&&ze.length&&(Te?ze.forEach(Ye=>this._markSelected(Ye)):this._markSelected(ze[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Te){this._verifyValueAssignment(Te),Te.forEach(Re=>this._markSelected(Re));const ze=this._hasQueuedChanges();return this._emitChangeEvent(),ze}deselect(...Te){this._verifyValueAssignment(Te),Te.forEach(Re=>this._unmarkSelected(Re));const ze=this._hasQueuedChanges();return this._emitChangeEvent(),ze}setSelection(...Te){this._verifyValueAssignment(Te);const ze=this.selected,Re=new Set(Te);Te.forEach(Ye=>this._markSelected(Ye)),ze.filter(Ye=>!Re.has(Ye)).forEach(Ye=>this._unmarkSelected(Ye));const dt=this._hasQueuedChanges();return this._emitChangeEvent(),dt}toggle(Te){return this.isSelected(Te)?this.deselect(Te):this.select(Te)}clear(Te=!0){this._unmarkAll();const ze=this._hasQueuedChanges();return Te&&this._emitChangeEvent(),ze}isSelected(Te){if(this.compareWith){for(const ze of this._selection)if(this.compareWith(ze,Te))return!0;return!1}return this._selection.has(Te)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Te){this._multiple&&this.selected&&this._selected.sort(Te)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Te){this.isSelected(Te)||(this._multiple||this._unmarkAll(),this.isSelected(Te)||this._selection.add(Te),this._emitChanges&&this._selectedToEmit.push(Te))}_unmarkSelected(Te){this.isSelected(Te)&&(this._selection.delete(Te),this._emitChanges&&this._deselectedToEmit.push(Te))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Te=>this._unmarkSelected(Te))}_verifyValueAssignment(Te){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let X=(()=>{class ue{constructor(){this._listeners=[]}notify(ze,Re){for(let dt of this._listeners)dt(ze,Re)}listen(ze){return this._listeners.push(ze),()=>{this._listeners=this._listeners.filter(Re=>ze!==Re)}}ngOnDestroy(){this._listeners=[]}}return ue.\u0275fac=function(ze){return new(ze||ue)},ue.\u0275prov=b.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},9521:(hn,ft,D)=>{D.d(ft,{A:()=>it,JH:()=>Ft,JU:()=>be,K5:()=>de,Ku:()=>Te,LH:()=>Je,L_:()=>ue,MW:()=>mt,Mf:()=>E,SV:()=>$e,Sd:()=>dt,VM:()=>ze,Vb:()=>ds,Z:()=>qe,aO:()=>Sn,b2:()=>Xi,hY:()=>se,jx:()=>Fe,oh:()=>Ye,uR:()=>Re,xE:()=>_e,zL:()=>re});const E=9,de=13,be=16,Fe=17,re=18,se=27,ue=32,Te=33,ze=34,Re=35,dt=36,Ye=37,Je=38,$e=39,Ft=40,_e=48,Sn=57,it=65,qe=90,mt=91,Xi=224;function ds(ki,...$s){return $s.length?$s.some(Ki=>ki[Ki]):ki.altKey||ki.shiftKey||ki.ctrlKey||ki.metaKey}},2289:(hn,ft,D)=>{D.d(ft,{Yg:()=>Ft,u3:()=>Oe});var m=D(4650),b=D(1281),E=D(7579),M=D(9841),de=D(7272),be=D(9751),Fe=D(5698),re=D(5684),pe=D(8372),X=D(4004),se=D(8675),ue=D(2722),Te=D(3353);const Re=new Set;let dt,Ye=(()=>{class ae{constructor(_e){this._platform=_e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$e}matchMedia(_e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Je(ae){if(!Re.has(ae))try{dt||(dt=document.createElement("style"),dt.setAttribute("type","text/css"),document.head.appendChild(dt)),dt.sheet&&(dt.sheet.insertRule(`@media ${ae} {body{ }}`,0),Re.add(ae))}catch(Me){console.error(Me)}}(_e),this._matchMedia(_e)}}return ae.\u0275fac=function(_e){return new(_e||ae)(m.LFG(Te.t4))},ae.\u0275prov=m.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})();function $e(ae){return{matches:"all"===ae||""===ae,media:ae,addListener:()=>{},removeListener:()=>{}}}let Ft=(()=>{class ae{constructor(_e,fe){this._mediaMatcher=_e,this._zone=fe,this._queries=new Map,this._destroySubject=new E.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(_e){return rt((0,b.Eq)(_e)).some(Ge=>this._registerQuery(Ge).mql.matches)}observe(_e){const Ge=rt((0,b.Eq)(_e)).map(Ke=>this._registerQuery(Ke).observable);let Se=(0,M.a)(Ge);return Se=(0,de.z)(Se.pipe((0,Fe.q)(1)),Se.pipe((0,re.T)(1),(0,pe.b)(0))),Se.pipe((0,X.U)(Ke=>{const St={matches:!1,breakpoints:{}};return Ke.forEach(({matches:yt,query:Qt})=>{St.matches=St.matches||yt,St.breakpoints[Qt]=yt}),St}))}_registerQuery(_e){if(this._queries.has(_e))return this._queries.get(_e);const fe=this._mediaMatcher.matchMedia(_e),Se={observable:new be.y(Ke=>{const St=yt=>this._zone.run(()=>Ke.next(yt));return fe.addListener(St),()=>{fe.removeListener(St)}}).pipe((0,se.O)(fe),(0,X.U)(({matches:Ke})=>({query:_e,matches:Ke})),(0,ue.R)(this._destroySubject)),mql:fe};return this._queries.set(_e,Se),Se}}return ae.\u0275fac=function(_e){return new(_e||ae)(m.LFG(Ye),m.LFG(m.R0b))},ae.\u0275prov=m.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})();function rt(ae){return ae.map(Me=>Me.split(",")).reduce((Me,_e)=>Me.concat(_e)).map(Me=>Me.trim())}const Oe={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(hn,ft,D)=>{D.d(ft,{Q8:()=>pe,wD:()=>re});var m=D(1281),b=D(4650),E=D(9751),M=D(7579),de=D(8372);let be=(()=>{class X{create(ue){return typeof MutationObserver>"u"?null:new MutationObserver(ue)}}return X.\u0275fac=function(ue){return new(ue||X)},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),Fe=(()=>{class X{constructor(ue){this._mutationObserverFactory=ue,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ue,Te)=>this._cleanupObserver(Te))}observe(ue){const Te=(0,m.fI)(ue);return new E.y(ze=>{const dt=this._observeElement(Te).subscribe(ze);return()=>{dt.unsubscribe(),this._unobserveElement(Te)}})}_observeElement(ue){if(this._observedElements.has(ue))this._observedElements.get(ue).count++;else{const Te=new M.x,ze=this._mutationObserverFactory.create(Re=>Te.next(Re));ze&&ze.observe(ue,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ue,{observer:ze,stream:Te,count:1})}return this._observedElements.get(ue).stream}_unobserveElement(ue){this._observedElements.has(ue)&&(this._observedElements.get(ue).count--,this._observedElements.get(ue).count||this._cleanupObserver(ue))}_cleanupObserver(ue){if(this._observedElements.has(ue)){const{observer:Te,stream:ze}=this._observedElements.get(ue);Te&&Te.disconnect(),ze.complete(),this._observedElements.delete(ue)}}}return X.\u0275fac=function(ue){return new(ue||X)(b.LFG(be))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),re=(()=>{class X{constructor(ue,Te,ze){this._contentObserver=ue,this._elementRef=Te,this._ngZone=ze,this.event=new b.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(ue){this._disabled=(0,m.Ig)(ue),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ue){this._debounce=(0,m.su)(ue),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ue=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ue.pipe((0,de.b)(this.debounce)):ue).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return X.\u0275fac=function(ue){return new(ue||X)(b.Y36(Fe),b.Y36(b.SBq),b.Y36(b.R0b))},X.\u0275dir=b.lG2({type:X,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),X})(),pe=(()=>{class X{}return X.\u0275fac=function(ue){return new(ue||X)},X.\u0275mod=b.oAB({type:X}),X.\u0275inj=b.cJS({providers:[be]}),X})()},8184:(hn,ft,D)=>{D.d(ft,{Iu:()=>Sn,U8:()=>Cn,X_:()=>Me,Xj:()=>Jt,aV:()=>zt,pI:()=>xn,xu:()=>Vn});var m=D(4098),b=D(6895),E=D(4650),M=D(1281),de=D(3353),be=D(445),Fe=D(4080),re=D(7579),pe=D(727),X=D(6451),se=D(5698),ue=D(2722),Te=D(2529),ze=D(9521);const Re=(0,de.Mq)();class dt{constructor(j,Z){this._viewportRuler=j,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Z}attach(){}enable(){if(this._canBeEnabled()){const j=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=j.style.left||"",this._previousHTMLStyles.top=j.style.top||"",j.style.left=(0,M.HM)(-this._previousScrollPosition.left),j.style.top=(0,M.HM)(-this._previousScrollPosition.top),j.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const j=this._document.documentElement,Ie=j.style,We=this._document.body.style,De=Ie.scrollBehavior||"",z=We.scrollBehavior||"";this._isEnabled=!1,Ie.left=this._previousHTMLStyles.left,Ie.top=this._previousHTMLStyles.top,j.classList.remove("cdk-global-scrollblock"),Re&&(Ie.scrollBehavior=We.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Re&&(Ie.scrollBehavior=De,We.scrollBehavior=z)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Z=this._document.body,Ie=this._viewportRuler.getViewportSize();return Z.scrollHeight>Ie.height||Z.scrollWidth>Ie.width}}class Je{constructor(j,Z,Ie,We){this._scrollDispatcher=j,this._ngZone=Z,this._viewportRuler=Ie,this._config=We,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(j){this._overlayRef=j}enable(){if(this._scrollSubscription)return;const j=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=j.subscribe(()=>{const Z=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Z-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=j.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $e{enable(){}disable(){}attach(){}}function Ft(ht,j){return j.some(Z=>ht.bottom<Z.top||ht.top>Z.bottom||ht.right<Z.left||ht.left>Z.right)}function rt(ht,j){return j.some(Z=>ht.top<Z.top||ht.bottom>Z.bottom||ht.left<Z.left||ht.right>Z.right)}class Oe{constructor(j,Z,Ie,We){this._scrollDispatcher=j,this._viewportRuler=Z,this._ngZone=Ie,this._config=We,this._scrollSubscription=null}attach(j){this._overlayRef=j}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Z=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ie,height:We}=this._viewportRuler.getViewportSize();Ft(Z,[{width:Ie,height:We,bottom:We,right:Ie,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ae=(()=>{class ht{constructor(Z,Ie,We,De){this._scrollDispatcher=Z,this._viewportRuler=Ie,this._ngZone=We,this.noop=()=>new $e,this.close=z=>new Je(this._scrollDispatcher,this._ngZone,this._viewportRuler,z),this.block=()=>new dt(this._viewportRuler,this._document),this.reposition=z=>new Oe(this._scrollDispatcher,this._viewportRuler,this._ngZone,z),this._document=De}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.LFG(m.mF),E.LFG(m.rL),E.LFG(E.R0b),E.LFG(b.K0))},ht.\u0275prov=E.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})();class Me{constructor(j){if(this.scrollStrategy=new $e,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,j){const Z=Object.keys(j);for(const Ie of Z)void 0!==j[Ie]&&(this[Ie]=j[Ie])}}}class Ge{constructor(j,Z){this.connectionPair=j,this.scrollableViewProperties=Z}}let St=(()=>{class ht{constructor(Z){this._attachedOverlays=[],this._document=Z}ngOnDestroy(){this.detach()}add(Z){this.remove(Z),this._attachedOverlays.push(Z)}remove(Z){const Ie=this._attachedOverlays.indexOf(Z);Ie>-1&&this._attachedOverlays.splice(Ie,1),0===this._attachedOverlays.length&&this.detach()}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.LFG(b.K0))},ht.\u0275prov=E.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),yt=(()=>{class ht extends St{constructor(Z,Ie){super(Z),this._ngZone=Ie,this._keydownListener=We=>{const De=this._attachedOverlays;for(let z=De.length-1;z>-1;z--)if(De[z]._keydownEvents.observers.length>0){const ee=De[z]._keydownEvents;this._ngZone?this._ngZone.run(()=>ee.next(We)):ee.next(We);break}}}add(Z){super.add(Z),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.LFG(b.K0),E.LFG(E.R0b,8))},ht.\u0275prov=E.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),Qt=(()=>{class ht extends St{constructor(Z,Ie,We){super(Z),this._platform=Ie,this._ngZone=We,this._cursorStyleIsSet=!1,this._pointerDownListener=De=>{this._pointerDownEventTarget=(0,de.sA)(De)},this._clickListener=De=>{const z=(0,de.sA)(De),ee="click"===De.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:z;this._pointerDownEventTarget=null;const qe=this._attachedOverlays.slice();for(let mt=qe.length-1;mt>-1;mt--){const Pt=qe[mt];if(Pt._outsidePointerEvents.observers.length<1||!Pt.hasAttached())continue;if(Pt.overlayElement.contains(z)||Pt.overlayElement.contains(ee))break;const yn=Pt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>yn.next(De)):yn.next(De)}}}add(Z){if(super.add(Z),!this._isAttached){const Ie=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ie)):this._addEventListeners(Ie),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ie.style.cursor,Ie.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Z=this._document.body;Z.removeEventListener("pointerdown",this._pointerDownListener,!0),Z.removeEventListener("click",this._clickListener,!0),Z.removeEventListener("auxclick",this._clickListener,!0),Z.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Z.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Z){Z.addEventListener("pointerdown",this._pointerDownListener,!0),Z.addEventListener("click",this._clickListener,!0),Z.addEventListener("auxclick",this._clickListener,!0),Z.addEventListener("contextmenu",this._clickListener,!0)}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.LFG(b.K0),E.LFG(de.t4),E.LFG(E.R0b,8))},ht.\u0275prov=E.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),Jt=(()=>{class ht{constructor(Z,Ie){this._platform=Ie,this._document=Z}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Z="cdk-overlay-container";if(this._platform.isBrowser||(0,de.Oy)()){const We=this._document.querySelectorAll(`.${Z}[platform="server"], .${Z}[platform="test"]`);for(let De=0;De<We.length;De++)We[De].remove()}const Ie=this._document.createElement("div");Ie.classList.add(Z),(0,de.Oy)()?Ie.setAttribute("platform","test"):this._platform.isBrowser||Ie.setAttribute("platform","server"),this._document.body.appendChild(Ie),this._containerElement=Ie}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.LFG(b.K0),E.LFG(de.t4))},ht.\u0275prov=E.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})();class Sn{constructor(j,Z,Ie,We,De,z,ee,qe,mt,Pt=!1){this._portalOutlet=j,this._host=Z,this._pane=Ie,this._config=We,this._ngZone=De,this._keyboardDispatcher=z,this._document=ee,this._location=qe,this._outsideClickDispatcher=mt,this._animationsDisabled=Pt,this._backdropElement=null,this._backdropClick=new re.x,this._attachments=new re.x,this._detachments=new re.x,this._locationChanges=pe.w0.EMPTY,this._backdropClickHandler=yn=>this._backdropClick.next(yn),this._backdropTransitionendHandler=yn=>{this._disposeBackdrop(yn.target)},this._keydownEvents=new re.x,this._outsidePointerEvents=new re.x,We.scrollStrategy&&(this._scrollStrategy=We.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=We.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(j){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Z=this._portalOutlet.attach(j);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,se.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Z?.onDestroy&&Z.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Z}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const j=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),j}dispose(){const j=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,j&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(j){j!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=j,this.hasAttached()&&(j.attach(this),this.updatePosition()))}updateSize(j){this._config={...this._config,...j},this._updateElementSize()}setDirection(j){this._config={...this._config,direction:j},this._updateElementDirection()}addPanelClass(j){this._pane&&this._toggleClasses(this._pane,j,!0)}removePanelClass(j){this._pane&&this._toggleClasses(this._pane,j,!1)}getDirection(){const j=this._config.direction;return j?"string"==typeof j?j:j.value:"ltr"}updateScrollStrategy(j){j!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=j,this.hasAttached()&&(j.attach(this),j.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const j=this._pane.style;j.width=(0,M.HM)(this._config.width),j.height=(0,M.HM)(this._config.height),j.minWidth=(0,M.HM)(this._config.minWidth),j.minHeight=(0,M.HM)(this._config.minHeight),j.maxWidth=(0,M.HM)(this._config.maxWidth),j.maxHeight=(0,M.HM)(this._config.maxHeight)}_togglePointerEvents(j){this._pane.style.pointerEvents=j?"":"none"}_attachBackdrop(){const j="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(j)})}):this._backdropElement.classList.add(j)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const j=this._backdropElement;if(j){if(this._animationsDisabled)return void this._disposeBackdrop(j);j.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{j.addEventListener("transitionend",this._backdropTransitionendHandler)}),j.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(j)},500))}}_toggleClasses(j,Z,Ie){const We=(0,M.Eq)(Z||[]).filter(De=>!!De);We.length&&(Ie?j.classList.add(...We):j.classList.remove(...We))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const j=this._ngZone.onStable.pipe((0,ue.R)((0,X.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),j.unsubscribe())})})}_disposeScrollStrategy(){const j=this._scrollStrategy;j&&(j.disable(),j.detach&&j.detach())}_disposeBackdrop(j){j&&(j.removeEventListener("click",this._backdropClickHandler),j.removeEventListener("transitionend",this._backdropTransitionendHandler),j.remove(),this._backdropElement===j&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const xt="cdk-overlay-connected-position-bounding-box",an=/([A-Za-z%]+)$/;class ne{constructor(j,Z,Ie,We,De){this._viewportRuler=Z,this._document=Ie,this._platform=We,this._overlayContainer=De,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new re.x,this._resizeSubscription=pe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(j)}get positions(){return this._preferredPositions}attach(j){this._validatePositions(),j.hostElement.classList.add(xt),this._overlayRef=j,this._boundingBox=j.hostElement,this._pane=j.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const j=this._originRect,Z=this._overlayRect,Ie=this._viewportRect,We=this._containerRect,De=[];let z;for(let ee of this._preferredPositions){let qe=this._getOriginPoint(j,We,ee),mt=this._getOverlayPoint(qe,Z,ee),Pt=this._getOverlayFit(mt,Z,Ie,ee);if(Pt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ee,qe);this._canFitWithFlexibleDimensions(Pt,mt,Ie)?De.push({position:ee,origin:qe,overlayRect:Z,boundingBoxRect:this._calculateBoundingBoxRect(qe,ee)}):(!z||z.overlayFit.visibleArea<Pt.visibleArea)&&(z={overlayFit:Pt,overlayPoint:mt,originPoint:qe,position:ee,overlayRect:Z})}if(De.length){let ee=null,qe=-1;for(const mt of De){const Pt=mt.boundingBoxRect.width*mt.boundingBoxRect.height*(mt.position.weight||1);Pt>qe&&(qe=Pt,ee=mt)}return this._isPushed=!1,void this._applyPosition(ee.position,ee.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(z.position,z.originPoint);this._applyPosition(z.position,z.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&at(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const j=this._lastPosition;if(j){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Z=this._getOriginPoint(this._originRect,this._containerRect,j);this._applyPosition(j,Z)}else this.apply()}withScrollableContainers(j){return this._scrollables=j,this}withPositions(j){return this._preferredPositions=j,-1===j.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(j){return this._viewportMargin=j,this}withFlexibleDimensions(j=!0){return this._hasFlexibleDimensions=j,this}withGrowAfterOpen(j=!0){return this._growAfterOpen=j,this}withPush(j=!0){return this._canPush=j,this}withLockedPosition(j=!0){return this._positionLocked=j,this}setOrigin(j){return this._origin=j,this}withDefaultOffsetX(j){return this._offsetX=j,this}withDefaultOffsetY(j){return this._offsetY=j,this}withTransformOriginOn(j){return this._transformOriginSelector=j,this}_getOriginPoint(j,Z,Ie){let We,De;if("center"==Ie.originX)We=j.left+j.width/2;else{const z=this._isRtl()?j.right:j.left,ee=this._isRtl()?j.left:j.right;We="start"==Ie.originX?z:ee}return Z.left<0&&(We-=Z.left),De="center"==Ie.originY?j.top+j.height/2:"top"==Ie.originY?j.top:j.bottom,Z.top<0&&(De-=Z.top),{x:We,y:De}}_getOverlayPoint(j,Z,Ie){let We,De;return We="center"==Ie.overlayX?-Z.width/2:"start"===Ie.overlayX?this._isRtl()?-Z.width:0:this._isRtl()?0:-Z.width,De="center"==Ie.overlayY?-Z.height/2:"top"==Ie.overlayY?0:-Z.height,{x:j.x+We,y:j.y+De}}_getOverlayFit(j,Z,Ie,We){const De=Bt(Z);let{x:z,y:ee}=j,qe=this._getOffset(We,"x"),mt=this._getOffset(We,"y");qe&&(z+=qe),mt&&(ee+=mt);let qn=0-ee,un=ee+De.height-Ie.height,Wn=this._subtractOverflows(De.width,0-z,z+De.width-Ie.width),Tn=this._subtractOverflows(De.height,qn,un),ui=Wn*Tn;return{visibleArea:ui,isCompletelyWithinViewport:De.width*De.height===ui,fitsInViewportVertically:Tn===De.height,fitsInViewportHorizontally:Wn==De.width}}_canFitWithFlexibleDimensions(j,Z,Ie){if(this._hasFlexibleDimensions){const We=Ie.bottom-Z.y,De=Ie.right-Z.x,z=it(this._overlayRef.getConfig().minHeight),ee=it(this._overlayRef.getConfig().minWidth),mt=j.fitsInViewportHorizontally||null!=ee&&ee<=De;return(j.fitsInViewportVertically||null!=z&&z<=We)&&mt}return!1}_pushOverlayOnScreen(j,Z,Ie){if(this._previousPushAmount&&this._positionLocked)return{x:j.x+this._previousPushAmount.x,y:j.y+this._previousPushAmount.y};const We=Bt(Z),De=this._viewportRect,z=Math.max(j.x+We.width-De.width,0),ee=Math.max(j.y+We.height-De.height,0),qe=Math.max(De.top-Ie.top-j.y,0),mt=Math.max(De.left-Ie.left-j.x,0);let Pt=0,yn=0;return Pt=We.width<=De.width?mt||-z:j.x<this._viewportMargin?De.left-Ie.left-j.x:0,yn=We.height<=De.height?qe||-ee:j.y<this._viewportMargin?De.top-Ie.top-j.y:0,this._previousPushAmount={x:Pt,y:yn},{x:j.x+Pt,y:j.y+yn}}_applyPosition(j,Z){if(this._setTransformOrigin(j),this._setOverlayElementStyles(Z,j),this._setBoundingBoxStyles(Z,j),j.panelClass&&this._addPanelClasses(j.panelClass),this._lastPosition=j,this._positionChanges.observers.length){const Ie=this._getScrollVisibility(),We=new Ge(j,Ie);this._positionChanges.next(We)}this._isInitialRender=!1}_setTransformOrigin(j){if(!this._transformOriginSelector)return;const Z=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ie,We=j.overlayY;Ie="center"===j.overlayX?"center":this._isRtl()?"start"===j.overlayX?"right":"left":"start"===j.overlayX?"left":"right";for(let De=0;De<Z.length;De++)Z[De].style.transformOrigin=`${Ie} ${We}`}_calculateBoundingBoxRect(j,Z){const Ie=this._viewportRect,We=this._isRtl();let De,z,ee,Pt,yn,qn;if("top"===Z.overlayY)z=j.y,De=Ie.height-z+this._viewportMargin;else if("bottom"===Z.overlayY)ee=Ie.height-j.y+2*this._viewportMargin,De=Ie.height-ee+this._viewportMargin;else{const un=Math.min(Ie.bottom-j.y+Ie.top,j.y),Wn=this._lastBoundingBoxSize.height;De=2*un,z=j.y-un,De>Wn&&!this._isInitialRender&&!this._growAfterOpen&&(z=j.y-Wn/2)}if("end"===Z.overlayX&&!We||"start"===Z.overlayX&&We)qn=Ie.width-j.x+this._viewportMargin,Pt=j.x-this._viewportMargin;else if("start"===Z.overlayX&&!We||"end"===Z.overlayX&&We)yn=j.x,Pt=Ie.right-j.x;else{const un=Math.min(Ie.right-j.x+Ie.left,j.x),Wn=this._lastBoundingBoxSize.width;Pt=2*un,yn=j.x-un,Pt>Wn&&!this._isInitialRender&&!this._growAfterOpen&&(yn=j.x-Wn/2)}return{top:z,left:yn,bottom:ee,right:qn,width:Pt,height:De}}_setBoundingBoxStyles(j,Z){const Ie=this._calculateBoundingBoxRect(j,Z);!this._isInitialRender&&!this._growAfterOpen&&(Ie.height=Math.min(Ie.height,this._lastBoundingBoxSize.height),Ie.width=Math.min(Ie.width,this._lastBoundingBoxSize.width));const We={};if(this._hasExactPosition())We.top=We.left="0",We.bottom=We.right=We.maxHeight=We.maxWidth="",We.width=We.height="100%";else{const De=this._overlayRef.getConfig().maxHeight,z=this._overlayRef.getConfig().maxWidth;We.height=(0,M.HM)(Ie.height),We.top=(0,M.HM)(Ie.top),We.bottom=(0,M.HM)(Ie.bottom),We.width=(0,M.HM)(Ie.width),We.left=(0,M.HM)(Ie.left),We.right=(0,M.HM)(Ie.right),We.alignItems="center"===Z.overlayX?"center":"end"===Z.overlayX?"flex-end":"flex-start",We.justifyContent="center"===Z.overlayY?"center":"bottom"===Z.overlayY?"flex-end":"flex-start",De&&(We.maxHeight=(0,M.HM)(De)),z&&(We.maxWidth=(0,M.HM)(z))}this._lastBoundingBoxSize=Ie,at(this._boundingBox.style,We)}_resetBoundingBoxStyles(){at(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){at(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(j,Z){const Ie={},We=this._hasExactPosition(),De=this._hasFlexibleDimensions,z=this._overlayRef.getConfig();if(We){const Pt=this._viewportRuler.getViewportScrollPosition();at(Ie,this._getExactOverlayY(Z,j,Pt)),at(Ie,this._getExactOverlayX(Z,j,Pt))}else Ie.position="static";let ee="",qe=this._getOffset(Z,"x"),mt=this._getOffset(Z,"y");qe&&(ee+=`translateX(${qe}px) `),mt&&(ee+=`translateY(${mt}px)`),Ie.transform=ee.trim(),z.maxHeight&&(We?Ie.maxHeight=(0,M.HM)(z.maxHeight):De&&(Ie.maxHeight="")),z.maxWidth&&(We?Ie.maxWidth=(0,M.HM)(z.maxWidth):De&&(Ie.maxWidth="")),at(this._pane.style,Ie)}_getExactOverlayY(j,Z,Ie){let We={top:"",bottom:""},De=this._getOverlayPoint(Z,this._overlayRect,j);return this._isPushed&&(De=this._pushOverlayOnScreen(De,this._overlayRect,Ie)),"bottom"===j.overlayY?We.bottom=this._document.documentElement.clientHeight-(De.y+this._overlayRect.height)+"px":We.top=(0,M.HM)(De.y),We}_getExactOverlayX(j,Z,Ie){let z,We={left:"",right:""},De=this._getOverlayPoint(Z,this._overlayRect,j);return this._isPushed&&(De=this._pushOverlayOnScreen(De,this._overlayRect,Ie)),z=this._isRtl()?"end"===j.overlayX?"left":"right":"end"===j.overlayX?"right":"left","right"===z?We.right=this._document.documentElement.clientWidth-(De.x+this._overlayRect.width)+"px":We.left=(0,M.HM)(De.x),We}_getScrollVisibility(){const j=this._getOriginRect(),Z=this._pane.getBoundingClientRect(),Ie=this._scrollables.map(We=>We.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:rt(j,Ie),isOriginOutsideView:Ft(j,Ie),isOverlayClipped:rt(Z,Ie),isOverlayOutsideView:Ft(Z,Ie)}}_subtractOverflows(j,...Z){return Z.reduce((Ie,We)=>Ie-Math.max(We,0),j)}_getNarrowedViewportRect(){const j=this._document.documentElement.clientWidth,Z=this._document.documentElement.clientHeight,Ie=this._viewportRuler.getViewportScrollPosition();return{top:Ie.top+this._viewportMargin,left:Ie.left+this._viewportMargin,right:Ie.left+j-this._viewportMargin,bottom:Ie.top+Z-this._viewportMargin,width:j-2*this._viewportMargin,height:Z-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(j,Z){return"x"===Z?j.offsetX??this._offsetX:j.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(j){this._pane&&(0,M.Eq)(j).forEach(Z=>{""!==Z&&-1===this._appliedPanelClasses.indexOf(Z)&&(this._appliedPanelClasses.push(Z),this._pane.classList.add(Z))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(j=>{this._pane.classList.remove(j)}),this._appliedPanelClasses=[])}_getOriginRect(){const j=this._origin;if(j instanceof E.SBq)return j.nativeElement.getBoundingClientRect();if(j instanceof Element)return j.getBoundingClientRect();const Z=j.width||0,Ie=j.height||0;return{top:j.y,bottom:j.y+Ie,left:j.x,right:j.x+Z,height:Ie,width:Z}}}function at(ht,j){for(let Z in j)j.hasOwnProperty(Z)&&(ht[Z]=j[Z]);return ht}function it(ht){if("number"!=typeof ht&&null!=ht){const[j,Z]=ht.split(an);return Z&&"px"!==Z?null:parseFloat(j)}return ht||null}function Bt(ht){return{top:Math.floor(ht.top),right:Math.floor(ht.right),bottom:Math.floor(ht.bottom),left:Math.floor(ht.left),width:Math.floor(ht.width),height:Math.floor(ht.height)}}const xe="cdk-global-overlay-wrapper";class ve{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(j){const Z=j.getConfig();this._overlayRef=j,this._width&&!Z.width&&j.updateSize({width:this._width}),this._height&&!Z.height&&j.updateSize({height:this._height}),j.hostElement.classList.add(xe),this._isDisposed=!1}top(j=""){return this._bottomOffset="",this._topOffset=j,this._alignItems="flex-start",this}left(j=""){return this._xOffset=j,this._xPosition="left",this}bottom(j=""){return this._topOffset="",this._bottomOffset=j,this._alignItems="flex-end",this}right(j=""){return this._xOffset=j,this._xPosition="right",this}start(j=""){return this._xOffset=j,this._xPosition="start",this}end(j=""){return this._xOffset=j,this._xPosition="end",this}width(j=""){return this._overlayRef?this._overlayRef.updateSize({width:j}):this._width=j,this}height(j=""){return this._overlayRef?this._overlayRef.updateSize({height:j}):this._height=j,this}centerHorizontally(j=""){return this.left(j),this._xPosition="center",this}centerVertically(j=""){return this.top(j),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const j=this._overlayRef.overlayElement.style,Z=this._overlayRef.hostElement.style,Ie=this._overlayRef.getConfig(),{width:We,height:De,maxWidth:z,maxHeight:ee}=Ie,qe=!("100%"!==We&&"100vw"!==We||z&&"100%"!==z&&"100vw"!==z),mt=!("100%"!==De&&"100vh"!==De||ee&&"100%"!==ee&&"100vh"!==ee),Pt=this._xPosition,yn=this._xOffset,qn="rtl"===this._overlayRef.getConfig().direction;let un="",Wn="",Tn="";qe?Tn="flex-start":"center"===Pt?(Tn="center",qn?Wn=yn:un=yn):qn?"left"===Pt||"end"===Pt?(Tn="flex-end",un=yn):("right"===Pt||"start"===Pt)&&(Tn="flex-start",Wn=yn):"left"===Pt||"start"===Pt?(Tn="flex-start",un=yn):("right"===Pt||"end"===Pt)&&(Tn="flex-end",Wn=yn),j.position=this._cssPosition,j.marginLeft=qe?"0":un,j.marginTop=mt?"0":this._topOffset,j.marginBottom=this._bottomOffset,j.marginRight=qe?"0":Wn,Z.justifyContent=Tn,Z.alignItems=mt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const j=this._overlayRef.overlayElement.style,Z=this._overlayRef.hostElement,Ie=Z.style;Z.classList.remove(xe),Ie.justifyContent=Ie.alignItems=j.marginTop=j.marginBottom=j.marginLeft=j.marginRight=j.position="",this._overlayRef=null,this._isDisposed=!0}}let Ct=(()=>{class ht{constructor(Z,Ie,We,De){this._viewportRuler=Z,this._document=Ie,this._platform=We,this._overlayContainer=De}global(){return new ve}flexibleConnectedTo(Z){return new ne(Z,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.LFG(m.rL),E.LFG(b.K0),E.LFG(de.t4),E.LFG(Jt))},ht.\u0275prov=E.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),Lt=0,zt=(()=>{class ht{constructor(Z,Ie,We,De,z,ee,qe,mt,Pt,yn,qn,un){this.scrollStrategies=Z,this._overlayContainer=Ie,this._componentFactoryResolver=We,this._positionBuilder=De,this._keyboardDispatcher=z,this._injector=ee,this._ngZone=qe,this._document=mt,this._directionality=Pt,this._location=yn,this._outsideClickDispatcher=qn,this._animationsModuleType=un}create(Z){const Ie=this._createHostElement(),We=this._createPaneElement(Ie),De=this._createPortalOutlet(We),z=new Me(Z);return z.direction=z.direction||this._directionality.value,new Sn(De,Ie,We,z,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Z){const Ie=this._document.createElement("div");return Ie.id="cdk-overlay-"+Lt++,Ie.classList.add("cdk-overlay-pane"),Z.appendChild(Ie),Ie}_createHostElement(){const Z=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Z),Z}_createPortalOutlet(Z){return this._appRef||(this._appRef=this._injector.get(E.z2F)),new Fe.u0(Z,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.LFG(ae),E.LFG(Jt),E.LFG(E._Vd),E.LFG(Ct),E.LFG(yt),E.LFG(E.zs3),E.LFG(E.R0b),E.LFG(b.K0),E.LFG(be.Is),E.LFG(b.Ye),E.LFG(Qt),E.LFG(E.QbO,8))},ht.\u0275prov=E.Yz7({token:ht,factory:ht.\u0275fac}),ht})();const An=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Pn=new E.OlP("cdk-connected-overlay-scroll-strategy");let Vn=(()=>{class ht{constructor(Z){this.elementRef=Z}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.Y36(E.SBq))},ht.\u0275dir=E.lG2({type:ht,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),ht})(),xn=(()=>{class ht{constructor(Z,Ie,We,De,z){this._overlay=Z,this._dir=z,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=pe.w0.EMPTY,this._attachSubscription=pe.w0.EMPTY,this._detachSubscription=pe.w0.EMPTY,this._positionSubscription=pe.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new E.vpe,this.positionChange=new E.vpe,this.attach=new E.vpe,this.detach=new E.vpe,this.overlayKeydown=new E.vpe,this.overlayOutsideClick=new E.vpe,this._templatePortal=new Fe.UE(Ie,We),this._scrollStrategyFactory=De,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(Z){this._offsetX=Z,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Z){this._offsetY=Z,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Z){this._hasBackdrop=(0,M.Ig)(Z)}get lockPosition(){return this._lockPosition}set lockPosition(Z){this._lockPosition=(0,M.Ig)(Z)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Z){this._flexibleDimensions=(0,M.Ig)(Z)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Z){this._growAfterOpen=(0,M.Ig)(Z)}get push(){return this._push}set push(Z){this._push=(0,M.Ig)(Z)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Z){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Z.origin&&this.open&&this._position.apply()),Z.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=An);const Z=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Z.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Z.detachments().subscribe(()=>this.detach.emit()),Z.keydownEvents().subscribe(Ie=>{this.overlayKeydown.next(Ie),Ie.keyCode===ze.hY&&!this.disableClose&&!(0,ze.Vb)(Ie)&&(Ie.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ie=>{this.overlayOutsideClick.next(Ie)})}_buildConfig(){const Z=this._position=this.positionStrategy||this._createPositionStrategy(),Ie=new Me({direction:this._dir,positionStrategy:Z,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ie.width=this.width),(this.height||0===this.height)&&(Ie.height=this.height),(this.minWidth||0===this.minWidth)&&(Ie.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ie.minHeight=this.minHeight),this.backdropClass&&(Ie.backdropClass=this.backdropClass),this.panelClass&&(Ie.panelClass=this.panelClass),Ie}_updatePositionStrategy(Z){const Ie=this.positions.map(We=>({originX:We.originX,originY:We.originY,overlayX:We.overlayX,overlayY:We.overlayY,offsetX:We.offsetX||this.offsetX,offsetY:We.offsetY||this.offsetY,panelClass:We.panelClass||void 0}));return Z.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ie).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Z=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Z),Z}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Vn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Z=>{this.backdropClick.emit(Z)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,Te.o)(()=>this.positionChange.observers.length>0)).subscribe(Z=>{this.positionChange.emit(Z),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.Y36(zt),E.Y36(E.Rgc),E.Y36(E.s_b),E.Y36(Pn),E.Y36(be.Is,8))},ht.\u0275dir=E.lG2({type:ht,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[E.TTD]}),ht})();const ci={provide:Pn,deps:[zt],useFactory:function ii(ht){return()=>ht.scrollStrategies.reposition()}};let Cn=(()=>{class ht{}return ht.\u0275fac=function(Z){return new(Z||ht)},ht.\u0275mod=E.oAB({type:ht}),ht.\u0275inj=E.cJS({providers:[zt,ci],imports:[be.vT,Fe.eL,m.Cl,m.Cl]}),ht})()},3353:(hn,ft,D)=>{D.d(ft,{Mq:()=>ze,Oy:()=>rt,ht:()=>$e,i$:()=>se,kV:()=>Je,qK:()=>re,sA:()=>Ft,t4:()=>M});var m=D(4650),b=D(6895);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let be,M=(()=>{class Oe{constructor(Me){this._platformId=Me,this.isBrowser=this._platformId?(0,b.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Oe.\u0275fac=function(Me){return new(Me||Oe)(m.LFG(m.Lbi))},Oe.\u0275prov=m.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})();const Fe=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function re(){if(be)return be;if("object"!=typeof document||!document)return be=new Set(Fe),be;let Oe=document.createElement("input");return be=new Set(Fe.filter(ae=>(Oe.setAttribute("type",ae),Oe.type===ae))),be}let pe,Te,dt;function se(Oe){return function X(){if(null==pe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pe=!0}))}finally{pe=pe||!1}return pe}()?Oe:!!Oe.capture}function ze(){if(null==Te){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Te=!1,Te;if("scrollBehavior"in document.documentElement.style)Te=!0;else{const Oe=Element.prototype.scrollTo;Te=!!Oe&&!/\{\s*\[native code\]\s*\}/.test(Oe.toString())}}return Te}function Je(Oe){if(function Ye(){if(null==dt){const Oe=typeof document<"u"?document.head:null;dt=!(!Oe||!Oe.createShadowRoot&&!Oe.attachShadow)}return dt}()){const ae=Oe.getRootNode?Oe.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ae instanceof ShadowRoot)return ae}return null}function $e(){let Oe=typeof document<"u"&&document?document.activeElement:null;for(;Oe&&Oe.shadowRoot;){const ae=Oe.shadowRoot.activeElement;if(ae===Oe)break;Oe=ae}return Oe}function Ft(Oe){return Oe.composedPath?Oe.composedPath()[0]:Oe.target}function rt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(hn,ft,D)=>{D.d(ft,{C5:()=>X,Pl:()=>$e,UE:()=>se,eL:()=>rt,en:()=>Te,u0:()=>Re});var m=D(4650),b=D(6895);class pe{attach(Me){return this._attachedHost=Me,Me.attach(this)}detach(){let Me=this._attachedHost;null!=Me&&(this._attachedHost=null,Me.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Me){this._attachedHost=Me}}class X extends pe{constructor(Me,_e,fe,Ge){super(),this.component=Me,this.viewContainerRef=_e,this.injector=fe,this.componentFactoryResolver=Ge}}class se extends pe{constructor(Me,_e,fe,Ge){super(),this.templateRef=Me,this.viewContainerRef=_e,this.context=fe,this.injector=Ge}get origin(){return this.templateRef.elementRef}attach(Me,_e=this.context){return this.context=_e,super.attach(Me)}detach(){return this.context=void 0,super.detach()}}class ue extends pe{constructor(Me){super(),this.element=Me instanceof m.SBq?Me.nativeElement:Me}}class Te{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Me){return Me instanceof X?(this._attachedPortal=Me,this.attachComponentPortal(Me)):Me instanceof se?(this._attachedPortal=Me,this.attachTemplatePortal(Me)):this.attachDomPortal&&Me instanceof ue?(this._attachedPortal=Me,this.attachDomPortal(Me)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Me){this._disposeFn=Me}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Re extends Te{constructor(Me,_e,fe,Ge,Se){super(),this.outletElement=Me,this._componentFactoryResolver=_e,this._appRef=fe,this._defaultInjector=Ge,this.attachDomPortal=Ke=>{const St=Ke.element,yt=this._document.createComment("dom-portal");St.parentNode.insertBefore(yt,St),this.outletElement.appendChild(St),this._attachedPortal=Ke,super.setDisposeFn(()=>{yt.parentNode&&yt.parentNode.replaceChild(St,yt)})},this._document=Se}attachComponentPortal(Me){const fe=(Me.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Me.component);let Ge;return Me.viewContainerRef?(Ge=Me.viewContainerRef.createComponent(fe,Me.viewContainerRef.length,Me.injector||Me.viewContainerRef.injector),this.setDisposeFn(()=>Ge.destroy())):(Ge=fe.create(Me.injector||this._defaultInjector||m.zs3.NULL),this._appRef.attachView(Ge.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ge.hostView),Ge.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ge)),this._attachedPortal=Me,Ge}attachTemplatePortal(Me){let _e=Me.viewContainerRef,fe=_e.createEmbeddedView(Me.templateRef,Me.context,{injector:Me.injector});return fe.rootNodes.forEach(Ge=>this.outletElement.appendChild(Ge)),fe.detectChanges(),this.setDisposeFn(()=>{let Ge=_e.indexOf(fe);-1!==Ge&&_e.remove(Ge)}),this._attachedPortal=Me,fe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Me){return Me.hostView.rootNodes[0]}}let $e=(()=>{class ae extends Te{constructor(_e,fe,Ge){super(),this._componentFactoryResolver=_e,this._viewContainerRef=fe,this._isInitialized=!1,this.attached=new m.vpe,this.attachDomPortal=Se=>{const Ke=Se.element,St=this._document.createComment("dom-portal");Se.setAttachedHost(this),Ke.parentNode.insertBefore(St,Ke),this._getRootNode().appendChild(Ke),this._attachedPortal=Se,super.setDisposeFn(()=>{St.parentNode&&St.parentNode.replaceChild(Ke,St)})},this._document=Ge}get portal(){return this._attachedPortal}set portal(_e){this.hasAttached()&&!_e&&!this._isInitialized||(this.hasAttached()&&super.detach(),_e&&super.attach(_e),this._attachedPortal=_e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(_e){_e.setAttachedHost(this);const fe=null!=_e.viewContainerRef?_e.viewContainerRef:this._viewContainerRef,Se=(_e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(_e.component),Ke=fe.createComponent(Se,fe.length,_e.injector||fe.injector);return fe!==this._viewContainerRef&&this._getRootNode().appendChild(Ke.hostView.rootNodes[0]),super.setDisposeFn(()=>Ke.destroy()),this._attachedPortal=_e,this._attachedRef=Ke,this.attached.emit(Ke),Ke}attachTemplatePortal(_e){_e.setAttachedHost(this);const fe=this._viewContainerRef.createEmbeddedView(_e.templateRef,_e.context,{injector:_e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=_e,this._attachedRef=fe,this.attached.emit(fe),fe}_getRootNode(){const _e=this._viewContainerRef.element.nativeElement;return _e.nodeType===_e.ELEMENT_NODE?_e:_e.parentNode}}return ae.\u0275fac=function(_e){return new(_e||ae)(m.Y36(m._Vd),m.Y36(m.s_b),m.Y36(b.K0))},ae.\u0275dir=m.lG2({type:ae,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[m.qOj]}),ae})(),rt=(()=>{class ae{}return ae.\u0275fac=function(_e){return new(_e||ae)},ae.\u0275mod=m.oAB({type:ae}),ae.\u0275inj=m.cJS({}),ae})()},4098:(hn,ft,D)=>{D.d(ft,{ZD:()=>Bt,mF:()=>Ge,Cl:()=>Ce,rL:()=>St});var m=D(1281),b=D(4650),E=D(7579),M=D(9646),de=D(9751),be=D(4968),pe=(D(6406),D(3101),D(4986)),X=D(4482),se=D(8421),ue=D(5403),ze=D(5963);function Re(st,xe=pe.z){return function Te(st){return(0,X.e)((xe,ve)=>{let Ct=!1,Lt=null,zt=null,An=!1;const Pn=()=>{if(zt?.unsubscribe(),zt=null,Ct){Ct=!1;const xn=Lt;Lt=null,ve.next(xn)}An&&ve.complete()},Vn=()=>{zt=null,An&&ve.complete()};xe.subscribe((0,ue.x)(ve,xn=>{Ct=!0,Lt=xn,zt||(0,se.Xf)(st(xn)).subscribe(zt=(0,ue.x)(ve,Pn,Vn))},()=>{An=!0,(!Ct||!zt||zt.closed)&&ve.complete()}))})}(()=>(0,ze.H)(st,xe))}var dt=D(9300),Ye=D(3353),Je=D(6895),$e=D(445);let Ge=(()=>{class st{constructor(ve,Ct,Lt){this._ngZone=ve,this._platform=Ct,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Lt}register(ve){this.scrollContainers.has(ve)||this.scrollContainers.set(ve,ve.elementScrolled().subscribe(()=>this._scrolled.next(ve)))}deregister(ve){const Ct=this.scrollContainers.get(ve);Ct&&(Ct.unsubscribe(),this.scrollContainers.delete(ve))}scrolled(ve=20){return this._platform.isBrowser?new de.y(Ct=>{this._globalSubscription||this._addGlobalListener();const Lt=ve>0?this._scrolled.pipe(Re(ve)).subscribe(Ct):this._scrolled.subscribe(Ct);return this._scrolledCount++,()=>{Lt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,M.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ve,Ct)=>this.deregister(Ct)),this._scrolled.complete()}ancestorScrolled(ve,Ct){const Lt=this.getAncestorScrollContainers(ve);return this.scrolled(Ct).pipe((0,dt.h)(zt=>!zt||Lt.indexOf(zt)>-1))}getAncestorScrollContainers(ve){const Ct=[];return this.scrollContainers.forEach((Lt,zt)=>{this._scrollableContainsElement(zt,ve)&&Ct.push(zt)}),Ct}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ve,Ct){let Lt=(0,m.fI)(Ct),zt=ve.getElementRef().nativeElement;do{if(Lt==zt)return!0}while(Lt=Lt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ve=this._getWindow();return(0,be.R)(ve.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return st.\u0275fac=function(ve){return new(ve||st)(b.LFG(b.R0b),b.LFG(Ye.t4),b.LFG(Je.K0,8))},st.\u0275prov=b.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})(),St=(()=>{class st{constructor(ve,Ct,Lt){this._platform=ve,this._change=new E.x,this._changeListener=zt=>{this._change.next(zt)},this._document=Lt,Ct.runOutsideAngular(()=>{if(ve.isBrowser){const zt=this._getWindow();zt.addEventListener("resize",this._changeListener),zt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ve=this._getWindow();ve.removeEventListener("resize",this._changeListener),ve.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ve={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ve}getViewportRect(){const ve=this.getViewportScrollPosition(),{width:Ct,height:Lt}=this.getViewportSize();return{top:ve.top,left:ve.left,bottom:ve.top+Lt,right:ve.left+Ct,height:Lt,width:Ct}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ve=this._document,Ct=this._getWindow(),Lt=ve.documentElement,zt=Lt.getBoundingClientRect();return{top:-zt.top||ve.body.scrollTop||Ct.scrollY||Lt.scrollTop||0,left:-zt.left||ve.body.scrollLeft||Ct.scrollX||Lt.scrollLeft||0}}change(ve=20){return ve>0?this._change.pipe(Re(ve)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ve=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ve.innerWidth,height:ve.innerHeight}:{width:0,height:0}}}return st.\u0275fac=function(ve){return new(ve||st)(b.LFG(Ye.t4),b.LFG(b.R0b),b.LFG(Je.K0,8))},st.\u0275prov=b.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})(),Bt=(()=>{class st{}return st.\u0275fac=function(ve){return new(ve||st)},st.\u0275mod=b.oAB({type:st}),st.\u0275inj=b.cJS({}),st})(),Ce=(()=>{class st{}return st.\u0275fac=function(ve){return new(ve||st)},st.\u0275mod=b.oAB({type:st}),st.\u0275inj=b.cJS({imports:[$e.vT,Bt,$e.vT,Bt]}),st})()},6895:(hn,ft,D)=>{D.d(ft,{Do:()=>Ft,ED:()=>Ks,EM:()=>Yn,HT:()=>de,JF:()=>kr,K0:()=>Fe,Mx:()=>ns,NF:()=>Mt,O5:()=>ki,Ov:()=>gn,PC:()=>jt,PM:()=>G,RF:()=>Ws,S$:()=>Ye,V_:()=>X,Ye:()=>rt,b0:()=>$e,bD:()=>Os,ez:()=>xa,mk:()=>Ti,n9:()=>$r,q:()=>E,sg:()=>Fr,w_:()=>be});var m=D(4650);let b=null;function E(){return b}function de(F){b||(b=F)}class be{}const Fe=new m.OlP("DocumentToken");let re=(()=>{class F{historyGo(H){throw new Error("Not implemented")}}return F.\u0275fac=function(H){return new(H||F)},F.\u0275prov=m.Yz7({token:F,factory:function(){return function pe(){return(0,m.LFG)(se)}()},providedIn:"platform"}),F})();const X=new m.OlP("Location Initialized");let se=(()=>{class F extends re{constructor(H){super(),this._doc=H,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(H){const ye=E().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("popstate",H,!1),()=>ye.removeEventListener("popstate",H)}onHashChange(H){const ye=E().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("hashchange",H,!1),()=>ye.removeEventListener("hashchange",H)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(H){this.location.pathname=H}pushState(H,ye,vt){ue()?this._history.pushState(H,ye,vt):this.location.hash=vt}replaceState(H,ye,vt){ue()?this._history.replaceState(H,ye,vt):this.location.hash=vt}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return F.\u0275fac=function(H){return new(H||F)(m.LFG(Fe))},F.\u0275prov=m.Yz7({token:F,factory:function(){return function Te(){return new se((0,m.LFG)(Fe))}()},providedIn:"platform"}),F})();function ue(){return!!window.history.pushState}function ze(F,te){if(0==F.length)return te;if(0==te.length)return F;let H=0;return F.endsWith("/")&&H++,te.startsWith("/")&&H++,2==H?F+te.substring(1):1==H?F+te:F+"/"+te}function Re(F){const te=F.match(/#|\?|$/),H=te&&te.index||F.length;return F.slice(0,H-("/"===F[H-1]?1:0))+F.slice(H)}function dt(F){return F&&"?"!==F[0]?"?"+F:F}let Ye=(()=>{class F{historyGo(H){throw new Error("Not implemented")}}return F.\u0275fac=function(H){return new(H||F)},F.\u0275prov=m.Yz7({token:F,factory:function(){return(0,m.f3M)($e)},providedIn:"root"}),F})();const Je=new m.OlP("appBaseHref");let $e=(()=>{class F extends Ye{constructor(H,ye){super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=ye??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return ze(this._baseHref,H)}path(H=!1){const ye=this._platformLocation.pathname+dt(this._platformLocation.search),vt=this._platformLocation.hash;return vt&&H?`${ye}${vt}`:ye}pushState(H,ye,vt,Zt){const dn=this.prepareExternalUrl(vt+dt(Zt));this._platformLocation.pushState(H,ye,dn)}replaceState(H,ye,vt,Zt){const dn=this.prepareExternalUrl(vt+dt(Zt));this._platformLocation.replaceState(H,ye,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return F.\u0275fac=function(H){return new(H||F)(m.LFG(re),m.LFG(Je,8))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Ft=(()=>{class F extends Ye{constructor(H,ye){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=ye&&(this._baseHref=ye)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let ye=this._platformLocation.hash;return null==ye&&(ye="#"),ye.length>0?ye.substring(1):ye}prepareExternalUrl(H){const ye=ze(this._baseHref,H);return ye.length>0?"#"+ye:ye}pushState(H,ye,vt,Zt){let dn=this.prepareExternalUrl(vt+dt(Zt));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.pushState(H,ye,dn)}replaceState(H,ye,vt,Zt){let dn=this.prepareExternalUrl(vt+dt(Zt));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.replaceState(H,ye,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return F.\u0275fac=function(H){return new(H||F)(m.LFG(re),m.LFG(Je,8))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac}),F})(),rt=(()=>{class F{constructor(H){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const ye=this._locationStrategy.getBaseHref();this._baseHref=Re(Me(ye)),this._locationStrategy.onPopState(vt=>{this._subject.emit({url:this.path(!0),pop:!0,state:vt.state,type:vt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,ye=""){return this.path()==this.normalize(H+dt(ye))}normalize(H){return F.stripTrailingSlash(function ae(F,te){return F&&te.startsWith(F)?te.substring(F.length):te}(this._baseHref,Me(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,ye="",vt=null){this._locationStrategy.pushState(vt,"",H,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+dt(ye)),vt)}replaceState(H,ye="",vt=null){this._locationStrategy.replaceState(vt,"",H,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+dt(ye)),vt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){this._locationStrategy.historyGo?.(H)}onUrlChange(H){return this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ye=>{this._notifyUrlChangeListeners(ye.url,ye.state)})),()=>{const ye=this._urlChangeListeners.indexOf(H);this._urlChangeListeners.splice(ye,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",ye){this._urlChangeListeners.forEach(vt=>vt(H,ye))}subscribe(H,ye,vt){return this._subject.subscribe({next:H,error:ye,complete:vt})}}return F.normalizeQueryParams=dt,F.joinWithSlash=ze,F.stripTrailingSlash=Re,F.\u0275fac=function(H){return new(H||F)(m.LFG(Ye))},F.\u0275prov=m.Yz7({token:F,factory:function(){return function Oe(){return new rt((0,m.LFG)(Ye))}()},providedIn:"root"}),F})();function Me(F){return F.replace(/\/index.html$/,"")}function ns(F,te){te=encodeURIComponent(te);for(const H of F.split(";")){const ye=H.indexOf("="),[vt,Zt]=-1==ye?[H,""]:[H.slice(0,ye),H.slice(ye+1)];if(vt.trim()===te)return decodeURIComponent(Zt)}return null}let Ti=(()=>{class F{constructor(H,ye,vt,Zt){this._iterableDiffers=H,this._keyValueDiffers=ye,this._ngEl=vt,this._renderer=Zt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(H){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof H?H.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(H){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof H?H.split(/\s+/):H,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const H=this._iterableDiffer.diff(this._rawClass);H&&this._applyIterableChanges(H)}else if(this._keyValueDiffer){const H=this._keyValueDiffer.diff(this._rawClass);H&&this._applyKeyValueChanges(H)}}_applyKeyValueChanges(H){H.forEachAddedItem(ye=>this._toggleClass(ye.key,ye.currentValue)),H.forEachChangedItem(ye=>this._toggleClass(ye.key,ye.currentValue)),H.forEachRemovedItem(ye=>{ye.previousValue&&this._toggleClass(ye.key,!1)})}_applyIterableChanges(H){H.forEachAddedItem(ye=>{if("string"!=typeof ye.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(ye.item)}`);this._toggleClass(ye.item,!0)}),H.forEachRemovedItem(ye=>this._toggleClass(ye.item,!1))}_applyClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(ye=>this._toggleClass(ye,!0)):Object.keys(H).forEach(ye=>this._toggleClass(ye,!!H[ye])))}_removeClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(ye=>this._toggleClass(ye,!1)):Object.keys(H).forEach(ye=>this._toggleClass(ye,!1)))}_toggleClass(H,ye){(H=H.trim())&&H.split(/\s+/g).forEach(vt=>{ye?this._renderer.addClass(this._ngEl.nativeElement,vt):this._renderer.removeClass(this._ngEl.nativeElement,vt)})}}return F.\u0275fac=function(H){return new(H||F)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),F})();class rs{constructor(te,H,ye,vt){this.$implicit=te,this.ngForOf=H,this.index=ye,this.count=vt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fr=(()=>{class F{constructor(H,ye,vt){this._viewContainer=H,this._template=ye,this._differs=vt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const ye=this._viewContainer;H.forEachOperation((vt,Zt,dn)=>{if(null==vt.previousIndex)ye.createEmbeddedView(this._template,new rs(vt.item,this._ngForOf,-1,-1),null===dn?void 0:dn);else if(null==dn)ye.remove(null===Zt?void 0:Zt);else if(null!==Zt){const ei=ye.get(Zt);ye.move(ei,dn),Xi(ei,vt)}});for(let vt=0,Zt=ye.length;vt<Zt;vt++){const ei=ye.get(vt).context;ei.index=vt,ei.count=Zt,ei.ngForOf=this._ngForOf}H.forEachIdentityChange(vt=>{Xi(ye.get(vt.currentIndex),vt)})}static ngTemplateContextGuard(H,ye){return!0}}return F.\u0275fac=function(H){return new(H||F)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function Xi(F,te){F.context.$implicit=te.item}let ki=(()=>{class F{constructor(H,ye){this._viewContainer=H,this._context=new $s,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ye}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){Ki("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){Ki("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,ye){return!0}}return F.\u0275fac=function(H){return new(H||F)(m.Y36(m.s_b),m.Y36(m.Rgc))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class $s{constructor(){this.$implicit=null,this.ngIf=null}}function Ki(F,te){if(te&&!te.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,m.AaK)(te)}'.`)}class hs{constructor(te,H){this._viewContainerRef=te,this._templateRef=H,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let Ws=(()=>{class F{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(H){this._ngSwitch=H,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(H){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(H)}_matchCase(H){const ye=H==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ye,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ye}_updateDefaultCases(H){if(this._defaultViews&&H!==this._defaultUsed){this._defaultUsed=H;for(let ye=0;ye<this._defaultViews.length;ye++)this._defaultViews[ye].enforceState(H)}}}return F.\u0275fac=function(H){return new(H||F)},F.\u0275dir=m.lG2({type:F,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),F})(),$r=(()=>{class F{constructor(H,ye,vt){this.ngSwitch=vt,vt._addCase(),this._view=new hs(H,ye)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return F.\u0275fac=function(H){return new(H||F)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Ws,9))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),F})(),Ks=(()=>{class F{constructor(H,ye,vt){vt._addDefault(new hs(H,ye))}}return F.\u0275fac=function(H){return new(H||F)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Ws,9))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngSwitchDefault",""]],standalone:!0}),F})(),jt=(()=>{class F{constructor(H,ye,vt){this._ngEl=H,this._differs=ye,this._renderer=vt,this._ngStyle=null,this._differ=null}set ngStyle(H){this._ngStyle=H,!this._differ&&H&&(this._differ=this._differs.find(H).create())}ngDoCheck(){if(this._differ){const H=this._differ.diff(this._ngStyle);H&&this._applyChanges(H)}}_setStyle(H,ye){const[vt,Zt]=H.split("."),dn=-1===vt.indexOf("-")?void 0:m.JOm.DashCase;null!=ye?this._renderer.setStyle(this._ngEl.nativeElement,vt,Zt?`${ye}${Zt}`:ye,dn):this._renderer.removeStyle(this._ngEl.nativeElement,vt,dn)}_applyChanges(H){H.forEachRemovedItem(ye=>this._setStyle(ye.key,null)),H.forEachAddedItem(ye=>this._setStyle(ye.key,ye.currentValue)),H.forEachChangedItem(ye=>this._setStyle(ye.key,ye.currentValue))}}return F.\u0275fac=function(H){return new(H||F)(m.Y36(m.SBq),m.Y36(m.aQg),m.Y36(m.Qsj))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),F})();class It{createSubscription(te,H){return te.subscribe({next:H,error:ye=>{throw ye}})}dispose(te){te.unsubscribe()}}class Dt{createSubscription(te,H){return te.then(H,ye=>{throw ye})}dispose(te){}}const Vt=new Dt,ln=new It;let gn=(()=>{class F{constructor(H){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=H}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(H){return this._obj?H!==this._obj?(this._dispose(),this.transform(H)):this._latestValue:(H&&this._subscribe(H),this._latestValue)}_subscribe(H){this._obj=H,this._strategy=this._selectStrategy(H),this._subscription=this._strategy.createSubscription(H,ye=>this._updateLatestValue(H,ye))}_selectStrategy(H){if((0,m.QGY)(H))return Vt;if((0,m.F4k)(H))return ln;throw function Mn(F,te){return new m.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(H,ye){H===this._obj&&(this._latestValue=ye,this._ref.markForCheck())}}return F.\u0275fac=function(H){return new(H||F)(m.Y36(m.sBO,16))},F.\u0275pipe=m.Yjl({name:"async",type:F,pure:!1,standalone:!0}),F})(),xa=(()=>{class F{}return F.\u0275fac=function(H){return new(H||F)},F.\u0275mod=m.oAB({type:F}),F.\u0275inj=m.cJS({}),F})();const Os="browser";function Mt(F){return F===Os}function G(F){return"server"===F}let Yn=(()=>{class F{}return F.\u0275prov=(0,m.Yz7)({token:F,providedIn:"root",factory:()=>new Bn((0,m.LFG)(Fe),window)}),F})();class Bn{constructor(te,H){this.document=te,this.window=H,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const H=function Di(F,te){const H=F.getElementById(te)||F.getElementsByName(te)[0];if(H)return H;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const ye=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let vt=ye.currentNode;for(;vt;){const Zt=vt.shadowRoot;if(Zt){const dn=Zt.getElementById(te)||Zt.querySelector(`[name="${te}"]`);if(dn)return dn}vt=ye.nextNode()}}return null}(this.document,te);H&&(this.scrollToElement(H),H.focus())}setHistoryScrollRestoration(te){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=te)}}scrollToElement(te){const H=te.getBoundingClientRect(),ye=H.left+this.window.pageXOffset,vt=H.top+this.window.pageYOffset,Zt=this.offset();this.window.scrollTo(ye-Zt[0],vt-Zt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const te=mi(this.window.history)||mi(Object.getPrototypeOf(this.window.history));return!(!te||!te.writable&&!te.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mi(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class kr{}},529:(hn,ft,D)=>{D.d(ft,{JF:()=>Z,eN:()=>Jt});var m=D(6895),b=D(4650),E=D(9646),M=D(9751),de=D(4351),be=D(9300),Fe=D(4004);class re{}class pe{}class X{constructor(z){this.normalizedNames=new Map,this.lazyUpdate=null,z?this.lazyInit="string"==typeof z?()=>{this.headers=new Map,z.split("\n").forEach(ee=>{const qe=ee.indexOf(":");if(qe>0){const mt=ee.slice(0,qe),Pt=mt.toLowerCase(),yn=ee.slice(qe+1).trim();this.maybeSetNormalizedName(mt,Pt),this.headers.has(Pt)?this.headers.get(Pt).push(yn):this.headers.set(Pt,[yn])}})}:()=>{this.headers=new Map,Object.keys(z).forEach(ee=>{let qe=z[ee];const mt=ee.toLowerCase();"string"==typeof qe&&(qe=[qe]),qe.length>0&&(this.headers.set(mt,qe),this.maybeSetNormalizedName(ee,mt))})}:this.headers=new Map}has(z){return this.init(),this.headers.has(z.toLowerCase())}get(z){this.init();const ee=this.headers.get(z.toLowerCase());return ee&&ee.length>0?ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(z){return this.init(),this.headers.get(z.toLowerCase())||null}append(z,ee){return this.clone({name:z,value:ee,op:"a"})}set(z,ee){return this.clone({name:z,value:ee,op:"s"})}delete(z,ee){return this.clone({name:z,value:ee,op:"d"})}maybeSetNormalizedName(z,ee){this.normalizedNames.has(ee)||this.normalizedNames.set(ee,z)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(z=>this.applyUpdate(z)),this.lazyUpdate=null))}copyFrom(z){z.init(),Array.from(z.headers.keys()).forEach(ee=>{this.headers.set(ee,z.headers.get(ee)),this.normalizedNames.set(ee,z.normalizedNames.get(ee))})}clone(z){const ee=new X;return ee.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,ee.lazyUpdate=(this.lazyUpdate||[]).concat([z]),ee}applyUpdate(z){const ee=z.name.toLowerCase();switch(z.op){case"a":case"s":let qe=z.value;if("string"==typeof qe&&(qe=[qe]),0===qe.length)return;this.maybeSetNormalizedName(z.name,ee);const mt=("a"===z.op?this.headers.get(ee):void 0)||[];mt.push(...qe),this.headers.set(ee,mt);break;case"d":const Pt=z.value;if(Pt){let yn=this.headers.get(ee);if(!yn)return;yn=yn.filter(qn=>-1===Pt.indexOf(qn)),0===yn.length?(this.headers.delete(ee),this.normalizedNames.delete(ee)):this.headers.set(ee,yn)}else this.headers.delete(ee),this.normalizedNames.delete(ee)}}forEach(z){this.init(),Array.from(this.normalizedNames.keys()).forEach(ee=>z(this.normalizedNames.get(ee),this.headers.get(ee)))}}class ue{encodeKey(z){return dt(z)}encodeValue(z){return dt(z)}decodeKey(z){return decodeURIComponent(z)}decodeValue(z){return decodeURIComponent(z)}}const ze=/%(\d[a-f0-9])/gi,Re={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dt(De){return encodeURIComponent(De).replace(ze,(z,ee)=>Re[ee]??z)}function Ye(De){return`${De}`}class Je{constructor(z={}){if(this.updates=null,this.cloneFrom=null,this.encoder=z.encoder||new ue,z.fromString){if(z.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Te(De,z){const ee=new Map;return De.length>0&&De.replace(/^\?/,"").split("&").forEach(mt=>{const Pt=mt.indexOf("="),[yn,qn]=-1==Pt?[z.decodeKey(mt),""]:[z.decodeKey(mt.slice(0,Pt)),z.decodeValue(mt.slice(Pt+1))],un=ee.get(yn)||[];un.push(qn),ee.set(yn,un)}),ee}(z.fromString,this.encoder)}else z.fromObject?(this.map=new Map,Object.keys(z.fromObject).forEach(ee=>{const qe=z.fromObject[ee],mt=Array.isArray(qe)?qe.map(Ye):[Ye(qe)];this.map.set(ee,mt)})):this.map=null}has(z){return this.init(),this.map.has(z)}get(z){this.init();const ee=this.map.get(z);return ee?ee[0]:null}getAll(z){return this.init(),this.map.get(z)||null}keys(){return this.init(),Array.from(this.map.keys())}append(z,ee){return this.clone({param:z,value:ee,op:"a"})}appendAll(z){const ee=[];return Object.keys(z).forEach(qe=>{const mt=z[qe];Array.isArray(mt)?mt.forEach(Pt=>{ee.push({param:qe,value:Pt,op:"a"})}):ee.push({param:qe,value:mt,op:"a"})}),this.clone(ee)}set(z,ee){return this.clone({param:z,value:ee,op:"s"})}delete(z,ee){return this.clone({param:z,value:ee,op:"d"})}toString(){return this.init(),this.keys().map(z=>{const ee=this.encoder.encodeKey(z);return this.map.get(z).map(qe=>ee+"="+this.encoder.encodeValue(qe)).join("&")}).filter(z=>""!==z).join("&")}clone(z){const ee=new Je({encoder:this.encoder});return ee.cloneFrom=this.cloneFrom||this,ee.updates=(this.updates||[]).concat(z),ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(z=>this.map.set(z,this.cloneFrom.map.get(z))),this.updates.forEach(z=>{switch(z.op){case"a":case"s":const ee=("a"===z.op?this.map.get(z.param):void 0)||[];ee.push(Ye(z.value)),this.map.set(z.param,ee);break;case"d":if(void 0===z.value){this.map.delete(z.param);break}{let qe=this.map.get(z.param)||[];const mt=qe.indexOf(Ye(z.value));-1!==mt&&qe.splice(mt,1),qe.length>0?this.map.set(z.param,qe):this.map.delete(z.param)}}}),this.cloneFrom=this.updates=null)}}class Ft{constructor(){this.map=new Map}set(z,ee){return this.map.set(z,ee),this}get(z){return this.map.has(z)||this.map.set(z,z.defaultValue()),this.map.get(z)}delete(z){return this.map.delete(z),this}has(z){return this.map.has(z)}keys(){return this.map.keys()}}function Oe(De){return typeof ArrayBuffer<"u"&&De instanceof ArrayBuffer}function ae(De){return typeof Blob<"u"&&De instanceof Blob}function Me(De){return typeof FormData<"u"&&De instanceof FormData}class fe{constructor(z,ee,qe,mt){let Pt;if(this.url=ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=z.toUpperCase(),function rt(De){switch(De){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||mt?(this.body=void 0!==qe?qe:null,Pt=mt):Pt=qe,Pt&&(this.reportProgress=!!Pt.reportProgress,this.withCredentials=!!Pt.withCredentials,Pt.responseType&&(this.responseType=Pt.responseType),Pt.headers&&(this.headers=Pt.headers),Pt.context&&(this.context=Pt.context),Pt.params&&(this.params=Pt.params)),this.headers||(this.headers=new X),this.context||(this.context=new Ft),this.params){const yn=this.params.toString();if(0===yn.length)this.urlWithParams=ee;else{const qn=ee.indexOf("?");this.urlWithParams=ee+(-1===qn?"?":qn<ee.length-1?"&":"")+yn}}else this.params=new Je,this.urlWithParams=ee}serializeBody(){return null===this.body?null:Oe(this.body)||ae(this.body)||Me(this.body)||function _e(De){return typeof URLSearchParams<"u"&&De instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Me(this.body)?null:ae(this.body)?this.body.type||null:Oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(z={}){const ee=z.method||this.method,qe=z.url||this.url,mt=z.responseType||this.responseType,Pt=void 0!==z.body?z.body:this.body,yn=void 0!==z.withCredentials?z.withCredentials:this.withCredentials,qn=void 0!==z.reportProgress?z.reportProgress:this.reportProgress;let un=z.headers||this.headers,Wn=z.params||this.params;const Tn=z.context??this.context;return void 0!==z.setHeaders&&(un=Object.keys(z.setHeaders).reduce((ui,Nt)=>ui.set(Nt,z.setHeaders[Nt]),un)),z.setParams&&(Wn=Object.keys(z.setParams).reduce((ui,Nt)=>ui.set(Nt,z.setParams[Nt]),Wn)),new fe(ee,qe,Pt,{params:Wn,headers:un,context:Tn,reportProgress:qn,responseType:mt,withCredentials:yn})}}var Ge=(()=>((Ge=Ge||{})[Ge.Sent=0]="Sent",Ge[Ge.UploadProgress=1]="UploadProgress",Ge[Ge.ResponseHeader=2]="ResponseHeader",Ge[Ge.DownloadProgress=3]="DownloadProgress",Ge[Ge.Response=4]="Response",Ge[Ge.User=5]="User",Ge))();class Se{constructor(z,ee=200,qe="OK"){this.headers=z.headers||new X,this.status=void 0!==z.status?z.status:ee,this.statusText=z.statusText||qe,this.url=z.url||null,this.ok=this.status>=200&&this.status<300}}class Ke extends Se{constructor(z={}){super(z),this.type=Ge.ResponseHeader}clone(z={}){return new Ke({headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class St extends Se{constructor(z={}){super(z),this.type=Ge.Response,this.body=void 0!==z.body?z.body:null}clone(z={}){return new St({body:void 0!==z.body?z.body:this.body,headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class yt extends Se{constructor(z){super(z,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${z.url||"(unknown url)"}`:`Http failure response for ${z.url||"(unknown url)"}: ${z.status} ${z.statusText}`,this.error=z.error||null}}function Qt(De,z){return{body:z,headers:De.headers,context:De.context,observe:De.observe,params:De.params,reportProgress:De.reportProgress,responseType:De.responseType,withCredentials:De.withCredentials}}let Jt=(()=>{class De{constructor(ee){this.handler=ee}request(ee,qe,mt={}){let Pt;if(ee instanceof fe)Pt=ee;else{let un,Wn;un=mt.headers instanceof X?mt.headers:new X(mt.headers),mt.params&&(Wn=mt.params instanceof Je?mt.params:new Je({fromObject:mt.params})),Pt=new fe(ee,qe,void 0!==mt.body?mt.body:null,{headers:un,context:mt.context,params:Wn,reportProgress:mt.reportProgress,responseType:mt.responseType||"json",withCredentials:mt.withCredentials})}const yn=(0,E.of)(Pt).pipe((0,de.b)(un=>this.handler.handle(un)));if(ee instanceof fe||"events"===mt.observe)return yn;const qn=yn.pipe((0,be.h)(un=>un instanceof St));switch(mt.observe||"body"){case"body":switch(Pt.responseType){case"arraybuffer":return qn.pipe((0,Fe.U)(un=>{if(null!==un.body&&!(un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return un.body}));case"blob":return qn.pipe((0,Fe.U)(un=>{if(null!==un.body&&!(un.body instanceof Blob))throw new Error("Response is not a Blob.");return un.body}));case"text":return qn.pipe((0,Fe.U)(un=>{if(null!==un.body&&"string"!=typeof un.body)throw new Error("Response is not a string.");return un.body}));default:return qn.pipe((0,Fe.U)(un=>un.body))}case"response":return qn;default:throw new Error(`Unreachable: unhandled observe type ${mt.observe}}`)}}delete(ee,qe={}){return this.request("DELETE",ee,qe)}get(ee,qe={}){return this.request("GET",ee,qe)}head(ee,qe={}){return this.request("HEAD",ee,qe)}jsonp(ee,qe){return this.request("JSONP",ee,{params:(new Je).append(qe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ee,qe={}){return this.request("OPTIONS",ee,qe)}patch(ee,qe,mt={}){return this.request("PATCH",ee,Qt(mt,qe))}post(ee,qe,mt={}){return this.request("POST",ee,Qt(mt,qe))}put(ee,qe,mt={}){return this.request("PUT",ee,Qt(mt,qe))}}return De.\u0275fac=function(ee){return new(ee||De)(b.LFG(re))},De.\u0275prov=b.Yz7({token:De,factory:De.\u0275fac}),De})();class Sn{constructor(z,ee){this.next=z,this.interceptor=ee}handle(z){return this.interceptor.intercept(z,this.next)}}const xt=new b.OlP("HTTP_INTERCEPTORS");let an=(()=>{class De{intercept(ee,qe){return qe.handle(ee)}}return De.\u0275fac=function(ee){return new(ee||De)},De.\u0275prov=b.Yz7({token:De,factory:De.\u0275fac}),De})();const Lt=/^\)\]\}',?\n/;let An=(()=>{class De{constructor(ee){this.xhrFactory=ee}handle(ee){if("JSONP"===ee.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new M.y(qe=>{const mt=this.xhrFactory.build();if(mt.open(ee.method,ee.urlWithParams),ee.withCredentials&&(mt.withCredentials=!0),ee.headers.forEach((_t,ot)=>mt.setRequestHeader(_t,ot.join(","))),ee.headers.has("Accept")||mt.setRequestHeader("Accept","application/json, text/plain, */*"),!ee.headers.has("Content-Type")){const _t=ee.detectContentTypeHeader();null!==_t&&mt.setRequestHeader("Content-Type",_t)}if(ee.responseType){const _t=ee.responseType.toLowerCase();mt.responseType="json"!==_t?_t:"text"}const Pt=ee.serializeBody();let yn=null;const qn=()=>{if(null!==yn)return yn;const _t=mt.statusText||"OK",ot=new X(mt.getAllResponseHeaders()),Tt=function zt(De){return"responseURL"in De&&De.responseURL?De.responseURL:/^X-Request-URL:/m.test(De.getAllResponseHeaders())?De.getResponseHeader("X-Request-URL"):null}(mt)||ee.url;return yn=new Ke({headers:ot,status:mt.status,statusText:_t,url:Tt}),yn},un=()=>{let{headers:_t,status:ot,statusText:Tt,url:Ue}=qn(),je=null;204!==ot&&(je=typeof mt.response>"u"?mt.responseText:mt.response),0===ot&&(ot=je?200:0);let Ae=ot>=200&&ot<300;if("json"===ee.responseType&&"string"==typeof je){const pt=je;je=je.replace(Lt,"");try{je=""!==je?JSON.parse(je):null}catch(Rt){je=pt,Ae&&(Ae=!1,je={error:Rt,text:je})}}Ae?(qe.next(new St({body:je,headers:_t,status:ot,statusText:Tt,url:Ue||void 0})),qe.complete()):qe.error(new yt({error:je,headers:_t,status:ot,statusText:Tt,url:Ue||void 0}))},Wn=_t=>{const{url:ot}=qn(),Tt=new yt({error:_t,status:mt.status||0,statusText:mt.statusText||"Unknown Error",url:ot||void 0});qe.error(Tt)};let Tn=!1;const ui=_t=>{Tn||(qe.next(qn()),Tn=!0);let ot={type:Ge.DownloadProgress,loaded:_t.loaded};_t.lengthComputable&&(ot.total=_t.total),"text"===ee.responseType&&!!mt.responseText&&(ot.partialText=mt.responseText),qe.next(ot)},Nt=_t=>{let ot={type:Ge.UploadProgress,loaded:_t.loaded};_t.lengthComputable&&(ot.total=_t.total),qe.next(ot)};return mt.addEventListener("load",un),mt.addEventListener("error",Wn),mt.addEventListener("timeout",Wn),mt.addEventListener("abort",Wn),ee.reportProgress&&(mt.addEventListener("progress",ui),null!==Pt&&mt.upload&&mt.upload.addEventListener("progress",Nt)),mt.send(Pt),qe.next({type:Ge.Sent}),()=>{mt.removeEventListener("error",Wn),mt.removeEventListener("abort",Wn),mt.removeEventListener("load",un),mt.removeEventListener("timeout",Wn),ee.reportProgress&&(mt.removeEventListener("progress",ui),null!==Pt&&mt.upload&&mt.upload.removeEventListener("progress",Nt)),mt.readyState!==mt.DONE&&mt.abort()}})}}return De.\u0275fac=function(ee){return new(ee||De)(b.LFG(m.JF))},De.\u0275prov=b.Yz7({token:De,factory:De.\u0275fac}),De})();const Pn=new b.OlP("XSRF_COOKIE_NAME"),Vn=new b.OlP("XSRF_HEADER_NAME");class xn{}let ii=(()=>{class De{constructor(ee,qe,mt){this.doc=ee,this.platform=qe,this.cookieName=mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ee=this.doc.cookie||"";return ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,m.Mx)(ee,this.cookieName),this.lastCookieString=ee),this.lastToken}}return De.\u0275fac=function(ee){return new(ee||De)(b.LFG(m.K0),b.LFG(b.Lbi),b.LFG(Pn))},De.\u0275prov=b.Yz7({token:De,factory:De.\u0275fac}),De})(),ci=(()=>{class De{constructor(ee,qe){this.tokenService=ee,this.headerName=qe}intercept(ee,qe){const mt=ee.url.toLowerCase();if("GET"===ee.method||"HEAD"===ee.method||mt.startsWith("http://")||mt.startsWith("https://"))return qe.handle(ee);const Pt=this.tokenService.getToken();return null!==Pt&&!ee.headers.has(this.headerName)&&(ee=ee.clone({headers:ee.headers.set(this.headerName,Pt)})),qe.handle(ee)}}return De.\u0275fac=function(ee){return new(ee||De)(b.LFG(xn),b.LFG(Vn))},De.\u0275prov=b.Yz7({token:De,factory:De.\u0275fac}),De})(),Cn=(()=>{class De{constructor(ee,qe){this.backend=ee,this.injector=qe,this.chain=null}handle(ee){if(null===this.chain){const qe=this.injector.get(xt,[]);this.chain=qe.reduceRight((mt,Pt)=>new Sn(mt,Pt),this.backend)}return this.chain.handle(ee)}}return De.\u0275fac=function(ee){return new(ee||De)(b.LFG(pe),b.LFG(b.zs3))},De.\u0275prov=b.Yz7({token:De,factory:De.\u0275fac}),De})(),j=(()=>{class De{static disable(){return{ngModule:De,providers:[{provide:ci,useClass:an}]}}static withOptions(ee={}){return{ngModule:De,providers:[ee.cookieName?{provide:Pn,useValue:ee.cookieName}:[],ee.headerName?{provide:Vn,useValue:ee.headerName}:[]]}}}return De.\u0275fac=function(ee){return new(ee||De)},De.\u0275mod=b.oAB({type:De}),De.\u0275inj=b.cJS({providers:[ci,{provide:xt,useExisting:ci,multi:!0},{provide:xn,useClass:ii},{provide:Pn,useValue:"XSRF-TOKEN"},{provide:Vn,useValue:"X-XSRF-TOKEN"}]}),De})(),Z=(()=>{class De{}return De.\u0275fac=function(ee){return new(ee||De)},De.\u0275mod=b.oAB({type:De}),De.\u0275inj=b.cJS({providers:[Jt,{provide:re,useClass:Cn},An,{provide:pe,useExisting:An}],imports:[j.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),De})()},4650:(hn,ft,D)=>{D.d(ft,{$8M:()=>Al,$Z:()=>yu,AFp:()=>LE,ALo:()=>Fi,AaK:()=>re,BQk:()=>xm,CHM:()=>Xl,CRH:()=>pE,CZH:()=>Gb,CqO:()=>Xc,D6c:()=>VC,EJc:()=>eC,EiD:()=>Wu,EpF:()=>Rm,F$t:()=>zd,F4k:()=>km,FYo:()=>ho,FiY:()=>Qr,G48:()=>EC,Gf:()=>hE,GfV:()=>cy,Gpc:()=>se,Gre:()=>rp,Hsn:()=>hd,Ikx:()=>F_,JOm:()=>tl,JVY:()=>Ap,Jf7:()=>uy,KtG:()=>Qo,L6k:()=>hv,LAX:()=>fv,LFG:()=>nt,LSH:()=>Ef,Lbi:()=>qw,Lck:()=>sE,MAs:()=>cd,MMx:()=>ib,NdJ:()=>Xf,O4$:()=>ei,OlP:()=>yr,Oqu:()=>x_,PXZ:()=>mC,PiD:()=>Ps,Q6J:()=>Wh,QGY:()=>Yh,QP$:()=>pn,QbO:()=>Qw,Qsj:()=>Df,R0b:()=>yd,RDi:()=>dv,Rgc:()=>ob,SBq:()=>fu,Sil:()=>nC,Suo:()=>fE,TTD:()=>To,TgZ:()=>dd,Tol:()=>Uy,Udp:()=>I_,VKq:()=>hr,WFA:()=>ma,X6Q:()=>bC,XFs:()=>Cn,Xpm:()=>Ue,Xts:()=>Sg,Y36:()=>zo,YKP:()=>y0,YNc:()=>qf,Yjl:()=>Xe,Yz7:()=>Ce,Z0I:()=>Ct,ZZ4:()=>j0,_Bn:()=>Nb,_UZ:()=>Kh,_Vd:()=>dc,_c5:()=>LC,_uU:()=>A_,aQg:()=>G0,c2e:()=>Xw,cJS:()=>xe,cg1:()=>lp,d8E:()=>Gm,dDg:()=>dC,dqk:()=>mt,eBb:()=>ey,eFA:()=>qE,ekj:()=>Jc,eoX:()=>KE,f3M:()=>nn,g9A:()=>VE,h0i:()=>Km,hGG:()=>BC,hij:()=>Vm,iGM:()=>dE,ifc:()=>qe,ip1:()=>FE,jDz:()=>Fb,kEZ:()=>ql,kL8:()=>zm,kcU:()=>Zi,lG2:()=>bt,lcZ:()=>ku,lqb:()=>oo,lri:()=>$E,mCW:()=>Op,n5z:()=>ls,n_E:()=>Ym,oAB:()=>Rt,oJD:()=>dh,oxw:()=>bc,pB0:()=>gg,q3G:()=>Es,q4F:()=>zp,qLn:()=>mh,qOj:()=>Zc,qZA:()=>yc,qzn:()=>$u,rWj:()=>WE,s9C:()=>ep,sBO:()=>wC,sIi:()=>Cu,s_b:()=>Ub,soG:()=>zb,tBr:()=>wi,tb:()=>UE,tp0:()=>Ba,uIk:()=>g_,vHH:()=>Re,vpe:()=>xo,wAp:()=>Mi,xi3:()=>Ql,xp6:()=>Pd,ynx:()=>Am,z2F:()=>$b,z3N:()=>Co,zSh:()=>Yu,zs3:()=>Hc});var m=D(7579),b=D(727),E=D(9751),M=D(6451),de=D(3099);function be(i){for(let s in i)if(i[s]===be)return s;throw Error("Could not find renamed property on target object.")}function Fe(i,s){for(const l in s)s.hasOwnProperty(l)&&!i.hasOwnProperty(l)&&(i[l]=s[l])}function re(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(re).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function pe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const X=be({__forward_ref__:be});function se(i){return i.__forward_ref__=se,i.toString=function(){return re(this())},i}function ue(i){return Te(i)?i():i}function Te(i){return"function"==typeof i&&i.hasOwnProperty(X)&&i.__forward_ref__===se}class Re extends Error{constructor(s,l){super(function dt(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,l)),this.code=s}}function Ye(i){return"string"==typeof i?i:null==i?"":String(i)}function Oe(i,s){throw new Re(-201,!1)}function an(i,s){null==i&&function ne(i,s,l,d){throw new Error(`ASSERTION ERROR: ${i}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,i,null,"!=")}function Ce(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function xe(i){return{providers:i.providers||[],imports:i.imports||[]}}function ve(i){return Lt(i,Vn)||Lt(i,ii)}function Ct(i){return null!==ve(i)}function Lt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Pn(i){return i&&(i.hasOwnProperty(xn)||i.hasOwnProperty(ci))?i[xn]:null}const Vn=be({\u0275prov:be}),xn=be({\u0275inj:be}),ii=be({ngInjectableDef:be}),ci=be({ngInjectorDef:be});var Cn=(()=>((Cn=Cn||{})[Cn.Default=0]="Default",Cn[Cn.Host=1]="Host",Cn[Cn.Self=2]="Self",Cn[Cn.SkipSelf=4]="SkipSelf",Cn[Cn.Optional=8]="Optional",Cn))();let Fn;function j(i){const s=Fn;return Fn=i,s}function Z(i,s,l){const d=ve(i);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Cn.Optional?null:void 0!==s?s:void Oe(re(i))}function We(i){return{toString:i}.toString()}var De=(()=>((De=De||{})[De.OnPush=0]="OnPush",De[De.Default=1]="Default",De))(),qe=(()=>{return(i=qe||(qe={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",qe;var i})();const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qn={},un=[],Wn=be({\u0275cmp:be}),Tn=be({\u0275dir:be}),ui=be({\u0275pipe:be}),Nt=be({\u0275mod:be}),_t=be({\u0275fac:be}),ot=be({__NG_ELEMENT_ID__:be});let Tt=0;function Ue(i){return We(()=>{const l=!0===i.standalone,d={},p={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===De.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||un,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||qe.Emulated,id:"c"+Tt++,styles:i.styles||un,_:null,setInput:null,schemas:i.schemas||null,tView:null},_=i.dependencies,I=i.features;return p.inputs=He(i.inputs,d),p.outputs=He(i.outputs),I&&I.forEach(R=>R(p)),p.directiveDefs=_?()=>("function"==typeof _?_():_).map(Ae).filter(pt):null,p.pipeDefs=_?()=>("function"==typeof _?_():_).map(kt).filter(pt):null,p})}function Ae(i){return oe(i)||Le(i)}function pt(i){return null!==i}function Rt(i){return We(()=>({type:i.type,bootstrap:i.bootstrap||un,declarations:i.declarations||un,imports:i.imports||un,exports:i.exports||un,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function He(i,s){if(null==i)return qn;const l={};for(const d in i)if(i.hasOwnProperty(d)){let p=i[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),l[p]=d,s&&(s[p]=_)}return l}const bt=Ue;function Xe(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function oe(i){return i[Wn]||null}function Le(i){return i[Tn]||null}function kt(i){return i[ui]||null}function pn(i){const s=oe(i)||Le(i)||kt(i);return null!==s&&s.standalone}function zn(i,s){const l=i[Nt]||null;if(!l&&!0===s)throw new Error(`Type ${re(i)} does not have '\u0275mod' property.`);return l}function Ki(i){return Array.isArray(i)&&"object"==typeof i[1]}function hs(i){return Array.isArray(i)&&!0===i[1]}function Ws(i){return 0!=(8&i.flags)}function $r(i){return 2==(2&i.flags)}function Ks(i){return 1==(1&i.flags)}function Rr(i){return null!==i.template}function lt(i){return 0!=(256&i[2])}function Lr(i,s){return i.hasOwnProperty(_t)?i[_t]:null}class Ys{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function To(){return eo}function eo(i){return i.type.prototype.ngOnChanges&&(i.setInput=mo),_a}function _a(){const i=Ls(this),s=i?.current;if(s){const l=i.previous;if(l===qn)i.previous=s;else for(let d in s)l[d]=s[d];i.current=null,this.ngOnChanges(s)}}function mo(i,s,l,d){const p=Ls(i)||function xa(i,s){return i[go]=s}(i,{previous:qn,current:null}),_=p.current||(p.current={}),I=p.previous,R=this.declaredInputs[l],L=I[R];_[R]=new Ys(L&&L.currentValue,s,I===qn),i[d]=s}To.ngInherit=!0;const go="__ngSimpleChanges__";function Ls(i){return i[go]||null}function fn(i){for(;Array.isArray(i);)i=i[0];return i}function mi(i,s){return fn(s[i])}function Di(i,s){return fn(s[i.index])}function kr(i,s){return i.data[s]}function os(i,s){return i[s]}function Yi(i,s){const l=s[i];return Ki(l)?l:l[0]}function Bs(i){return 64==(64&i[2])}function as(i,s){return null==s?null:i[s]}function ys(i){i[18]=0}function vr(i,s){i[5]+=s;let l=i,d=i[3];for(;null!==d&&(1===s&&1===l[5]||-1===s&&0===l[5]);)d[5]+=s,l=d,d=d[3]}const di={lFrame:Qa(null),bindingsEnabled:!0};function Zs(){return di.bindingsEnabled}function _n(){return di.lFrame.lView}function Ii(){return di.lFrame.tView}function Xl(i){return di.lFrame.contextLView=i,i[8]}function Qo(i){return di.lFrame.contextLView=null,i}function Yr(){let i=K();for(;null!==i&&64===i.type;)i=i.parent;return i}function K(){return di.lFrame.currentTNode}function V(i,s){const l=di.lFrame;l.currentTNode=i,l.isParent=s}function we(){return di.lFrame.isParent}function tn(){di.lFrame.isParent=!1}function br(){const i=di.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ya(){return di.lFrame.bindingIndex++}function Xo(i){const s=di.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,l}function dl(i,s){const l=di.lFrame;l.bindingIndex=l.bindingRootIndex=i,Oa(s)}function Oa(i){di.lFrame.currentDirectiveIndex=i}function Ra(i){const s=di.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Za(){return di.lFrame.currentQueryIndex}function _o(i){di.lFrame.currentQueryIndex=i}function qs(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function qa(i,s,l){if(l&Cn.SkipSelf){let p=s,_=i;for(;!(p=p.parent,null!==p||l&Cn.Host||(p=qs(_),null===p||(_=_[15],10&p.type))););if(null===p)return!1;s=p,i=_}const d=di.lFrame=Il();return d.currentTNode=s,d.lView=i,!0}function yo(i){const s=Il(),l=i[1];di.lFrame=s,s.currentTNode=l.firstChild,s.lView=i,s.tView=l,s.contextLView=i,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function Il(){const i=di.lFrame,s=null===i?null:i.child;return null===s?Qa(i):s}function Qa(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Xa(){const i=di.lFrame;return di.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const F=Xa;function te(){const i=Xa();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function vt(){return di.lFrame.selectedIndex}function Zt(i){di.lFrame.selectedIndex=i}function dn(){const i=di.lFrame;return kr(i.tView,i.selectedIndex)}function ei(){di.lFrame.currentNamespace="svg"}function Zi(){!function rr(){di.lFrame.currentNamespace=null}()}function mr(i,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const _=i.data[l].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:R,ngAfterViewInit:L,ngAfterViewChecked:J,ngOnDestroy:Ee}=_;I&&(i.contentHooks||(i.contentHooks=[])).push(-l,I),R&&((i.contentHooks||(i.contentHooks=[])).push(l,R),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(l,R)),L&&(i.viewHooks||(i.viewHooks=[])).push(-l,L),J&&((i.viewHooks||(i.viewHooks=[])).push(l,J),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(l,J)),null!=Ee&&(i.destroyHooks||(i.destroyHooks=[])).push(l,Ee)}}function Er(i,s,l){Mo(i,s,3,l)}function Jo(i,s,l,d){(3&i[2])===l&&Mo(i,s,l,d)}function So(i,s){let l=i[2];(3&l)===s&&(l&=2047,l+=1,i[2]=l)}function Mo(i,s,l,d){const _=d??-1,I=s.length-1;let R=0;for(let L=void 0!==d?65535&i[18]:0;L<I;L++)if("number"==typeof s[L+1]){if(R=s[L],null!=d&&R>=d)break}else s[L]<0&&(i[18]+=65536),(R<_||-1==_)&&(ba(i,l,s,L),i[18]=(4294901760&i[18])+L+2),L++}function ba(i,s,l,d){const p=l[d]<0,_=l[d+1],R=i[p?-l[d]:l[d]];if(p){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{_.call(R)}finally{}}}else try{_.call(R)}finally{}}class wr{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function vs(i,s,l){let d=0;for(;d<l.length;){const p=l[d];if("number"==typeof p){if(0!==p)break;d++;const _=l[d++],I=l[d++],R=l[d++];i.setAttribute(s,I,R,_)}else{const _=p,I=l[++d];ka(_)?i.setProperty(s,_,I):i.setAttribute(s,_,I),d++}}return d}function Sl(i){return 3===i||4===i||6===i}function ka(i){return 64===i.charCodeAt(0)}function ea(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const p=s[d];"number"==typeof p?l=p:0===l||Qe(i,l,p,null,-1===l||2===l?s[++d]:null)}}return i}function Qe(i,s,l,d,p){let _=0,I=i.length;if(-1===s)I=-1;else for(;_<i.length;){const R=i[_++];if("number"==typeof R){if(R===s){I=-1;break}if(R>s){I=_-1;break}}}for(;_<i.length;){const R=i[_];if("number"==typeof R)break;if(R===l){if(null===d)return void(null!==p&&(i[_+1]=p));if(d===i[_+1])return void(i[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==I&&(i.splice(I,0,s),_=I+1),i.splice(_++,0,l),null!==d&&i.splice(_++,0,d),null!==p&&i.splice(_++,0,p)}function Br(i){return-1!==i}function Vr(i){return 32767&i}function Na(i,s){let l=function Pa(i){return i>>16}(i),d=s;for(;l>0;)d=d[15],l--;return d}let nu=!0;function On(i){const s=nu;return nu=i,s}let si=0;const ai={};function $n(i,s){const l=wn(i,s);if(-1!==l)return l;const d=s[1];d.firstCreatePass&&(i.injectorIndex=s.length,sn(d.data,i),sn(s,null),sn(d.blueprint,null));const p=qr(i,s),_=i.injectorIndex;if(Br(p)){const I=Vr(p),R=Na(p,s),L=R[1].data;for(let J=0;J<8;J++)s[_+J]=R[I+J]|L[I+J]}return s[_+8]=p,_}function sn(i,s){i.push(0,0,0,0,0,0,0,0,s)}function wn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function qr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let l=0,d=null,p=s;for(;null!==p;){if(d=$i(p),null===d)return-1;if(l++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function hl(i,s,l){!function Mc(i,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(ot)&&(d=l[ot]),null==d&&(d=l[ot]=si++);const p=255&d;s.data[i+(p>>5)]|=1<<p}(i,s,l)}function tc(i,s,l){if(l&Cn.Optional||void 0!==i)return i;Oe()}function fl(i,s,l,d){if(l&Cn.Optional&&void 0===d&&(d=null),0==(l&(Cn.Self|Cn.Host))){const p=i[9],_=j(void 0);try{return p?p.get(s,d,l&Cn.Optional):Z(s,d,l&Cn.Optional)}finally{j(_)}}return tc(d,0,l)}function Ja(i,s,l,d=Cn.Default,p){if(null!==i){if(1024&s[2]){const I=function pl(i,s,l,d,p){let _=i,I=s;for(;null!==_&&null!==I&&1024&I[2]&&!(256&I[2]);){const R=ks(_,I,l,d|Cn.Self,ai);if(R!==ai)return R;let L=_.parent;if(!L){const J=I[21];if(J){const Ee=J.get(l,ai,d);if(Ee!==ai)return Ee}L=$i(I),I=I[15]}_=L}return p}(i,s,l,d,ai);if(I!==ai)return I}const _=ks(i,s,l,d,ai);if(_!==ai)return _}return fl(s,l,d,p)}function ks(i,s,l,d,p){const _=function nc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ot)?i[ot]:void 0;return"number"==typeof s?s>=0?255&s:Pu:s}(l);if("function"==typeof _){if(!qa(s,i,d))return d&Cn.Host?tc(p,0,d):fl(s,l,d,p);try{const I=_(d);if(null!=I||d&Cn.Optional)return I;Oe()}finally{F()}}else if("number"==typeof _){let I=null,R=wn(i,s),L=-1,J=d&Cn.Host?s[16][6]:null;for((-1===R||d&Cn.SkipSelf)&&(L=-1===R?qr(i,s):s[R+8],-1!==L&&Ei(d,!1)?(I=s[1],R=Vr(L),s=Na(L,s)):R=-1);-1!==R;){const Ee=s[1];if(na(_,R,Ee.data)){const tt=Ml(R,s,l,I,d,J);if(tt!==ai)return tt}L=s[R+8],-1!==L&&Ei(d,s[1].data[R+8]===J)&&na(_,R,s)?(I=Ee,R=Vr(L),s=Na(L,s)):R=-1}}return p}function Ml(i,s,l,d,p,_){const I=s[1],R=I.data[i+8],Ee=ta(R,I,l,null==d?$r(R)&&nu:d!=I&&0!=(3&R.type),p&Cn.Host&&_===R);return null!==Ee?Lo(s,I,Ee,R):ai}function ta(i,s,l,d,p){const _=i.providerIndexes,I=s.data,R=1048575&_,L=i.directiveStart,Ee=_>>20,Ot=p?R+Ee:i.directiveEnd;for(let Xt=d?R:R+Ee;Xt<Ot;Xt++){const En=I[Xt];if(Xt<L&&l===En||Xt>=L&&En.type===l)return Xt}if(p){const Xt=I[L];if(Xt&&Rr(Xt)&&Xt.type===l)return L}return null}function Lo(i,s,l,d){let p=i[l];const _=s.data;if(function co(i){return i instanceof wr}(p)){const I=p;I.resolving&&function $e(i,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Re(-200,`Circular dependency in DI detected for ${i}${l}`)}(function Je(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ye(i)}(_[l]));const R=On(I.canSeeViewProviders);I.resolving=!0;const L=I.injectImpl?j(I.injectImpl):null;qa(i,d,Cn.Default);try{p=i[l]=I.factory(void 0,_,i,d),s.firstCreatePass&&l>=d.directiveStart&&function Zr(i,s,l){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=s.type.prototype;if(d){const I=eo(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(i,I),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,I)}p&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-i,p),_&&((l.preOrderHooks||(l.preOrderHooks=[])).push(i,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,_))}(l,_[l],s)}finally{null!==L&&j(L),On(R),I.resolving=!1,F()}}return p}function na(i,s,l){return!!(l[s+(i>>5)]&1<<i)}function Ei(i,s){return!(i&Cn.Self||i&Cn.Host&&s)}class Ar{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return Ja(this._tNode,this._lView,s,d,l)}}function Pu(){return new Ar(Yr(),_n())}function ls(i){return We(()=>{const s=i.prototype.constructor,l=s[_t]||gi(s),d=Object.prototype;let p=Object.getPrototypeOf(i.prototype).constructor;for(;p&&p!==d;){const _=p[_t]||gi(p);if(_&&_!==l)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function gi(i){return Te(i)?()=>{const s=gi(ue(i));return s&&s()}:Lr(i)}function $i(i){const s=i[1],l=s.type;return 2===l?s.declTNode:1===l?i[6]:null}function Al(i){return function Ac(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const l=i.attrs;if(l){const d=l.length;let p=0;for(;p<d;){const _=l[p];if(Sl(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof l[p];)p++;else{if(_===s)return l[p+1];p+=2}}}return null}(Yr(),i)}const jn="__parameters__";function Fa(i,s,l){return We(()=>{const d=function Qs(i){return function(...l){if(i){const d=i(...l);for(const p in d)this[p]=d[p]}}}(s);function p(..._){if(this instanceof p)return d.apply(this,_),this;const I=new p(..._);return R.annotation=I,R;function R(L,J,Ee){const tt=L.hasOwnProperty(jn)?L[jn]:Object.defineProperty(L,jn,{value:[]})[jn];for(;tt.length<=Ee;)tt.push(null);return(tt[Ee]=tt[Ee]||[]).push(I),L}}return l&&(p.prototype=Object.create(l.prototype)),p.prototype.ngMetadataName=i,p.annotationCls=p,p})}class yr{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Ce({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ms(i,s){void 0===s&&(s=i);for(let l=0;l<i.length;l++){let d=i[l];Array.isArray(d)?(s===i&&(s=i.slice(0,l)),ms(d,s)):s!==i&&s.push(d)}return s}function Uo(i,s){i.forEach(l=>Array.isArray(l)?Uo(l,s):s(l))}function Rl(i,s,l){s>=i.length?i.push(l):i.splice(s,0,l)}function kl(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function A(i,s){const l=[];for(let d=0;d<i;d++)l.push(s);return l}function et(i,s,l){let d=Un(i,s);return d>=0?i[1|d]=l:(d=~d,function B(i,s,l,d){let p=i.length;if(p==s)i.push(l,d);else if(1===p)i.push(d,i[0]),i[0]=l;else{for(p--,i.push(i[p-1],i[p]);p>s;)i[p]=i[p-2],p--;i[s]=l,i[s+1]=d}}(i,d,s,l)),d}function Wt(i,s){const l=Un(i,s);if(l>=0)return i[1|l]}function Un(i,s){return function Qn(i,s,l){let d=0,p=i.length>>l;for(;p!==d;){const _=d+(p-d>>1),I=i[_<<l];if(s===I)return _<<l;I>s?p=_:d=_+1}return~(p<<l)}(i,s,1)}const js={},aa="__NG_DI_FLAG__",gl="ngTempTokenPath",_l=/\n/gm,Oc="__source";let U;function Y(i){const s=U;return U=i,s}function ge(i,s=Cn.Default){if(void 0===U)throw new Re(-203,!1);return null===U?Z(i,void 0,s):U.get(i,s&Cn.Optional?null:void 0,s)}function nt(i,s=Cn.Default){return(function ht(){return Fn}()||ge)(ue(i),s)}function nn(i,s=Cn.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),nt(i,s)}function Dn(i){const s=[];for(let l=0;l<i.length;l++){const d=ue(i[l]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,!1);let p,_=Cn.Default;for(let I=0;I<d.length;I++){const R=d[I],L=vi(R);"number"==typeof L?-1===L?p=R.token:_|=L:p=R}s.push(nt(p,_))}else s.push(nt(d))}return s}function Gn(i,s){return i[aa]=s,i.prototype[aa]=s,i}function vi(i){return i[aa]}const wi=Gn(Fa("Inject",i=>({token:i})),-1),Qr=Gn(Fa("Optional"),8),Ps=Gn(Fa("Self"),2),Ba=Gn(Fa("SkipSelf"),4);var tl=(()=>((tl=tl||{})[tl.Important=1]="Important",tl[tl.DashCase=2]="DashCase",tl))();const rh=new Map;let _p=0;const v="__ngContext__";function w(i,s){Ki(s)?(i[v]=s[20],function yp(i){rh.set(i[20],i)}(s)):i[v]=s}function oc(i,s){return undefined(i,s)}function da(i){const s=i[3];return hs(s)?s[3]:s}function wd(i){return ah(i[13])}function ac(i){return ah(i[4])}function ah(i){for(;null!==i&&!hs(i);)i=i[4];return i}function bs(i,s,l,d,p){if(null!=d){let _,I=!1;hs(d)?_=d:Ki(d)&&(I=!0,d=d[0]);const R=fn(d);0===i&&null!==l?null==p?Fc(s,l,R):bl(s,l,R,p||null,!0):1===i&&null!==l?bl(s,l,R,p||null,!0):2===i?function Vl(i,s,l){const d=Lc(i,s);d&&function sg(i,s,l,d){i.removeChild(s,l,d)}(i,d,s,l)}(s,R,I):3===i&&s.destroyNode(R),null!=_&&function Dd(i,s,l,d,p){const _=l[7];_!==fn(l)&&bs(s,i,d,_,p);for(let R=10;R<l.length;R++){const L=l[R];Eo(L[1],L,i,s,d,_)}}(s,i,_,l,p)}}function Nc(i,s,l){return i.createElement(s,l)}function Ep(i,s){const l=i[9],d=l.indexOf(s),p=s[3];512&s[2]&&(s[2]&=-513,vr(p,-1)),l.splice(d,1)}function Gu(i,s){if(i.length<=10)return;const l=10+s,d=i[l];if(d){const p=d[17];null!==p&&p!==i&&Ep(p,d),s>0&&(i[l-1][4]=d[4]);const _=kl(i,10+s);!function lv(i,s){Eo(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(d[1],d);const I=_[19];null!==I&&I.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function wp(i,s){if(!(128&s[2])){const l=s[11];l.destroyNode&&Eo(i,s,l,3,null,null),function ff(i){let s=i[13];if(!s)return Cp(i[1],i);for(;s;){let l=null;if(Ki(s))l=s[13];else{const d=s[10];d&&(l=d)}if(!l){for(;s&&!s[4]&&s!==i;)Ki(s)&&Cp(s[1],s),s=s[3];null===s&&(s=i),Ki(s)&&Cp(s[1],s),l=s&&s[4]}s=l}}(s)}}function Cp(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function uv(i,s){let l;if(null!=i&&null!=(l=i.destroyHooks))for(let d=0;d<l.length;d+=2){const p=s[l[d]];if(!(p instanceof wr)){const _=l[d+1];if(Array.isArray(_))for(let I=0;I<_.length;I+=2){const R=p[_[I]],L=_[I+1];try{L.call(R)}finally{}}else try{_.call(p)}finally{}}}}(i,s),function er(i,s){const l=i.cleanup,d=s[7];let p=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const I=l[_+1],R="function"==typeof I?I(s):fn(s[I]),L=d[p=l[_+2]],J=l[_+3];"boolean"==typeof J?R.removeEventListener(l[_],L,J):J>=0?d[p=J]():d[p=-J].unsubscribe(),_+=2}else{const I=d[p=l[_+1]];l[_].call(I)}if(null!==d){for(let _=p+1;_<d.length;_++)(0,d[_])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const l=s[17];if(null!==l&&hs(s[3])){l!==s[3]&&Ep(l,s);const d=s[19];null!==d&&d.detachView(i)}!function vp(i){rh.delete(i[20])}(s)}}function lh(i,s,l){return function Bl(i,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[0];if(2&d.flags){const p=i.data[d.directiveStart].encapsulation;if(p===qe.None||p===qe.Emulated)return null}return Di(d,l)}(i,s.parent,l)}function bl(i,s,l,d,p){i.insertBefore(s,l,d,p)}function Fc(i,s,l){i.appendChild(s,l)}function Dp(i,s,l,d,p){null!==d?bl(i,s,l,d,p):Fc(i,s,l)}function Lc(i,s){return i.parentNode(s)}function Ip(i,s,l){return ch(i,s,l)}let Sp,uu,Mp,ch=function Ao(i,s,l){return 40&i.type?Di(i,l):null};function bo(i,s,l,d){const p=lh(i,d,s),_=s[11],R=Ip(d.parent||s[6],d,s);if(null!=p)if(Array.isArray(l))for(let L=0;L<l.length;L++)Dp(_,p,l[L],R,!1);else Dp(_,p,l,R,!1)}function Tp(i,s){if(null!==s){const l=s.type;if(3&l)return Di(s,i);if(4&l)return gf(-1,i[s.index]);if(8&l){const d=s.child;if(null!==d)return Tp(i,d);{const p=i[s.index];return hs(p)?gf(-1,p):fn(p)}}if(32&l)return oc(s,i)()||fn(i[s.index]);{const d=so(i,s);return null!==d?Array.isArray(d)?d[0]:Tp(da(i[16]),d):Tp(i,s.next)}}return null}function so(i,s){return null!==s?i[16][6].projection[s.projection]:null}function gf(i,s){const l=10+i+1;if(l<s.length){const d=s[l],p=d[1].firstChild;if(null!==p)return Tp(d,p)}return s[7]}function Ia(i,s,l,d,p,_,I){for(;null!=l;){const R=d[l.index],L=l.type;if(I&&0===s&&(R&&w(fn(R),d),l.flags|=4),64!=(64&l.flags))if(8&L)Ia(i,s,l.child,d,p,_,!1),bs(s,i,p,R,_);else if(32&L){const J=oc(l,d);let Ee;for(;Ee=J();)bs(s,i,p,Ee,_);bs(s,i,p,R,_)}else 16&L?Cd(i,s,d,l,p,_):bs(s,i,p,R,_);l=I?l.projectionNext:l.next}}function Eo(i,s,l,d,p,_){Ia(l,d,i.firstChild,s,p,_,!1)}function Cd(i,s,l,d,p,_){const I=l[16],L=I[6].projection[d.projection];if(Array.isArray(L))for(let J=0;J<L.length;J++)bs(s,i,p,L[J],_);else Ia(i,s,L,I[3],p,_,!0)}function wo(i,s,l){i.setAttribute(s,"style",l)}function _f(i,s,l){""===l?i.removeAttribute(s,"class"):i.setAttribute(s,"class",l)}function lc(i){return function cg(){if(void 0===Sp&&(Sp=null,mt.trustedTypes))try{Sp=mt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Sp}()?.createHTML(i)||i}function dv(i){uu=i}function cc(i){return function hg(){if(void 0===Mp&&(Mp=null,mt.trustedTypes))try{Mp=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Mp}()?.createHTML(i)||i}class zu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class X_ extends zu{getTypeName(){return"HTML"}}class pg extends zu{getTypeName(){return"Style"}}class Ta extends zu{getTypeName(){return"Script"}}class J_ extends zu{getTypeName(){return"URL"}}class mg extends zu{getTypeName(){return"ResourceURL"}}function Co(i){return i instanceof zu?i.changingThisBreaksApplicationSecurity:i}function $u(i,s){const l=function yf(i){return i instanceof zu&&i.getTypeName()||null}(i);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===s}function Ap(i){return new X_(i)}function hv(i){return new pg(i)}function ey(i){return new Ta(i)}function fv(i){return new J_(i)}function gg(i){return new mg(i)}class _g{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(lc(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class pv{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(s){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=lc(s),l;const d=this.inertDocument.createElement("body");return d.innerHTML=lc(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(s){const l=s.attributes;for(let p=l.length-1;0<p;p--){const I=l.item(p).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&s.removeAttribute(I)}let d=s.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const ty=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Op(i){return(i=String(i)).match(ty)?i:"unsafe:"+i}function du(i){const s={};for(const l of i.split(","))s[l]=!0;return s}function vf(...i){const s={};for(const l of i)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const yg=du("area,br,col,hr,img,wbr"),vg=du("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bg=du("rp,rt"),Rp=vf(yg,vf(vg,du("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vf(bg,du("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vf(bg,vg)),Eg=du("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kp=vf(Eg,du("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),du("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cg=du("script,style,template");class Dg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let p=this.checkClobberedElement(l,l.nextSibling);if(p){l=p;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!Rp.hasOwnProperty(l))return this.sanitizedSomething=!0,!Cg.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let p=0;p<d.length;p++){const _=d.item(p),I=_.name,R=I.toLowerCase();if(!kp.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let L=_.value;Eg[R]&&(L=Op(L)),this.buf.push(" ",I,'="',ny(L),'"')}return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();Rp.hasOwnProperty(l)&&!yg.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(ny(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const Ha=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pp=/([^\#-~ |!])/g;function ny(i){return i.replace(/&/g,"&amp;").replace(Ha,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Pp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bf;function Wu(i,s){let l=null;try{bf=bf||function xp(i){const s=new pv(i);return function mv(){try{return!!(new window.DOMParser).parseFromString(lc(""),"text/html")}catch{return!1}}()?new _g(s):s}(i);let d=s?String(s):"";l=bf.getInertBodyElement(d);let p=5,_=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=_,_=l.innerHTML,l=bf.getInertBodyElement(d)}while(d!==_);return lc((new Dg).sanitizeChildren(nl(l)||l))}finally{if(l){const d=nl(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function nl(i){return"content"in i&&function Ku(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Es=(()=>((Es=Es||{})[Es.NONE=0]="NONE",Es[Es.HTML=1]="HTML",Es[Es.STYLE=2]="STYLE",Es[Es.SCRIPT=3]="SCRIPT",Es[Es.URL=4]="URL",Es[Es.RESOURCE_URL=5]="RESOURCE_URL",Es))();function dh(i){const s=Ul();return s?cc(s.sanitize(Es.HTML,i)||""):$u(i,"HTML")?cc(Co(i)):Wu(function Id(){return void 0!==uu?uu:typeof document<"u"?document:void 0}(),Ye(i))}function Ef(i){const s=Ul();return s?s.sanitize(Es.URL,i)||"":$u(i,"URL")?Co(i):Op(Ye(i))}function Ul(){const i=_n();return i&&i[12]}const Sg=new yr("ENVIRONMENT_INITIALIZER"),Fp=new yr("INJECTOR",-1),Mg=new yr("INJECTOR_DEF_TYPES");class Ag{get(s,l=js){if(l===js){const d=new Error(`NullInjectorError: No provider for ${re(s)}!`);throw d.name="NullInjectorError",d}return l}}function Lp(...i){return{\u0275providers:Td(0,i)}}function Td(i,...s){const l=[],d=new Set;let p;return Uo(s,_=>{const I=_;ur(I,l,[],d)&&(p||(p=[]),p.push(I))}),void 0!==p&&hu(p,l),l}function hu(i,s){for(let l=0;l<i.length;l++){const{providers:p}=i[l];Uo(p,_=>{s.push(_)})}}function ur(i,s,l,d){if(!(i=ue(i)))return!1;let p=null,_=Pn(i);const I=!_&&oe(i);if(_||I){if(I&&!I.standalone)return!1;p=i}else{const L=i.ngModule;if(_=Pn(L),!_)return!1;p=L}const R=d.has(p);if(I){if(R)return!1;if(d.add(p),I.dependencies){const L="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const J of L)ur(J,s,l,d)}}else{if(!_)return!1;{if(null!=_.imports&&!R){let J;d.add(p);try{Uo(_.imports,Ee=>{ur(Ee,s,l,d)&&(J||(J=[]),J.push(Ee))})}finally{}void 0!==J&&hu(J,s)}if(!R){const J=Lr(p)||(()=>new p);s.push({provide:p,useFactory:J,deps:un},{provide:Mg,useValue:p,multi:!0},{provide:Sg,useValue:()=>nt(p),multi:!0})}const L=_.providers;null==L||R||Uo(L,Ee=>{s.push(Ee)})}}return p!==i&&void 0!==i.providers}const lr=be({provide:String,useValue:be});function Vc(i){return null!==i&&"object"==typeof i&&lr in i}function Md(i){return"function"==typeof i}const Yu=new yr("Set Injector scope."),es={},qi={};let Go;function Cf(){return void 0===Go&&(Go=new Ag),Go}class oo{}class il extends oo{constructor(s,l,d,p){super(),this.parent=l,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Up(s,I=>this.processProvider(I)),this.records.set(Fp,ha(void 0,this)),p.has("environment")&&this.records.set(oo,ha(void 0,this));const _=this.records.get(Yu);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Mg.multi,un,Cn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const l=Y(this),d=j(void 0);try{return s()}finally{Y(l),j(d)}}get(s,l=js,d=Cn.Default){this.assertNotDestroyed();const p=Y(this),_=j(void 0);try{if(!(d&Cn.SkipSelf)){let R=this.records.get(s);if(void 0===R){const L=function yv(i){return"function"==typeof i||"object"==typeof i&&i instanceof yr}(s)&&ve(s);R=L&&this.injectableDefInScope(L)?ha(ph(s),es):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(d&Cn.Self?Cf():this.parent).get(s,l=d&Cn.Optional&&l===js?null:l)}catch(I){if("NullInjectorError"===I.name){if((I[gl]=I[gl]||[]).unshift(re(s)),p)throw I;return function xi(i,s,l,d){const p=i[gl];throw s[Oc]&&p.unshift(s[Oc]),i.message=function Bi(i,s,l,d=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let p=re(s);if(Array.isArray(s))p=s.map(re).join(" -> ");else if("object"==typeof s){let _=[];for(let I in s)if(s.hasOwnProperty(I)){let R=s[I];_.push(I+":"+("string"==typeof R?JSON.stringify(R):re(R)))}p=`{${_.join(", ")}}`}return`${l}${d?"("+d+")":""}[${p}]: ${i.replace(_l,"\n  ")}`}("\n"+i.message,p,l,d),i.ngTokenPath=p,i[gl]=null,i}(I,s,"R3InjectorError",this.source)}throw I}finally{j(_),Y(p)}}resolveInjectorInitializers(){const s=Y(this),l=j(void 0);try{const d=this.get(Sg.multi,un,Cn.Self);for(const p of d)p()}finally{Y(s),j(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(re(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(s){let l=Md(s=ue(s))?s:ue(s&&s.provide);const d=function ay(i){return Vc(i)?ha(void 0,i.useValue):ha(Uc(i),es)}(s);if(Md(s)||!0!==s.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=ha(void 0,es,!0),p.factory=()=>Dn(p.multi),this.records.set(l,p)),l=s,p.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===es&&(l.value=qi,l.value=l.factory()),"object"==typeof l.value&&l.value&&function uc(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=ue(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function ph(i){const s=ve(i),l=null!==s?s.factory:Lr(i);if(null!==l)return l;if(i instanceof yr)throw new Re(204,!1);if(i instanceof Function)return function Bp(i){const s=i.length;if(s>0)throw A(s,"?"),new Re(204,!1);const l=function zt(i){const s=i&&(i[Vn]||i[ii]);if(s){const l=function An(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),s}return null}(i);return null!==l?()=>l.factory(i):()=>new i}(i);throw new Re(204,!1)}function Uc(i,s,l){let d;if(Md(i)){const p=ue(i);return Lr(p)||ph(p)}if(Vc(i))d=()=>ue(i.useValue);else if(function Sd(i){return!(!i||!i.useFactory)}(i))d=()=>i.useFactory(...Dn(i.deps||[]));else if(function Jr(i){return!(!i||!i.useExisting)}(i))d=()=>nt(ue(i.useExisting));else{const p=ue(i&&(i.useClass||i.provide));if(!function Vp(i){return!!i.deps}(i))return Lr(p)||ph(p);d=()=>new p(...Dn(i.deps))}return d}function ha(i,s,l=!1){return{factory:i,value:s,multi:l?[]:void 0}}function Ad(i){return!!i.\u0275providers}function Up(i,s){for(const l of i)Array.isArray(l)?Up(l,s):Ad(l)?Up(l.\u0275providers,s):s(l)}class xg{}class Hp{resolveComponentFactory(s){throw function ly(i){const s=Error(`No component factory found for ${re(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let dc=(()=>{class i{}return i.NULL=new Hp,i})();function Og(){return ja(Yr(),_n())}function ja(i,s){return new fu(Di(i,s))}let fu=(()=>{class i{constructor(l){this.nativeElement=l}}return i.__NG_ELEMENT_ID__=Og,i})();function hc(i){return i instanceof fu?i.nativeElement:i}class ho{}let Df=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function jp(){const i=_n(),l=Yi(Yr().index,i);return(Ki(l)?l:i)[11]}(),i})(),Gp=(()=>{class i{}return i.\u0275prov=Ce({token:i,providedIn:"root",factory:()=>null}),i})();class cy{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const zp=new cy("14.2.12"),$p={};function fo(i){return i.ngOriginalError}class mh{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&fo(s);for(;l&&fo(l);)l=fo(l);return l||null}}function uy(i){return i.ownerDocument.defaultView}function Sa(i){return i instanceof Function?i():i}function zs(i,s,l){let d=i.length;for(;;){const p=i.indexOf(s,l);if(-1===p)return p;if(0===p||i.charCodeAt(p-1)<=32){const _=s.length;if(p+_===d||i.charCodeAt(p+_)<=32)return p}l=p+1}}const kg="ng-template";function If(i,s,l){let d=0;for(;d<i.length;){let p=i[d++];if(l&&"class"===p){if(p=i[d],-1!==zs(p.toLowerCase(),s,0))return!0}else if(1===p){for(;d<i.length&&"string"==typeof(p=i[d++]);)if(p.toLowerCase()===s)return!0;return!1}}return!1}function xd(i){return 4===i.type&&i.value!==kg}function Zp(i,s,l){return s===(4!==i.type||l?i.value:kg)}function hy(i,s,l){let d=4;const p=i.attrs||[],_=function qp(i){for(let s=0;s<i.length;s++)if(Sl(i[s]))return s;return i.length}(p);let I=!1;for(let R=0;R<s.length;R++){const L=s[R];if("number"!=typeof L){if(!I)if(4&d){if(d=2|1&d,""!==L&&!Zp(i,L,l)||""===L&&1===s.length){if(El(d))return!1;I=!0}}else{const J=8&d?L:s[++R];if(8&d&&null!==i.attrs){if(!If(i.attrs,J,l)){if(El(d))return!1;I=!0}continue}const tt=Dv(8&d?"class":L,p,xd(i),l);if(-1===tt){if(El(d))return!1;I=!0;continue}if(""!==J){let Ot;Ot=tt>_?"":p[tt+1].toLowerCase();const Xt=8&d?Ot:null;if(Xt&&-1!==zs(Xt,J,0)||2&d&&J!==Ot){if(El(d))return!1;I=!0}}}}else{if(!I&&!El(d)&&!El(L))return!1;if(I&&El(L))continue;I=!1,d=L|1&d}}return El(d)||I}function El(i){return 0==(1&i)}function Dv(i,s,l,d){if(null===s)return-1;let p=0;if(d||!l){let _=!1;for(;p<s.length;){const I=s[p];if(I===i)return p;if(3===I||6===I)_=!0;else{if(1===I||2===I){let R=s[++p];for(;"string"==typeof R;)R=s[++p];continue}if(4===I)break;if(0===I){p+=4;continue}}p+=_?1:2}return-1}return function gu(i,s){let l=i.indexOf(4);if(l>-1)for(l++;l<i.length;){const d=i[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,i)}function Ju(i,s,l=!1){for(let d=0;d<s.length;d++)if(hy(i,s[d],l))return!0;return!1}function gh(i,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(i.length===d.length){for(let p=0;p<i.length;p++)if(i[p]!==d[p])continue e;return!0}}return!1}function Rd(i,s){return i?":not("+s.trim()+")":s}function fy(i){let s=i[0],l=1,d=2,p="",_=!1;for(;l<i.length;){let I=i[l];if("string"==typeof I)if(2&d){const R=i[++l];p+="["+I+(R.length>0?'="'+R+'"':"")+"]"}else 8&d?p+="."+I:4&d&&(p+=" "+I);else""!==p&&!El(I)&&(s+=Rd(_,p),p=""),d=I,_=_||!El(d);l++}return""!==p&&(s+=Rd(_,p)),s}const Wi={};function Pd(i){Ng(Ii(),_n(),vt()+i,!1)}function Ng(i,s,l,d){if(!d)if(3==(3&s[2])){const _=i.preOrderCheckHooks;null!==_&&Er(s,_,l)}else{const _=i.preOrderHooks;null!==_&&Jo(s,_,0,l)}Zt(l)}function Tf(i,s=null,l=null,d){const p=Bg(i,s,l,d);return p.resolveInjectorInitializers(),p}function Bg(i,s=null,l=null,d,p=new Set){const _=[l||un,Lp(i)];return d=d||("object"==typeof i?void 0:re(i)),new il(_,s||Cf(),d||null,p)}let Hc=(()=>{class i{static create(l,d){if(Array.isArray(l))return Tf({name:""},d,l,"");{const p=l.name??"";return Tf({name:p},l.parent,l.providers,p)}}}return i.THROW_IF_NOT_FOUND=js,i.NULL=new Ag,i.\u0275prov=Ce({token:i,providedIn:"any",factory:()=>nt(Fp)}),i.__NG_ELEMENT_ID__=-1,i})();function zo(i,s=Cn.Default){const l=_n();return null===l?nt(i,s):Ja(Yr(),l,ue(i),s)}function yu(){throw new Error("invalid")}function Th(i,s){return i<<17|s<<2}function $o(i){return i>>17&32767}function $c(i){return 2|i}function Gl(i){return(131068&i)>>2}function vu(i,s){return-131069&i|s<<2}function td(i){return 1|i}function yy(i,s){const l=i.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const p=l[d],_=l[d+1];if(-1!==_){const I=i.data[_];_o(p),I.contentQueries(2,s[_],_)}}}function xh(i,s,l,d,p,_,I,R,L,J,Ee){const tt=s.blueprint.slice();return tt[0]=p,tt[2]=76|d,(null!==Ee||i&&1024&i[2])&&(tt[2]|=1024),ys(tt),tt[3]=tt[15]=i,tt[8]=l,tt[10]=I||i&&i[10],tt[11]=R||i&&i[11],tt[12]=L||i&&i[12]||null,tt[9]=J||i&&i[9]||null,tt[6]=_,tt[20]=function uf(){return _p++}(),tt[21]=Ee,tt[16]=2==s.type?i[16]:tt,tt}function id(i,s,l,d,p){let _=i.data[s];if(null===_)_=function um(i,s,l,d,p){const _=K(),I=we(),L=i.data[s]=function pm(i,s,l,d,p,_){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?_:_&&_.parent,l,s,d,p);return null===i.firstChild&&(i.firstChild=L),null!==_&&(I?null==_.child&&null!==L.parent&&(_.child=L):null===_.next&&(_.next=L)),L}(i,s,l,d,p),function Sc(){return di.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=l,_.value=d,_.attrs=p;const I=function $(){const i=di.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();_.injectorIndex=null===I?-1:I.injectorIndex}return V(_,!0),_}function rd(i,s,l,d){if(0===l)return-1;const p=s.length;for(let _=0;_<l;_++)s.push(d),i.blueprint.push(d),i.data.push(null);return p}function dm(i,s,l){yo(s);try{const d=i.viewQuery;null!==d&&jd(1,d,l);const p=i.template;null!==p&&s_(i,s,p,1,l),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&yy(i,s),i.staticViewQueries&&jd(2,i.viewQuery,l);const _=i.components;null!==_&&function r_(i,s){for(let l=0;l<s.length;l++)Lh(i,s[l])}(s,_)}catch(d){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),d}finally{s[2]&=-5,te()}}function bu(i,s,l,d){const p=s[2];if(128!=(128&p)){yo(s);try{ys(s),function Mr(i){return di.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==l&&s_(i,s,l,2,d);const I=3==(3&p);if(I){const J=i.preOrderCheckHooks;null!==J&&Er(s,J,null)}else{const J=i.preOrderHooks;null!==J&&Jo(s,J,0,null),So(s,0)}if(function jf(i){for(let s=wd(i);null!==s;s=ac(s)){if(!s[2])continue;const l=s[9];for(let d=0;d<l.length;d++){const p=l[d],_=p[3];0==(512&p[2])&&vr(_,1),p[2]|=512}}}(s),function Hf(i){for(let s=wd(i);null!==s;s=ac(s))for(let l=10;l<s.length;l++){const d=s[l],p=d[1];Bs(d)&&bu(p,d,p.template,d[8])}}(s),null!==i.contentQueries&&yy(i,s),I){const J=i.contentCheckHooks;null!==J&&Er(s,J)}else{const J=i.contentHooks;null!==J&&Jo(s,J,1),So(s,1)}!function n_(i,s){const l=i.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const p=l[d];if(p<0)Zt(~p);else{const _=p,I=l[++d],R=l[++d];dl(I,_),R(2,s[_])}}}finally{Zt(-1)}}(i,s);const R=i.components;null!==R&&function i_(i,s){for(let l=0;l<s.length;l++)gm(i,s[l])}(s,R);const L=i.viewQuery;if(null!==L&&jd(2,L,d),I){const J=i.viewCheckHooks;null!==J&&Er(s,J)}else{const J=i.viewHooks;null!==J&&Jo(s,J,2),So(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,vr(s[3],-1))}finally{te()}}}function s_(i,s,l,d,p){const _=vt(),I=2&d;try{Zt(-1),I&&s.length>22&&Ng(i,s,22,!1),l(d,p)}finally{Zt(_)}}function hm(i,s,l){if(Ws(s)){const p=s.directiveEnd;for(let _=s.directiveStart;_<p;_++){const I=i.data[_];I.contentQueries&&I.contentQueries(1,l[_],_)}}}function o_(i,s,l){!Zs()||(function Lf(i,s,l,d){const p=l.directiveStart,_=l.directiveEnd;i.firstCreatePass||$n(l,s),w(d,s);const I=l.initialInputs;for(let R=p;R<_;R++){const L=i.data[R],J=Rr(L);J&&u_(s,l,L);const Ee=Lo(s,i,R,l);w(Ee,s),null!==I&&Dy(0,R-p,Ee,L,0,I),J&&(Yi(l.index,s)[8]=Ee)}}(i,s,l,Di(l,s)),128==(128&l.flags)&&function a_(i,s,l){const d=l.directiveStart,p=l.directiveEnd,_=l.index,I=function Dl(){return di.lFrame.currentDirectiveIndex}();try{Zt(_);for(let R=d;R<p;R++){const L=i.data[R],J=s[R];Oa(R),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&l_(L,J)}}finally{Zt(-1),Oa(I)}}(i,s,l))}function Ff(i,s,l=Di){const d=s.localNames;if(null!==d){let p=s.index+1;for(let _=0;_<d.length;_+=2){const I=d[_+1],R=-1===I?l(s,i):i[I];i[p++]=R}}}function Oh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Rh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Rh(i,s,l,d,p,_,I,R,L,J){const Ee=22+d,tt=Ee+p,Ot=function kh(i,s){const l=[];for(let d=0;d<s;d++)l.push(d<i?null:Wi);return l}(Ee,tt),Xt="function"==typeof J?J():J;return Ot[1]={type:i,blueprint:Ot,template:l,queries:null,viewQuery:R,declTNode:s,data:Ot.slice().fill(null,Ee),bindingStartIndex:Ee,expandoStartIndex:tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:L,consts:Xt,incompleteFirstPass:!1}}function Eu(i,s,l,d){const p=Ts(s);null===l?p.push(d):(p.push(l),i.firstCreatePass&&pa(i).push(d,p.length-1))}function mc(i,s,l){for(let d in i)if(i.hasOwnProperty(d)){const p=i[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(s,p):l[d]=[s,p]}return l}function gc(i,s){const d=s.directiveEnd,p=i.data,_=s.attrs,I=[];let R=null,L=null;for(let J=s.directiveStart;J<d;J++){const Ee=p[J],tt=Ee.inputs,Ot=null===_||xd(s)?null:d_(tt,_);I.push(Ot),R=mc(tt,J,R),L=mc(Ee.outputs,J,L)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=16),R.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=I,s.inputs=R,s.outputs=L}function Wo(i,s,l,d,p,_,I,R){const L=Di(s,l);let Ee,J=s.inputs;!R&&null!=J&&(Ee=J[d])?(zf(i,l,Ee,d,p),$r(s)&&vy(l,s.index)):3&s.type&&(d=function mm(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(d),p=null!=I?I(p,s.value||"",d):p,_.setProperty(L,d,p))}function vy(i,s){const l=Yi(s,i);16&l[2]||(l[2]|=32)}function Ud(i,s,l,d){let p=!1;if(Zs()){const _=function c_(i,s,l){const d=i.directiveRegistry;let p=null;if(d)for(let _=0;_<d.length;_++){const I=d[_];Ju(l,I.selectors,!1)&&(p||(p=[]),hl($n(l,s),i,I.type),Rr(I)?(Ph(i,l),p.unshift(I)):p.push(I))}return p}(i,s,l),I=null===d?null:{"":-1};if(null!==_){p=!0,Nh(l,i.data.length,_.length);for(let Ee=0;Ee<_.length;Ee++){const tt=_[Ee];tt.providersResolver&&tt.providersResolver(tt)}let R=!1,L=!1,J=rd(i,s,_.length,null);for(let Ee=0;Ee<_.length;Ee++){const tt=_[Ee];l.mergedAttrs=ea(l.mergedAttrs,tt.hostAttrs),Bf(i,l,s,J,tt),Rv(J,tt,I),null!==tt.contentQueries&&(l.flags|=8),(null!==tt.hostBindings||null!==tt.hostAttrs||0!==tt.hostVars)&&(l.flags|=128);const Ot=tt.type.prototype;!R&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(l.index),R=!0),!L&&(Ot.ngOnChanges||Ot.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(l.index),L=!0),J++}gc(i,l)}I&&function Cy(i,s,l){if(s){const d=i.localNames=[];for(let p=0;p<s.length;p+=2){const _=l[s[p+1]];if(null==_)throw new Re(-301,!1);d.push(s[p],_)}}}(l,d,I)}return l.mergedAttrs=ea(l.mergedAttrs,l.attrs),p}function wy(i,s,l,d,p,_){const I=_.hostBindings;if(I){let R=i.hostBindingOpCodes;null===R&&(R=i.hostBindingOpCodes=[]);const L=~s.index;(function Yc(i){let s=i.length;for(;s>0;){const l=i[--s];if("number"==typeof l&&l<0)return l}return 0})(R)!=L&&R.push(L),R.push(d,p,I)}}function l_(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ph(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Rv(i,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=i;Rr(s)&&(l[""]=i)}}function Nh(i,s,l){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+l,i.providerIndexes=s}function Bf(i,s,l,d,p){i.data[d]=p;const _=p.factory||(p.factory=Lr(p.type)),I=new wr(_,Rr(p),zo);i.blueprint[d]=I,l[d]=I,wy(i,s,0,d,rd(i,l,p.hostVars,Wi),p)}function u_(i,s,l){const d=Di(s,i),p=Oh(l),_=i[10],I=cr(i,xh(i,p,null,l.onPush?32:16,d,s,_,_.createRenderer(d,l),null,null,null));i[s.index]=I}function fa(i,s,l,d,p,_){const I=Di(i,s);!function Fh(i,s,l,d,p,_,I){if(null==_)i.removeAttribute(s,p,l);else{const R=null==I?Ye(_):I(_,d||"",p);i.setAttribute(s,p,R,l)}}(s[11],I,_,i.value,l,d,p)}function Dy(i,s,l,d,p,_){const I=_[s];if(null!==I){const R=d.setInput;for(let L=0;L<I.length;){const J=I[L++],Ee=I[L++],tt=I[L++];null!==R?d.setInput(l,tt,J,Ee):l[Ee]=tt}}}function d_(i,s){let l=null,d=0;for(;d<s.length;){const p=s[d];if(0!==p)if(5!==p){if("number"==typeof p)break;i.hasOwnProperty(p)&&(null===l&&(l=[]),l.push(p,i[p],s[d+1])),d+=2}else d+=2;else d+=4}return l}function Uf(i,s,l,d){return new Array(i,!0,!1,s,null,0,d,l,null,null)}function gm(i,s){const l=Yi(s,i);if(Bs(l)){const d=l[1];48&l[2]?bu(d,l,d.template,l[8]):l[5]>0&&_m(l)}}function _m(i){for(let d=wd(i);null!==d;d=ac(d))for(let p=10;p<d.length;p++){const _=d[p];if(Bs(_))if(512&_[2]){const I=_[1];bu(I,_,I.template,_[8])}else _[5]>0&&_m(_)}const l=i[1].components;if(null!==l)for(let d=0;d<l.length;d++){const p=Yi(l[d],i);Bs(p)&&p[5]>0&&_m(p)}}function Lh(i,s){const l=Yi(s,i),d=l[1];(function ym(i,s){for(let l=s.length;l<i.blueprint.length;l++)s.push(i.blueprint[l])})(d,l),dm(d,l,l[8])}function cr(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function vm(i){for(;i;){i[2]|=32;const s=da(i);if(lt(i)&&!s)return i;i=s}return null}function Hd(i,s,l,d=!0){const p=s[10];p.begin&&p.begin();try{bu(i,s,i.template,l)}catch(I){throw d&&Gf(s,I),I}finally{p.end&&p.end()}}function jd(i,s,l){_o(0),s(i,l)}function Ts(i){return i[7]||(i[7]=[])}function pa(i){return i.cleanup||(i.cleanup=[])}function zl(i,s,l){return(null===i||Rr(i))&&(l=function Yn(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(l[s.index])),l[11]}function Gf(i,s){const l=i[9],d=l?l.get(mh,null):null;d&&d.handleError(s)}function zf(i,s,l,d,p){for(let _=0;_<l.length;){const I=l[_++],R=l[_++],L=s[I],J=i.data[I];null!==J.setInput?J.setInput(L,p,d,R):L[R]=p}}function sd(i,s,l){let d=l?i.styles:null,p=l?i.classes:null,_=0;if(null!==s)for(let I=0;I<s.length;I++){const R=s[I];"number"==typeof R?_=R:1==_?p=pe(p,R):2==_&&(d=pe(d,R+": "+s[++I]+";"))}l?i.styles=d:i.stylesWithoutHost=d,l?i.classes=p:i.classesWithoutHost=p}function $l(i,s,l,d,p=!1){for(;null!==l;){const _=s[l.index];if(null!==_&&d.push(fn(_)),hs(_))for(let R=10;R<_.length;R++){const L=_[R],J=L[1].firstChild;null!==J&&$l(L[1],L,J,d)}const I=l.type;if(8&I)$l(i,s,l.child,d);else if(32&I){const R=oc(l,s);let L;for(;L=R();)d.push(L)}else if(16&I){const R=so(s,l);if(Array.isArray(R))d.push(...R);else{const L=da(s[16]);$l(L[1],L,R,d,!0)}}l=p?l.projectionNext:l.next}return d}class od{constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,l=s[1];return $l(l,s,l.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(hs(s)){const l=s[8],d=l?l.indexOf(this):-1;d>-1&&(Gu(s,d),kl(l,d))}this._attachedToViewContainer=!1}wp(this._lView[1],this._lView)}onDestroy(s){Eu(this._lView[1],this._lView,null,s)}markForCheck(){vm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Hd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ju(i,s){Eo(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=s}}class $f extends od{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Hd(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class f_ extends dc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=oe(s);return new wu(l,this.ngModule)}}function bm(i){const s=[];for(let l in i)i.hasOwnProperty(l)&&s.push({propName:i[l],templateName:l});return s}class kv{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){const p=this.injector.get(s,$p,d);return p!==$p||l===$p?p:this.parentInjector.get(s,l,d)}}class wu extends xg{constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function Pg(i){return i.map(fy).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return bm(this.componentDef.inputs)}get outputs(){return bm(this.componentDef.outputs)}create(s,l,d,p){let _=(p=p||this.ngModule)instanceof oo?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const I=_?new kv(s,_):s,R=I.get(ho,null);if(null===R)throw new Re(407,!1);const L=I.get(Gp,null),J=R.createRenderer(null,this.componentDef),Ee=this.componentDef.selectors[0][0]||"div",tt=d?function fm(i,s,l){return i.selectRootElement(s,l===qe.ShadowDom)}(J,d,this.componentDef.encapsulation):Nc(J,Ee,function Ty(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(Ee)),Ot=this.componentDef.onPush?288:272,Xt=Rh(0,null,null,1,0,null,null,null,null,null),En=xh(null,Xt,null,Ot,null,null,R,J,L,I,null);let Kn,ni;yo(En);try{const bi=function Em(i,s,l,d,p,_){const I=l[1];l[22]=i;const L=id(I,22,2,"#host",null),J=L.mergedAttrs=s.hostAttrs;null!==J&&(sd(L,J,!0),null!==i&&(vs(p,i,J),null!==L.classes&&_f(p,i,L.classes),null!==L.styles&&wo(p,i,L.styles)));const Ee=d.createRenderer(i,s),tt=xh(l,Oh(s),null,s.onPush?32:16,l[22],L,d,Ee,_||null,null,null);return I.firstCreatePass&&(hl($n(L,l),I,s.type),Ph(I,L),Nh(L,l.length,1)),cr(l,tt),l[22]=tt}(tt,this.componentDef,En,R,J);if(tt)if(d)vs(J,tt,["ng-version",zp.full]);else{const{attrs:Ni,classes:Rn}=function kd(i){const s=[],l=[];let d=1,p=2;for(;d<i.length;){let _=i[d];if("string"==typeof _)2===p?""!==_&&s.push(_,i[++d]):8===p&&l.push(_);else{if(!El(p))break;p=_}d++}return{attrs:s,classes:l}}(this.componentDef.selectors[0]);Ni&&vs(J,tt,Ni),Rn&&Rn.length>0&&_f(J,tt,Rn.join(" "))}if(ni=kr(Xt,22),void 0!==l){const Ni=ni.projection=[];for(let Rn=0;Rn<this.ngContentSelectors.length;Rn++){const Vi=l[Rn];Ni.push(null!=Vi?Array.from(Vi):null)}}Kn=function Bh(i,s,l,d){const p=l[1],_=function Ey(i,s,l){const d=Yr();i.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Bf(i,d,s,rd(i,s,1,null),l),gc(i,d));const p=Lo(s,i,d.directiveStart,d);w(p,s);const _=Di(d,s);return _&&w(_,s),p}(p,l,s);if(i[8]=l[8]=_,null!==d)for(const R of d)R(_,s);if(s.contentQueries){const R=Yr();s.contentQueries(1,_,R.directiveStart)}const I=Yr();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Zt(I.index),wy(l[1],I,0,I.directiveStart,I.directiveEnd,s),l_(s,_)),_}(bi,this.componentDef,En,[wm]),dm(Xt,En,null)}finally{te()}return new Sy(this.componentType,Kn,ja(ni,En),En,ni)}}class Sy extends class Zu{}{constructor(s,l,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new $f(p),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[s])){const _=this._rootLView;zf(_[1],_,p,s,l),vy(_,this._tNode.index)}}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function wm(){const i=Yr();mr(_n()[1],i)}function Zc(i){let s=function Cm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),l=!0;const d=[i];for(;s;){let p;if(Rr(i))p=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Re(903,!1);p=s.\u0275dir}if(p){if(l){d.push(p);const I=i;I.inputs=ad(i.inputs),I.declaredInputs=ad(i.declaredInputs),I.outputs=ad(i.outputs);const R=p.hostBindings;R&&Wf(i,R);const L=p.viewQuery,J=p.contentQueries;if(L&&Dm(i,L),J&&Im(i,J),Fe(i.inputs,p.inputs),Fe(i.declaredInputs,p.declaredInputs),Fe(i.outputs,p.outputs),Rr(p)&&p.data.animation){const Ee=i.data;Ee.animation=(Ee.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let I=0;I<_.length;I++){const R=_[I];R&&R.ngInherit&&R(i),R===Zc&&(l=!1)}}s=Object.getPrototypeOf(s)}!function Wl(i){let s=0,l=null;for(let d=i.length-1;d>=0;d--){const p=i[d];p.hostVars=s+=p.hostVars,p.hostAttrs=ea(p.hostAttrs,l=ea(l,p.hostAttrs))}}(d)}function ad(i){return i===qn?{}:i===un?[]:i}function Dm(i,s){const l=i.viewQuery;i.viewQuery=l?(d,p)=>{s(d,p),l(d,p)}:s}function Im(i,s){const l=i.contentQueries;i.contentQueries=l?(d,p,_)=>{s(d,p,_),l(d,p,_)}:s}function Wf(i,s){const l=i.hostBindings;i.hostBindings=l?(d,p)=>{s(d,p),l(d,p)}:s}let Ga=null;function ld(){if(!Ga){const i=mt.Symbol;if(i&&i.iterator)Ga=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<s.length;++l){const d=s[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ga=d)}}}return Ga}function Cu(i){return!!Tm(i)&&(Array.isArray(i)||!(i instanceof Map)&&ld()in i)}function Tm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function _c(i,s,l){return i[s]=l}function Ko(i,s,l){return!Object.is(i[s],l)&&(i[s]=l,!0)}function Gd(i,s,l,d){const p=Ko(i,s,l);return Ko(i,s+1,d)||p}function g_(i,s,l,d){const p=_n();return Ko(p,Ya(),s)&&(Ii(),fa(dn(),p,i,s,l,d)),g_}function Ss(i,s,l,d){return Ko(i,Ya(),l)?s+Ye(l)+d:Wi}function qf(i,s,l,d,p,_,I,R){const L=_n(),J=Ii(),Ee=i+22,tt=J.firstCreatePass?function y_(i,s,l,d,p,_,I,R,L){const J=s.consts,Ee=id(s,i,4,I||null,as(J,R));Ud(s,l,Ee,as(J,L)),mr(s,Ee);const tt=Ee.tViews=Rh(2,Ee,d,p,_,s.directiveRegistry,s.pipeRegistry,null,s.schemas,J);return null!==s.queries&&(s.queries.template(s,Ee),tt.queries=s.queries.embeddedTView(Ee)),Ee}(Ee,J,L,s,l,d,p,_,I):J.data[Ee];V(tt,!1);const Ot=L[11].createComment("");bo(J,L,Ot,tt),w(Ot,L),cr(L,L[Ee]=Uf(Ot,L,Ot,tt)),Ks(tt)&&o_(J,L,tt),null!=I&&Ff(L,tt,R)}function cd(i){return os(function pr(){return di.lFrame.contextLView}(),22+i)}function Wh(i,s,l){const d=_n();return Ko(d,Ya(),s)&&Wo(Ii(),dn(),d,i,s,d[11],l,!1),Wh}function Mm(i,s,l,d,p){const I=p?"class":"style";zf(i,l,s.inputs[I],I,d)}function dd(i,s,l,d){const p=_n(),_=Ii(),I=22+i,R=p[11],L=p[I]=Nc(R,s,function Hi(){return di.lFrame.currentNamespace}()),J=_.firstCreatePass?function ud(i,s,l,d,p,_,I){const R=s.consts,J=id(s,i,2,p,as(R,_));return Ud(s,l,J,as(R,I)),null!==J.attrs&&sd(J,J.attrs,!1),null!==J.mergedAttrs&&sd(J,J.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,J),J}(I,_,p,0,s,l,d):_.data[I];V(J,!0);const Ee=J.mergedAttrs;null!==Ee&&vs(R,L,Ee);const tt=J.classes;null!==tt&&_f(R,L,tt);const Ot=J.styles;return null!==Ot&&wo(R,L,Ot),64!=(64&J.flags)&&bo(_,p,L,J),0===function ya(){return di.lFrame.elementDepthCount}()&&w(L,p),function ul(){di.lFrame.elementDepthCount++}(),Ks(J)&&(o_(_,p,J),hm(_,J,p)),null!==d&&Ff(p,J),dd}function yc(){let i=Yr();we()?tn():(i=i.parent,V(i,!1));const s=i;!function to(){di.lFrame.elementDepthCount--}();const l=Ii();return l.firstCreatePass&&(mr(l,i),Ws(i)&&l.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Jl(i){return 0!=(16&i.flags)}(s)&&Mm(l,s,_n(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Tl(i){return 0!=(32&i.flags)}(s)&&Mm(l,s,_n(),s.stylesWithoutHost,!1),yc}function Kh(i,s,l,d){return dd(i,s,l,d),yc(),Kh}function Am(i,s,l){const d=_n(),p=Ii(),_=i+22,I=p.firstCreatePass?function Qf(i,s,l,d,p){const _=s.consts,I=as(_,d),R=id(s,i,8,"ng-container",I);return null!==I&&sd(R,I,!0),Ud(s,l,R,as(_,p)),null!==s.queries&&s.queries.elementStart(s,R),R}(_,p,d,s,l):p.data[_];V(I,!0);const R=d[_]=d[11].createComment("");return bo(p,d,R,I),w(R,d),Ks(I)&&(o_(p,d,I),hm(p,I,d)),null!=l&&Ff(d,I),Am}function xm(){let i=Yr();const s=Ii();return we()?tn():(i=i.parent,V(i,!1)),s.firstCreatePass&&(mr(s,i),Ws(i)&&s.queries.elementEnd(i)),xm}function Rm(){return _n()}function Yh(i){return!!i&&"function"==typeof i.then}function km(i){return!!i&&"function"==typeof i.subscribe}const Xc=km;function Xf(i,s,l,d){const p=_n(),_=Ii(),I=Yr();return vc(_,p,p[11],I,i,s,0,d),Xf}function ma(i,s){const l=Yr(),d=_n(),p=Ii();return vc(p,d,zl(Ra(p.data),l,d),l,i,s),ma}function vc(i,s,l,d,p,_,I,R){const L=Ks(d),Ee=i.firstCreatePass&&pa(i),tt=s[8],Ot=Ts(s);let Xt=!0;if(3&d.type||R){const ni=Di(d,s),bi=R?R(ni):ni,Ni=Ot.length,Rn=R?Is=>R(fn(Is[d.index])):d.index;let Vi=null;if(!R&&L&&(Vi=function Zh(i,s,l,d){const p=i.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const I=p[_];if(I===l&&p[_+1]===d){const R=s[7],L=p[_+2];return R.length>L?R[L]:null}"string"==typeof I&&(_+=2)}return null}(i,s,p,d.index)),null!==Vi)(Vi.__ngLastListenerFn__||Vi).__ngNextListenerFn__=_,Vi.__ngLastListenerFn__=_,Xt=!1;else{_=Ma(d,s,tt,_,!1);const Is=l.listen(bi,p,_);Ot.push(_,Is),Ee&&Ee.push(p,Rn,Ni,Ni+1)}}else _=Ma(d,s,tt,_,!1);const En=d.outputs;let Kn;if(Xt&&null!==En&&(Kn=En[p])){const ni=Kn.length;if(ni)for(let bi=0;bi<ni;bi+=2){const Io=s[Kn[bi]][Kn[bi+1]].subscribe(_),Y_=Ot.length;Ot.push(_,Io),Ee&&Ee.push(p,d.index,Y_,-(Y_+1))}}}function Jf(i,s,l,d){try{return!1!==l(d)}catch(p){return Gf(i,p),!1}}function Ma(i,s,l,d,p){return function _(I){if(I===Function)return d;vm(2&i.flags?Yi(i.index,s):s);let L=Jf(s,0,d,I),J=_.__ngNextListenerFn__;for(;J;)L=Jf(s,0,J,I)&&L,J=J.__ngNextListenerFn__;return p&&!1===L&&(I.preventDefault(),I.returnValue=!1),L}}function bc(i=1){return function H(i){return(di.lFrame.contextLView=function ye(i,s){for(;i>0;)s=s[15],i--;return s}(i,di.lFrame.contextLView))[8]}(i)}function v_(i,s){let l=null;const d=function Od(i){const s=i.attrs;if(null!=s){const l=s.indexOf(5);if(0==(1&l))return s[l+1]}return null}(i);for(let p=0;p<s.length;p++){const _=s[p];if("*"!==_){if(null===d?Ju(i,_,!0):gh(d,_))return p}else l=p}return l}function zd(i){const s=_n()[16][6];if(!s.projection){const d=s.projection=A(i?i.length:1,null),p=d.slice();let _=s.child;for(;null!==_;){const I=i?v_(_,i):0;null!==I&&(p[I]?p[I].projectionNext=_:d[I]=_,p[I]=_),_=_.next}}}function hd(i,s=0,l){const d=_n(),p=Ii(),_=id(p,22+i,16,null,l||null);null===_.projection&&(_.projection=s),tn(),64!=(64&_.flags)&&function ag(i,s,l){Cd(s[11],0,s,l,lh(i,l,s),Ip(l.parent||s[6],l,s))}(p,d,_)}function ep(i,s,l){return Pm(i,"",s,"",l),ep}function Pm(i,s,l,d,p){const _=_n(),I=Ss(_,s,l,d);return I!==Wi&&Wo(Ii(),dn(),_,i,I,_[11],p,!1),Pm}function b_(i,s,l,d,p){const _=i[l+1],I=null===s;let R=d?$o(_):Gl(_),L=!1;for(;0!==R&&(!1===L||I);){const Ee=i[R+1];E_(i[R],s)&&(L=!0,i[R+1]=d?td(Ee):$c(Ee)),R=d?$o(Ee):Gl(Ee)}L&&(i[l+1]=d?$c(_):td(_))}function E_(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Un(i,s)>=0}const Do={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function w_(i){return i.substring(Do.key,Do.keyEnd)}function D_(i,s){const l=Do.textEnd;return l===s?-1:(s=Do.keyEnd=function Wd(i,s,l){for(;s<l&&i.charCodeAt(s)>32;)s++;return s}(i,Do.key=s,l),Xh(i,s,l))}function Xh(i,s,l){for(;s<l&&i.charCodeAt(s)<=32;)s++;return s}function I_(i,s,l){return wc(i,s,l,!1),I_}function Jc(i,s){return wc(i,s,null,!0),Jc}function Uy(i){Zl(et,tu,i,!0)}function tu(i,s){for(let l=function C_(i){return function Qh(i){Do.key=0,Do.keyEnd=0,Do.value=0,Do.valueEnd=0,Do.textEnd=i.length}(i),D_(i,Xh(i,0,Do.textEnd))}(s);l>=0;l=D_(s,l))et(i,w_(s),!0)}function wc(i,s,l,d){const p=_n(),_=Ii(),I=Xo(2);_.firstUpdatePass&&Hy(_,i,I,d),s!==Wi&&Ko(p,I,s)&&Mu(_,_.data[vt()],p,p[11],i,p[I+1]=function Bv(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=re(Co(i)))),i}(s,l),d,I)}function Zl(i,s,l,d){const p=Ii(),_=Xo(2);p.firstUpdatePass&&Hy(p,null,_,d);const I=_n();if(l!==Wi&&Ko(I,_,l)){const R=p.data[vt()];if(Vv(R,d)&&!T_(p,_)){let L=d?R.classesWithoutHost:R.stylesWithoutHost;null!==L&&(l=pe(L,l||"")),Mm(p,R,I,l,d)}else!function zy(i,s,l,d,p,_,I,R){p===Wi&&(p=un);let L=0,J=0,Ee=0<p.length?p[0]:null,tt=0<_.length?_[0]:null;for(;null!==Ee||null!==tt;){const Ot=L<p.length?p[L+1]:void 0,Xt=J<_.length?_[J+1]:void 0;let Kn,En=null;Ee===tt?(L+=2,J+=2,Ot!==Xt&&(En=tt,Kn=Xt)):null===tt||null!==Ee&&Ee<tt?(L+=2,En=Ee):(J+=2,En=tt,Kn=Xt),null!==En&&Mu(i,s,l,d,En,Kn,I,R),Ee=L<p.length?p[L]:null,tt=J<_.length?_[J]:null}}(p,R,I,I[11],I[_+1],I[_+1]=function _b(i,s,l){if(null==l||""===l)return un;const d=[],p=Co(l);if(Array.isArray(p))for(let _=0;_<p.length;_++)i(d,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&i(d,_,p[_]);else"string"==typeof p&&s(d,p);return d}(i,s,l),d,_)}}function T_(i,s){return s>=i.expandoStartIndex}function Hy(i,s,l,d){const p=i.data;if(null===p[l+1]){const _=p[vt()],I=T_(i,l);Vv(_,d)&&null===s&&!I&&(s=!1),s=function Cc(i,s,l,d){const p=Ra(i);let _=d?s.residualClasses:s.residualStyles;if(null===p)0===(d?s.classBindings:s.styleBindings)&&(l=ip(l=np(null,i,s,l,d),s.attrs,d),_=null);else{const I=s.directiveStylingLast;if(-1===I||i[I]!==p)if(l=np(p,i,s,l,d),null===_){let L=function jy(i,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==Gl(d))return i[$o(d)]}(i,s,d);void 0!==L&&Array.isArray(L)&&(L=np(null,i,s,L[1],d),L=ip(L,s.attrs,d),function S_(i,s,l,d){i[$o(l?s.classBindings:s.styleBindings)]=d}(i,s,d,L))}else _=function Kd(i,s,l){let d;const p=s.directiveEnd;for(let _=1+s.directiveStylingLast;_<p;_++)d=ip(d,i[_].hostAttrs,l);return ip(d,s.attrs,l)}(i,s,d)}return void 0!==_&&(d?s.residualClasses=_:s.residualStyles=_),l}(p,_,s,d),function Fm(i,s,l,d,p,_){let I=_?s.classBindings:s.styleBindings,R=$o(I),L=Gl(I);i[d]=l;let Ee,J=!1;if(Array.isArray(l)){const tt=l;Ee=tt[1],(null===Ee||Un(tt,Ee)>0)&&(J=!0)}else Ee=l;if(p)if(0!==L){const Ot=$o(i[R+1]);i[d+1]=Th(Ot,R),0!==Ot&&(i[Ot+1]=vu(i[Ot+1],d)),i[R+1]=function _y(i,s){return 131071&i|s<<17}(i[R+1],d)}else i[d+1]=Th(R,0),0!==R&&(i[R+1]=vu(i[R+1],d)),R=d;else i[d+1]=Th(L,0),0===R?R=d:i[L+1]=vu(i[L+1],d),L=d;J&&(i[d+1]=$c(i[d+1])),b_(i,Ee,d,!0),b_(i,Ee,d,!1),function Ly(i,s,l,d,p){const _=p?i.residualClasses:i.residualStyles;null!=_&&"string"==typeof s&&Un(_,s)>=0&&(l[d+1]=td(l[d+1]))}(s,Ee,i,d,_),I=Th(R,L),_?s.classBindings=I:s.styleBindings=I}(p,_,s,l,I,d)}}function np(i,s,l,d,p){let _=null;const I=l.directiveEnd;let R=l.directiveStylingLast;for(-1===R?R=l.directiveStart:R++;R<I&&(_=s[R],d=ip(d,_.hostAttrs,p),_!==i);)R++;return null!==i&&(l.directiveStylingLast=R),d}function ip(i,s,l){const d=l?1:2;let p=-1;if(null!==s)for(let _=0;_<s.length;_++){const I=s[_];"number"==typeof I?p=I:p===d&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),et(i,I,!!l||s[++_]))}return void 0===i?null:i}function Mu(i,s,l,d,p,_,I,R){if(!(3&s.type))return;const L=i.data,J=L[R+1];Bm(function Gg(i){return 1==(1&i)}(J)?M_(L,s,l,p,Gl(J),I):void 0)||(Bm(_)||function zc(i){return 2==(2&i)}(J)&&(_=M_(L,null,l,p,R,I)),function lg(i,s,l,d,p){if(s)p?i.addClass(l,d):i.removeClass(l,d);else{let _=-1===d.indexOf("-")?void 0:tl.DashCase;null==p?i.removeStyle(l,d,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=tl.Important),i.setStyle(l,d,p,_))}}(d,I,mi(vt(),l),p,_))}function M_(i,s,l,d,p,_){const I=null===s;let R;for(;p>0;){const L=i[p],J=Array.isArray(L),Ee=J?L[1]:L,tt=null===Ee;let Ot=l[p+1];Ot===Wi&&(Ot=tt?un:void 0);let Xt=tt?Wt(Ot,d):Ee===d?Ot:void 0;if(J&&!Bm(Xt)&&(Xt=Wt(L,d)),Bm(Xt)&&(R=Xt,I))return R;const En=i[p+1];p=I?$o(En):Gl(En)}if(null!==s){let L=_?s.residualClasses:s.residualStyles;null!=L&&(R=Wt(L,d))}return R}function Bm(i){return void 0!==i}function Vv(i,s){return 0!=(i.flags&(s?16:32))}function A_(i,s=""){const l=_n(),d=Ii(),p=i+22,_=d.firstCreatePass?id(d,p,1,s,null):d.data[p],I=l[p]=function ar(i,s){return i.createText(s)}(l[11],s);bo(d,l,I,_),V(_,!1)}function x_(i){return Vm("",i,""),x_}function Vm(i,s,l){const d=_n(),p=Ss(d,i,s,l);return p!==Wi&&function sl(i,s,l){const d=mi(s,i);!function ig(i,s,l){i.setValue(s,l)}(i[11],d,l)}(d,vt(),p),Vm}function rp(i,s,l){Zl(et,tu,Ss(_n(),i,s,l),!0)}function F_(i,s,l){const d=_n();return Ko(d,Ya(),s)&&Wo(Ii(),dn(),d,i,s,d[11],l,!0),F_}function Gm(i,s,l){const d=_n();if(Ko(d,Ya(),s)){const _=Ii(),I=dn();Wo(_,I,d,i,s,zl(Ra(_.data),I,d),l,!0)}return Gm}const md=void 0;var Wv=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function L_(i){const l=Math.floor(Math.abs(i)),d=i.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let gd={};function lp(i){const s=function Xy(i){return i.toLowerCase().replace(/_/g,"-")}(i);let l=V_(s);if(l)return l;const d=s.split("-")[0];if(l=V_(d),l)return l;if("en"===d)return Wv;throw new Re(701,!1)}function zm(i){return lp(i)[Mi.PluralCase]}function V_(i){return i in gd||(gd[i]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[i]),gd[i]}var Mi=(()=>((Mi=Mi||{})[Mi.LocaleId=0]="LocaleId",Mi[Mi.DayPeriodsFormat=1]="DayPeriodsFormat",Mi[Mi.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mi[Mi.DaysFormat=3]="DaysFormat",Mi[Mi.DaysStandalone=4]="DaysStandalone",Mi[Mi.MonthsFormat=5]="MonthsFormat",Mi[Mi.MonthsStandalone=6]="MonthsStandalone",Mi[Mi.Eras=7]="Eras",Mi[Mi.FirstDayOfWeek=8]="FirstDayOfWeek",Mi[Mi.WeekendRange=9]="WeekendRange",Mi[Mi.DateFormat=10]="DateFormat",Mi[Mi.TimeFormat=11]="TimeFormat",Mi[Mi.DateTimeFormat=12]="DateTimeFormat",Mi[Mi.NumberSymbols=13]="NumberSymbols",Mi[Mi.NumberFormats=14]="NumberFormats",Mi[Mi.CurrencyCode=15]="CurrencyCode",Mi[Mi.CurrencySymbol=16]="CurrencySymbol",Mi[Mi.CurrencyName=17]="CurrencyName",Mi[Mi.Currencies=18]="Currencies",Mi[Mi.Directionality=19]="Directionality",Mi[Mi.PluralCase=20]="PluralCase",Mi[Mi.ExtraData=21]="ExtraData",Mi))();const Aa="en-US";let o=Aa;function z_(i,s,l,d,p){if(i=ue(i),Array.isArray(i))for(let _=0;_<i.length;_++)z_(i[_],s,l,d,p);else{const _=Ii(),I=_n();let R=Md(i)?i:ue(i.provide),L=Uc(i);const J=Yr(),Ee=1048575&J.providerIndexes,tt=J.directiveStart,Ot=J.providerIndexes>>20;if(Md(i)||!i.multi){const Xt=new wr(L,p,zo),En=$_(R,s,p?Ee:Ee+Ot,tt);-1===En?(hl($n(J,I),_,R),eb(_,i,s.length),s.push(R),J.directiveStart++,J.directiveEnd++,p&&(J.providerIndexes+=1048576),l.push(Xt),I.push(Xt)):(l[En]=Xt,I[En]=Xt)}else{const Xt=$_(R,s,Ee+Ot,tt),En=$_(R,s,Ee,Ee+Ot),Kn=Xt>=0&&l[Xt],ni=En>=0&&l[En];if(p&&!ni||!p&&!Kn){hl($n(J,I),_,R);const bi=function Pb(i,s,l,d,p){const _=new wr(i,l,zo);return _.multi=[],_.index=s,_.componentProviders=0,Rb(_,p,d&&!l),_}(p?_0:kb,l.length,p,d,L);!p&&ni&&(l[En].providerFactory=bi),eb(_,i,s.length,0),s.push(R),J.directiveStart++,J.directiveEnd++,p&&(J.providerIndexes+=1048576),l.push(bi),I.push(bi)}else eb(_,i,Xt>-1?Xt:En,Rb(l[p?En:Xt],L,!p&&d));!p&&d&&ni&&l[En].componentProviders++}}}function eb(i,s,l,d){const p=Md(s),_=function fh(i){return!!i.useClass}(s);if(p||_){const L=(_?ue(s.useClass):s).prototype.ngOnDestroy;if(L){const J=i.destroyHooks||(i.destroyHooks=[]);if(!p&&s.multi){const Ee=J.indexOf(l);-1===Ee?J.push(l,[d,L]):J[Ee+1].push(d,L)}else J.push(l,L)}}}function Rb(i,s,l){return l&&i.componentProviders++,i.multi.push(s)-1}function $_(i,s,l,d){for(let p=l;p<d;p++)if(s[p]===i)return p;return-1}function kb(i,s,l,d){return tb(this.multi,[])}function _0(i,s,l,d){const p=this.multi;let _;if(this.providerFactory){const I=this.providerFactory.componentProviders,R=Lo(l,l[1],this.providerFactory.index,d);_=R.slice(0,I),tb(p,_);for(let L=I;L<R.length;L++)_.push(R[L])}else _=[],tb(p,_);return _}function tb(i,s){for(let l=0;l<i.length;l++)s.push((0,i[l])());return s}function Nb(i,s=[]){return l=>{l.providersResolver=(d,p)=>function Jv(i,s,l){const d=Ii();if(d.firstCreatePass){const p=Rr(i);z_(l,d.data,d.blueprint,p,!0),z_(s,d.data,d.blueprint,p,!1)}}(d,p?p(i):i,s)}}class Km{}class y0{}function sE(i,s){return new Dc(i,s??null)}class Dc extends Km{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new f_(this);const d=zn(s);this._bootstrapComponents=Sa(d.bootstrap),this._r3Injector=Bg(s,l,[{provide:Km,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],re(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class nb extends y0{constructor(s){super(),this.moduleType=s}create(s){return new Dc(this.moduleType,s)}}class v0 extends Km{constructor(s,l,d){super(),this.componentFactoryResolver=new f_(this),this.instance=null;const p=new il([...s,{provide:Km,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],l||Cf(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function ib(i,s,l=null){return new v0(i,s,l).injector}let b0=(()=>{class i{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Td(0,l.type),p=d.length>0?ib([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,p)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Ce({token:i,providedIn:"environment",factory:()=>new i(nt(oo))}),i})();function Fb(i){i.getStandaloneInjector=s=>s.get(b0).getOrCreateStandaloneInjector(i)}function hr(i,s,l,d){return rf(_n(),br(),i,s,l,d)}function ql(i,s,l,d,p,_){return function sb(i,s,l,d,p,_,I,R){const L=s+l;return function Yf(i,s,l,d,p){const _=Gd(i,s,l,d);return Ko(i,s+2,p)||_}(i,L,p,_,I)?_c(i,L+3,R?d.call(R,p,_,I):d(p,_,I)):Zd(i,L+3)}(_n(),br(),i,s,l,d,p,_)}function Zd(i,s){const l=i[s];return l===Wi?void 0:l}function rf(i,s,l,d,p,_){const I=s+l;return Ko(i,I,p)?_c(i,I+1,_?d.call(_,p):d(p)):Zd(i,I+1)}function Fi(i,s){const l=Ii();let d;const p=i+22;l.firstCreatePass?(d=function Gr(i,s){if(s)for(let l=s.length-1;l>=0;l--){const d=s[l];if(i===d.name)return d}}(s,l.pipeRegistry),l.data[p]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(p,d.onDestroy)):d=l.data[p];const _=d.factory||(d.factory=Lr(d.type)),I=j(zo);try{const R=On(!1),L=_();return On(R),function Ry(i,s,l,d){l>=i.data.length&&(i.data[l]=null,i.blueprint[l]=null),s[l]=d}(l,_n(),p,L),L}finally{j(I)}}function ku(i,s,l){const d=i+22,p=_n(),_=os(p,d);return W_(p,d)?rf(p,br(),s,_.transform,l,_):_.transform(l)}function Ql(i,s,l,d){const p=i+22,_=_n(),I=os(_,p);return W_(_,p)?function rb(i,s,l,d,p,_,I){const R=s+l;return Gd(i,R,p,_)?_c(i,R+2,I?d.call(I,p,_):d(p,_)):Zd(i,R+2)}(_,br(),s,I.transform,l,d,I):I.transform(l,d)}function W_(i,s){return i[1].data[s].pure}function qd(i){return s=>{setTimeout(i,void 0,s)}}const xo=class ll extends m.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let p=s,_=l||(()=>null),I=d;if(s&&"object"==typeof s){const L=s;p=L.next?.bind(L),_=L.error?.bind(L),I=L.complete?.bind(L)}this.__isAsync&&(_=qd(_),p&&(p=qd(p)),I&&(I=qd(I)));const R=super.subscribe({next:p,error:_,complete:I});return s instanceof b.w0&&s.add(R),R}};function sv(){return this._results[ld()]()}class Ym{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=ld(),d=Ym.prototype;d[l]||(d[l]=sv)}get changes(){return this._changes||(this._changes=new xo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const p=ms(s);(this._changesDetected=!function Lu(i,s,l){if(i.length!==s.length)return!1;for(let d=0;d<i.length;d++){let p=i[d],_=s[d];if(l&&(p=l(p),_=l(_)),_!==p)return!1}return!0}(d._results,p,l))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ob=(()=>{class i{}return i.__NG_ELEMENT_ID__=vw,i})();const _w=ob,yw=class extends _w{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(s,l){const d=this._declarationTContainer.tViews,p=xh(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,l||null);p[17]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[19];return null!==I&&(p[19]=I.createEmbeddedView(d)),dm(d,p,s),new od(p)}};function vw(){return Vb(Yr(),_n())}function Vb(i,s){return 4&i.type?new yw(s,i,ja(i,s)):null}let Ub=(()=>{class i{}return i.__NG_ELEMENT_ID__=bw,i})();function bw(){return lE(Yr(),_n())}const Ew=Ub,oE=class extends Ew{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){const s=qr(this._hostTNode,this._hostLView);if(Br(s)){const l=Na(s,this._hostLView),d=Vr(s);return new Ar(l[1].data[d+8],l)}return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=aE(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,l,d){let p,_;"number"==typeof d?p=d:null!=d&&(p=d.index,_=d.injector);const I=s.createEmbeddedView(l||{},_);return this.insert(I,p),I}createComponent(s,l,d,p,_){const I=s&&!function wa(i){return"function"==typeof i}(s);let R;if(I)R=l;else{const tt=l||{};R=tt.index,d=tt.injector,p=tt.projectableNodes,_=tt.environmentInjector||tt.ngModuleRef}const L=I?s:new wu(oe(s)),J=d||this.parentInjector;if(!_&&null==L.ngModule){const Ot=(I?J:this.parentInjector).get(oo,null);Ot&&(_=Ot)}const Ee=L.create(J,p,void 0,_);return this.insert(Ee.hostView,R),Ee}insert(s,l){const d=s._lView,p=d[1];if(function Vs(i){return hs(i[3])}(d)){const Ee=this.indexOf(s);if(-1!==Ee)this.detach(Ee);else{const tt=d[3],Ot=new oE(tt,tt[6],tt[3]);Ot.detach(Ot.indexOf(s))}}const _=this._adjustIndex(l),I=this._lContainer;!function cv(i,s,l,d){const p=10+d,_=l.length;d>0&&(l[p-1][4]=s),d<_-10?(s[4]=l[p],Rl(l,10+d,s)):(l.push(s),s[4]=null),s[3]=l;const I=s[17];null!==I&&l!==I&&function Ll(i,s){const l=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===l?i[9]=[s]:l.push(s)}(I,s);const R=s[19];null!==R&&R.insertView(i),s[2]|=64}(p,d,I,_);const R=gf(_,I),L=d[11],J=Lc(L,I[7]);return null!==J&&function Ho(i,s,l,d,p,_){d[0]=p,d[6]=s,Eo(i,d,l,1,p,_)}(p,I[6],L,d,J,R),s.attachToViewContainerRef(),Rl(E0(I),_,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=aE(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=Gu(this._lContainer,l);d&&(kl(E0(this._lContainer),l),wp(d[1],d))}detach(s){const l=this._adjustIndex(s,-1),d=Gu(this._lContainer,l);return d&&null!=kl(E0(this._lContainer),l)?new od(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function aE(i){return i[8]}function E0(i){return i[8]||(i[8]=[])}function lE(i,s){let l;const d=s[i.index];if(hs(d))l=d;else{let p;if(8&i.type)p=fn(d);else{const _=s[11];p=_.createComment("");const I=Di(i,s);bl(_,Lc(_,I),p,function og(i,s){return i.nextSibling(s)}(_,I),!1)}s[i.index]=l=Uf(d,s,p,i),cr(s,l)}return new oE(l,i,s)}class w0{constructor(s){this.queryList=s,this.matches=null}clone(){return new w0(this.queryList)}setDirty(){this.queryList.setDirty()}}class C0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,p=[];for(let _=0;_<d;_++){const I=l.getByIndex(_);p.push(this.queries[I.indexInDeclarationView].clone())}return new C0(p)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==_E(s,l).matches&&this.queries[l].setDirty()}}class cE{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class D0{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const p=null!==l?l.length:0,_=this.getByIndex(d).embeddedTView(s,p);_&&(_.indexInDeclarationView=d,null!==l?l.push(_):l=[_])}return null!==l?new D0(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class I0{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new I0(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(s,l,Dw(l,_)),this.matchTNodeWithReadOption(s,l,ta(l,s,_,!1,!1))}else d===ob?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,ta(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===fu||p===Ub||p===ob&&4&l.type)this.addMatch(l.index,-2);else{const _=ta(l,s,p,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function Dw(i,s){const l=i.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function Tw(i,s,l,d){return-1===l?function Iw(i,s){return 11&i.type?ja(i,s):4&i.type?Vb(i,s):null}(s,i):-2===l?function Sw(i,s,l){return l===fu?ja(s,i):l===ob?Vb(s,i):l===Ub?lE(s,i):void 0}(i,s,d):Lo(i,i[1],l,s)}function uE(i,s,l,d){const p=s[19].queries[d];if(null===p.matches){const _=i.data,I=l.matches,R=[];for(let L=0;L<I.length;L+=2){const J=I[L];R.push(J<0?null:Tw(s,_[J],I[L+1],l.metadata.read))}p.matches=R}return p.matches}function T0(i,s,l,d){const p=i.queries.getByIndex(l),_=p.matches;if(null!==_){const I=uE(i,s,p,l);for(let R=0;R<_.length;R+=2){const L=_[R];if(L>0)d.push(I[R/2]);else{const J=_[R+1],Ee=s[-L];for(let tt=10;tt<Ee.length;tt++){const Ot=Ee[tt];Ot[17]===Ot[3]&&T0(Ot[1],Ot,J,d)}if(null!==Ee[9]){const tt=Ee[9];for(let Ot=0;Ot<tt.length;Ot++){const Xt=tt[Ot];T0(Xt[1],Xt,J,d)}}}}}return d}function dE(i){const s=_n(),l=Ii(),d=Za();_o(d+1);const p=_E(l,d);if(i.dirty&&function cl(i){return 4==(4&i[2])}(s)===(2==(2&p.metadata.flags))){if(null===p.matches)i.reset([]);else{const _=p.crossesNgTemplate?T0(l,s,d,[]):uE(l,s,p,d);i.reset(_,hc),i.notifyOnChanges()}return!0}return!1}function hE(i,s,l){const d=Ii();d.firstCreatePass&&(gE(d,new cE(i,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),mE(d,_n(),s)}function fE(i,s,l,d){const p=Ii();if(p.firstCreatePass){const _=Yr();gE(p,new cE(s,l,d),_.index),function Aw(i,s){const l=i.contentQueries||(i.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(i.queries.length-1,s)}(p,i),2==(2&l)&&(p.staticContentQueries=!0)}mE(p,_n(),l)}function pE(){return function Mw(i,s){return i[19].queries[s].queryList}(_n(),Za())}function mE(i,s,l){const d=new Ym(4==(4&l));Eu(i,s,d,d.destroy),null===s[19]&&(s[19]=new C0),s[19].queries.push(new w0(d))}function gE(i,s,l){null===i.queries&&(i.queries=new D0),i.queries.track(new I0(s,l))}function _E(i,s){return i.queries.getByIndex(s)}function jb(...i){}const FE=new yr("Application Initializer");let Gb=(()=>{class i{constructor(l){this.appInits=l,this.resolve=jb,this.reject=jb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(Yh(_))l.push(_);else if(Xc(_)){const I=new Promise((R,L)=>{_.subscribe({complete:R,error:L})});l.push(I)}}Promise.all(l).then(()=>{d()}).catch(p=>{this.reject(p)}),0===l.length&&d(),this.initialized=!0}}return i.\u0275fac=function(l){return new(l||i)(nt(FE,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const LE=new yr("AppId",{providedIn:"root",factory:function BE(){return`${O0()}${O0()}${O0()}`}});function O0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VE=new yr("Platform Initializer"),qw=new yr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),UE=new yr("appBootstrapListener"),Qw=new yr("AnimationModuleType");let Xw=(()=>{class i{log(l){console.log(l)}warn(l){console.warn(l)}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const zb=new yr("LocaleId",{providedIn:"root",factory:()=>nn(zb,Cn.Optional|Cn.SkipSelf)||function Jw(){return typeof $localize<"u"&&$localize.locale||Aa}()}),eC=new yr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tC{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let nC=(()=>{class i{compileModuleSync(l){return new nb(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),_=Sa(zn(l).declarations).reduce((I,R)=>{const L=oe(R);return L&&I.push(new wu(L)),I},[]);return new tC(d,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const sC=(()=>Promise.resolve(0))();function R0(i){typeof Zone>"u"?sC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class yd{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xo(!1),this.onMicrotaskEmpty=new xo(!1),this.onStable=new xo(!1),this.onError=new xo(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&l,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function oC(){let i=mt.requestAnimationFrame,s=mt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function cC(i){const s=()=>{!function lC(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(mt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,P0(i),i.isCheckStableRunning=!0,k0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),P0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,p,_,I,R)=>{try{return GE(i),l.invokeTask(p,_,I,R)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||i.shouldCoalesceRunChangeDetection)&&s(),zE(i)}},onInvoke:(l,d,p,_,I,R,L)=>{try{return GE(i),l.invoke(p,_,I,R,L)}finally{i.shouldCoalesceRunChangeDetection&&s(),zE(i)}},onHasTask:(l,d,p,_)=>{l.hasTask(p,_),d===p&&("microTask"==_.change?(i._hasPendingMicrotasks=_.microTask,P0(i),k0(i)):"macroTask"==_.change&&(i.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,d,p,_)=>(l.handleError(p,_),i.runOutsideAngular(()=>i.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yd.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(yd.isInAngularZone())throw new Re(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,p){const _=this._inner,I=_.scheduleEventTask("NgZoneEvent: "+p,s,aC,jb,jb);try{return _.runTask(I,l,d)}finally{_.cancelTask(I)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const aC={};function k0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function P0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function GE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function zE(i){i._nesting--,k0(i)}class uC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xo,this.onMicrotaskEmpty=new xo,this.onStable=new xo,this.onError=new xo}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,p){return s.apply(l,d)}}const $E=new yr(""),WE=new yr("");let N0,dC=(()=>{class i{constructor(l,d,p){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,N0||(function hC(i){N0=i}(p),p.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yd.assertNotInAngularZone(),R0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())R0(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==_),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:p})}whenStable(l,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,p){return[]}}return i.\u0275fac=function(l){return new(l||i)(nt(yd),nt(KE),nt(WE))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),KE=(()=>{class i{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return N0?.findTestabilityInTree(this,l,d)??null}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Zm=null;const YE=new yr("AllowMultipleToken"),F0=new yr("PlatformDestroyListeners");class mC{constructor(s,l){this.name=s,this.token=l}}function qE(i,s,l=[]){const d=`Platform: ${s}`,p=new yr(d);return(_=[])=>{let I=L0();if(!I||I.injector.get(YE,!1)){const R=[...l,..._,{provide:p,useValue:!0}];i?i(R):function gC(i){if(Zm&&!Zm.get(YE,!1))throw new Re(400,!1);Zm=i;const s=i.get(XE);(function ZE(i){const s=i.get(VE,null);s&&s.forEach(l=>l())})(i)}(function QE(i=[],s){return Hc.create({name:s,providers:[{provide:Yu,useValue:"platform"},{provide:F0,useValue:new Set([()=>Zm=null])},...i]})}(R,d))}return function yC(i){const s=L0();if(!s)throw new Re(401,!1);return s}()}}function L0(){return Zm?.get(XE)??null}let XE=(()=>{class i{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const p=function ew(i,s){let l;return l="noop"===i?new uC:("zone.js"===i?void 0:i)||new yd(s),l}(d?.ngZone,function JE(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(d)),_=[{provide:yd,useValue:p}];return p.run(()=>{const I=Hc.create({providers:_,parent:this.injector,name:l.moduleType.name}),R=l.create(I),L=R.injector.get(mh,null);if(!L)throw new Re(402,!1);return p.runOutsideAngular(()=>{const J=p.onError.subscribe({next:Ee=>{L.handleError(Ee)}});R.onDestroy(()=>{Wb(this._modules,R),J.unsubscribe()})}),function tw(i,s,l){try{const d=l();return Yh(d)?d.catch(p=>{throw s.runOutsideAngular(()=>i.handleError(p)),p}):d}catch(d){throw s.runOutsideAngular(()=>i.handleError(d)),d}}(L,p,()=>{const J=R.injector.get(Gb);return J.runInitializers(),J.donePromise.then(()=>(function e(i){an(i,"Expected localeId to be defined"),"string"==typeof i&&(o=i.toLowerCase().replace(/_/g,"-"))}(R.injector.get(zb,Aa)||Aa),this._moduleDoBootstrap(R),R))})})}bootstrapModule(l,d=[]){const p=nw({},d);return function fC(i,s,l){const d=new nb(l);return Promise.resolve(d)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(l){const d=l.injector.get($b);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new Re(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(F0,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(l){return new(l||i)(nt(Hc))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function nw(i,s){return Array.isArray(s)?s.reduce(nw,i):{...i,...s}}let $b=(()=>{class i{constructor(l,d,p){this._zone=l,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new E.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),I=new E.y(R=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{yd.assertNotInAngularZone(),R0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const J=this._zone.onUnstable.subscribe(()=>{yd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{L.unsubscribe(),J.unsubscribe()}});this.isStable=(0,M.T)(_,I.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const p=l instanceof xg;if(!this._injector.get(Gb).done)throw!p&&pn(l),new Re(405,false);let I;I=p?l:this._injector.get(dc).resolveComponentFactory(l),this.componentTypes.push(I.componentType);const R=function pC(i){return i.isBoundToModule}(I)?void 0:this._injector.get(Km),J=I.create(Hc.NULL,[],d||I.selector,R),Ee=J.location.nativeElement,tt=J.injector.get($E,null);return tt?.registerApplication(Ee),J.onDestroy(()=>{this.detachView(J.hostView),Wb(this.components,J),tt?.unregisterApplication(Ee)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Wb(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(UE,[]).concat(this._bootstrapListeners).forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Wb(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Re(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(l){return new(l||i)(nt(yd),nt(oo),nt(mh))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Wb(i,s){const l=i.indexOf(s);l>-1&&i.splice(l,1)}let rw=!0,sw=!1;function bC(){return sw=!0,rw}function EC(){if(sw)throw new Error("Cannot enable prod mode after platform setup.");rw=!1}let wC=(()=>{class i{}return i.__NG_ELEMENT_ID__=CC,i})();function CC(i){return function DC(i,s,l){if($r(i)&&!l){const d=Yi(i.index,s);return new od(d,d)}return 47&i.type?new od(s[16],s):null}(Yr(),_n(),16==(16&i))}class cw{constructor(){}supports(s){return Cu(s)}create(s){return new xC(s)}}const AC=(i,s)=>s;class xC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||AC}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,p=0,_=null;for(;l||d;){const I=!d||l&&l.currentIndex<dw(d,p,_)?l:d,R=dw(I,p,_),L=I.currentIndex;if(I===d)p--,d=d._nextRemoved;else if(l=l._next,null==I.previousIndex)p++;else{_||(_=[]);const J=R-p,Ee=L-p;if(J!=Ee){for(let Ot=0;Ot<J;Ot++){const Xt=Ot<_.length?_[Ot]:_[Ot]=0,En=Xt+Ot;Ee<=En&&En<J&&(_[Ot]=Xt+1)}_[I.previousIndex]=Ee-J}}R!==L&&s(I,R,L)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!Cu(s))throw new Re(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let p,_,I,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let R=0;R<this.length;R++)_=s[R],I=this._trackByFn(R,_),null!==l&&Object.is(l.trackById,I)?(d&&(l=this._verifyReinsertion(l,_,I,R)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,I,R),d=!0),l=l._next}else p=0,function ol(i,s){if(Array.isArray(i))for(let l=0;l<i.length;l++)s(i[l]);else{const l=i[ld()]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,R=>{I=this._trackByFn(p,R),null!==l&&Object.is(l.trackById,I)?(d&&(l=this._verifyReinsertion(l,R,I,p)),Object.is(l.item,R)||this._addIdentityChange(l,R)):(l=this._mismatch(l,R,I,p),d=!0),l=l._next,p++}),this.length=p;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,p){let _;return null===s?_=this._itTail:(_=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,_,p)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,_,p)):s=this._addAfter(new OC(l,d),_,p),s}_verifyReinsertion(s,l,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?s=this._reinsertAfter(_,s._prev,p):s.currentIndex!=p&&(s.currentIndex=p,this._addToMoves(s,p)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const p=s._prevRemoved,_=s._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const p=null===l?this._itHead:l._next;return s._next=p,s._prev=l,null===p?this._itTail=s:p._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new uw),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class OC{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class uw{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new RC,this.map.set(l,d)),d.add(s)}get(s,l){const p=this.map.get(s);return p?p.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dw(i,s,l){const d=i.previousIndex;if(null===d)return d;let p=0;return l&&d<l.length&&(p=l[d]),d+s+p}class hw{constructor(){}supports(s){return s instanceof Map||Tm(s)}create(){return new kC}}class kC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||Tm(s)))throw new Re(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,p)=>{if(l&&l.key===p)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(p,d);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const p=this._records.get(s);this._maybeAddToChanges(p,l);const _=p._prev,I=p._next;return _&&(_._next=I),I&&(I._prev=_),p._next=null,p._prev=null,p}const d=new PC(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class PC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fw(){return new j0([new cw])}let j0=(()=>{class i{constructor(l){this.factories=l}static create(l,d){if(null!=d){const p=d.factories.slice();l=l.concat(p)}return new i(l)}static extend(l){return{provide:i,useFactory:d=>i.create(l,d||fw()),deps:[[i,new Ba,new Qr]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(null!=d)return d;throw new Re(901,!1)}}return i.\u0275prov=Ce({token:i,providedIn:"root",factory:fw}),i})();function pw(){return new G0([new hw])}let G0=(()=>{class i{constructor(l){this.factories=l}static create(l,d){if(d){const p=d.factories.slice();l=l.concat(p)}return new i(l)}static extend(l){return{provide:i,useFactory:d=>i.create(l,d||pw()),deps:[[i,new Ba,new Qr]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(d)return d;throw new Re(901,!1)}}return i.\u0275prov=Ce({token:i,providedIn:"root",factory:pw}),i})();const LC=qE(null,"core",[]);let BC=(()=>{class i{constructor(l){}}return i.\u0275fac=function(l){return new(l||i)(nt($b))},i.\u0275mod=Rt({type:i}),i.\u0275inj=xe({}),i})();function VC(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},4006:(hn,ft,D)=>{D.d(ft,{Cf:()=>Je,F:()=>is,Fj:()=>ze,JJ:()=>Cn,JL:()=>Fn,JU:()=>re,NI:()=>Xi,On:()=>jt,Q7:()=>yi,UX:()=>to,Zs:()=>kr,_Y:()=>Yt,a5:()=>Vn,c5:()=>vr,cw:()=>oe,kI:()=>rt,qu:()=>Ii,sg:()=>xs,u:()=>Ys,u5:()=>ul});var m=D(4650),b=D(6895),E=D(8996),M=D(4128),de=D(4004);let be=(()=>{class K{constructor(V,we){this._renderer=V,this._elementRef=we,this.onChange=tn=>{},this.onTouched=()=>{}}setProperty(V,we){this._renderer.setProperty(this._elementRef.nativeElement,V,we)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return K.\u0275fac=function(V){return new(V||K)(m.Y36(m.Qsj),m.Y36(m.SBq))},K.\u0275dir=m.lG2({type:K}),K})(),Fe=(()=>{class K extends be{}return K.\u0275fac=function(){let $;return function(we){return($||($=m.n5z(K)))(we||K)}}(),K.\u0275dir=m.lG2({type:K,features:[m.qOj]}),K})();const re=new m.OlP("NgValueAccessor"),se={provide:re,useExisting:(0,m.Gpc)(()=>ze),multi:!0},Te=new m.OlP("CompositionEventMode");let ze=(()=>{class K extends be{constructor(V,we,tn){super(V,we),this._compositionMode=tn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ue(){const K=(0,b.q)()?(0,b.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return K.\u0275fac=function(V){return new(V||K)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Te,8))},K.\u0275dir=m.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,we){1&V&&m.NdJ("input",function(Xn){return we._handleInput(Xn.target.value)})("blur",function(){return we.onTouched()})("compositionstart",function(){return we._compositionStart()})("compositionend",function(Xn){return we._compositionEnd(Xn.target.value)})},features:[m._Bn([se]),m.qOj]}),K})();function dt(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function Ye(K){return null!=K&&"number"==typeof K.length}const Je=new m.OlP("NgValidators"),$e=new m.OlP("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rt{static min($){return function Oe(K){return $=>{if(dt($.value)||dt(K))return null;const V=parseFloat($.value);return!isNaN(V)&&V<K?{min:{min:K,actual:$.value}}:null}}($)}static max($){return function ae(K){return $=>{if(dt($.value)||dt(K))return null;const V=parseFloat($.value);return!isNaN(V)&&V>K?{max:{max:K,actual:$.value}}:null}}($)}static required($){return Me($)}static requiredTrue($){return _e($)}static email($){return function fe(K){return dt(K.value)||Ft.test(K.value)?null:{email:!0}}($)}static minLength($){return function Ge(K){return $=>dt($.value)||!Ye($.value)?null:$.value.length<K?{minlength:{requiredLength:K,actualLength:$.value.length}}:null}($)}static maxLength($){return function Se(K){return $=>Ye($.value)&&$.value.length>K?{maxlength:{requiredLength:K,actualLength:$.value.length}}:null}($)}static pattern($){return Ke($)}static nullValidator($){return null}static compose($){return ne($)}static composeAsync($){return it($)}}function Me(K){return dt(K.value)?{required:!0}:null}function _e(K){return!0===K.value?null:{required:!0}}function Ke(K){if(!K)return St;let $,V;return"string"==typeof K?(V="","^"!==K.charAt(0)&&(V+="^"),V+=K,"$"!==K.charAt(K.length-1)&&(V+="$"),$=new RegExp(V)):(V=K.toString(),$=K),we=>{if(dt(we.value))return null;const tn=we.value;return $.test(tn)?null:{pattern:{requiredPattern:V,actualValue:tn}}}}function St(K){return null}function yt(K){return null!=K}function Qt(K){return(0,m.QGY)(K)?(0,E.D)(K):K}function Jt(K){let $={};return K.forEach(V=>{$=null!=V?{...$,...V}:$}),0===Object.keys($).length?null:$}function Sn(K,$){return $.map(V=>V(K))}function an(K){return K.map($=>function xt(K){return!K.validate}($)?$:V=>$.validate(V))}function ne(K){if(!K)return null;const $=K.filter(yt);return 0==$.length?null:function(V){return Jt(Sn(V,$))}}function at(K){return null!=K?ne(an(K)):null}function it(K){if(!K)return null;const $=K.filter(yt);return 0==$.length?null:function(V){const we=Sn(V,$).map(Qt);return(0,M.D)(we).pipe((0,de.U)(Jt))}}function Bt(K){return null!=K?it(an(K)):null}function Ce(K,$){return null===K?[$]:Array.isArray(K)?[...K,$]:[K,$]}function st(K){return K._rawValidators}function xe(K){return K._rawAsyncValidators}function ve(K){return K?Array.isArray(K)?K:[K]:[]}function Ct(K,$){return Array.isArray(K)?K.includes($):K===$}function Lt(K,$){const V=ve($);return ve(K).forEach(tn=>{Ct(V,tn)||V.push(tn)}),V}function zt(K,$){return ve($).filter(V=>!Ct(K,V))}class An{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=at(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($){this.control&&this.control.reset($)}hasError($,V){return!!this.control&&this.control.hasError($,V)}getError($,V){return this.control?this.control.getError($,V):null}}class Pn extends An{get formDirective(){return null}get path(){return null}}class Vn extends An{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xn{constructor($){this._cd=$}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cn=(()=>{class K extends xn{constructor(V){super(V)}}return K.\u0275fac=function(V){return new(V||K)(m.Y36(Vn,2))},K.\u0275dir=m.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,we){2&V&&m.ekj("ng-untouched",we.isUntouched)("ng-touched",we.isTouched)("ng-pristine",we.isPristine)("ng-dirty",we.isDirty)("ng-valid",we.isValid)("ng-invalid",we.isInvalid)("ng-pending",we.isPending)},features:[m.qOj]}),K})(),Fn=(()=>{class K extends xn{constructor(V){super(V)}}return K.\u0275fac=function(V){return new(V||K)(m.Y36(Pn,10))},K.\u0275dir=m.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,we){2&V&&m.ekj("ng-untouched",we.isUntouched)("ng-touched",we.isTouched)("ng-pristine",we.isPristine)("ng-dirty",we.isDirty)("ng-valid",we.isValid)("ng-invalid",we.isInvalid)("ng-pending",we.isPending)("ng-submitted",we.isSubmitted)},features:[m.qOj]}),K})();const _t="VALID",ot="INVALID",Tt="PENDING",Ue="DISABLED";function je(K){return(ke(K)?K.validators:K)||null}function Ae(K){return Array.isArray(K)?at(K):K||null}function pt(K,$){return(ke($)?$.asyncValidators:K)||null}function Rt(K){return Array.isArray(K)?Bt(K):K||null}function ke(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function He(K,$,V){const we=K.controls;if(!($?Object.keys(we):we).length)throw new m.vHH(1e3,"");if(!we[V])throw new m.vHH(1001,"")}function bt(K,$,V){K._forEachChild((we,tn)=>{if(void 0===V[tn])throw new m.vHH(1002,"")})}class Xe{constructor($,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=$,this._rawAsyncValidators=V,this._composedValidatorFn=Ae(this._rawValidators),this._composedAsyncValidatorFn=Rt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===_t}get invalid(){return this.status===ot}get pending(){return this.status==Tt}get disabled(){return this.status===Ue}get enabled(){return this.status!==Ue}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._rawValidators=$,this._composedValidatorFn=Ae($)}setAsyncValidators($){this._rawAsyncValidators=$,this._composedAsyncValidatorFn=Rt($)}addValidators($){this.setValidators(Lt($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(Lt($,this._rawAsyncValidators))}removeValidators($){this.setValidators(zt($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(zt($,this._rawAsyncValidators))}hasValidator($){return Ct(this._rawValidators,$)}hasAsyncValidator($){return Ct(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=Tt,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const V=this._parentMarkedDirty($.onlySelf);this.status=Ue,this.errors=null,this._forEachChild(we=>{we.disable({...$,onlySelf:!0})}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$,skipPristineCheck:V}),this._onDisabledChange.forEach(we=>we(!0))}enable($={}){const V=this._parentMarkedDirty($.onlySelf);this.status=_t,this._forEachChild(we=>{we.enable({...$,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors({...$,skipPristineCheck:V}),this._onDisabledChange.forEach(we=>we(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}getRawValue(){return this.value}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_t||this.status===Tt)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ue:_t}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=Tt,this._hasOwnPendingAsyncValidator=!0;const V=Qt(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(we=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(we,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,V={}){this.errors=$,this._updateControlsErrors(!1!==V.emitEvent)}get($){let V=$;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((we,tn)=>we&&we._find(tn),this)}getError($,V){const we=V?this.get(V):this;return we&&we.errors?we.errors[$]:null}hasError($,V){return!!this.getError($,V)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Ue:this.errors?ot:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tt)?Tt:this._anyControlsHaveStatus(ot)?ot:_t}_anyControlsHaveStatus($){return this._anyControls(V=>V.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){ke($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($){return null}}class oe extends Xe{constructor($,V,we){super(je(V),pt(we,V)),this.controls=$,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,V){return this.controls[$]?this.controls[$]:(this.controls[$]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl($,V,we={}){this.registerControl($,V),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}removeControl($,V={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl($,V,we={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],V&&this.registerControl($,V),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,V={}){bt(this,0,$),Object.keys($).forEach(we=>{He(this,!0,we),this.controls[we].setValue($[we],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue($,V={}){null!=$&&(Object.keys($).forEach(we=>{const tn=this.controls[we];tn&&tn.patchValue($[we],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset($={},V={}){this._forEachChild((we,tn)=>{we.reset($[tn],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},($,V,we)=>($[we]=V.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(V,we)=>!!we._syncPendingControls()||V);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(V=>{const we=this.controls[V];we&&$(we,V)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const[V,we]of Object.entries(this.controls))if(this.contains(V)&&$(we))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,we,tn)=>((we.enabled||this.disabled)&&(V[tn]=we.value),V))}_reduceChildren($,V){let we=$;return this._forEachChild((tn,Xn)=>{we=V(we,tn,Xn)}),we}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($){return this.controls.hasOwnProperty($)?this.controls[$]:null}}class pn extends oe{}function Hn(K,$){return[...$.path,K]}function Ze(K,$){Ut(K,$),$.valueAccessor.writeValue(K.value),K.disabled&&$.valueAccessor.setDisabledState?.(!0),function li(K,$){$.valueAccessor.registerOnChange(V=>{K._pendingValue=V,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&Ri(K,$)})}(K,$),function Hr(K,$){const V=(we,tn)=>{$.valueAccessor.writeValue(we),tn&&$.viewToModelUpdate(we)};K.registerOnChange(V),$._registerOnDestroy(()=>{K._unregisterOnChange(V)})}(K,$),function pi(K,$){$.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&Ri(K,$),"submit"!==K.updateOn&&K.markAsTouched()})}(K,$),function At(K,$){if($.valueAccessor.setDisabledState){const V=we=>{$.valueAccessor.setDisabledState(we)};K.registerOnDisabledChange(V),$._registerOnDestroy(()=>{K._unregisterOnDisabledChange(V)})}}(K,$)}function Be(K,$,V=!0){const we=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(we),$.valueAccessor.registerOnTouched(we)),In(K,$),K&&($._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function Ne(K,$){K.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange($)})}function Ut(K,$){const V=st(K);null!==$.validator?K.setValidators(Ce(V,$.validator)):"function"==typeof V&&K.setValidators([V]);const we=xe(K);null!==$.asyncValidator?K.setAsyncValidators(Ce(we,$.asyncValidator)):"function"==typeof we&&K.setAsyncValidators([we]);const tn=()=>K.updateValueAndValidity();Ne($._rawValidators,tn),Ne($._rawAsyncValidators,tn)}function In(K,$){let V=!1;if(null!==K){if(null!==$.validator){const tn=st(K);if(Array.isArray(tn)&&tn.length>0){const Xn=tn.filter(pr=>pr!==$.validator);Xn.length!==tn.length&&(V=!0,K.setValidators(Xn))}}if(null!==$.asyncValidator){const tn=xe(K);if(Array.isArray(tn)&&tn.length>0){const Xn=tn.filter(pr=>pr!==$.asyncValidator);Xn.length!==tn.length&&(V=!0,K.setAsyncValidators(Xn))}}}const we=()=>{};return Ne($._rawValidators,we),Ne($._rawAsyncValidators,we),V}function Ri(K,$){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function Zn(K,$){Ut(K,$)}function us(K,$){if(!K.hasOwnProperty("model"))return!1;const V=K.model;return!!V.isFirstChange()||!Object.is($,V.currentValue)}function fr(K,$){K._syncPendingControls(),$.forEach(V=>{const we=V.control;"submit"===we.updateOn&&we._pendingChange&&(V.viewToModelUpdate(we._pendingValue),we._pendingChange=!1)})}function tr(K,$){if(!$)return null;let V,we,tn;return Array.isArray($),$.forEach(Xn=>{Xn.constructor===ze?V=Xn:function Sr(K){return Object.getPrototypeOf(K.constructor)===Fe}(Xn)?we=Xn:tn=Xn}),tn||we||V||null}const Js={provide:Pn,useExisting:(0,m.Gpc)(()=>is)},zr=(()=>Promise.resolve())();let is=(()=>{class K extends Pn{constructor(V,we){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new oe({},at(V),Bt(we))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){zr.then(()=>{const we=this._findContainer(V.path);V.control=we.registerControl(V.name,V.control),Ze(V.control,V),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){zr.then(()=>{const we=this._findContainer(V.path);we&&we.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){zr.then(()=>{const we=this._findContainer(V.path),tn=new oe({});Zn(tn,V),we.registerControl(V.name,tn),tn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){zr.then(()=>{const we=this._findContainer(V.path);we&&we.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,we){zr.then(()=>{this.form.get(V.path).setValue(we)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,fr(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return K.\u0275fac=function(V){return new(V||K)(m.Y36(Je,10),m.Y36($e,10))},K.\u0275dir=m.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,we){1&V&&m.NdJ("submit",function(Xn){return we.onSubmit(Xn)})("reset",function(){return we.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Js]),m.qOj]}),K})();function rs(K,$){const V=K.indexOf($);V>-1&&K.splice(V,1)}function Fr(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Xi=class extends Xe{constructor($=null,V,we){super(je(V),pt(we,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ke(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Fr($)?$.value:$)}setValue($,V={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(we=>we(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue($,V={}){this.setValue($,V)}reset($=this.defaultValue,V={}){this._applyFormState($),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){rs(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){rs(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){Fr($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}},lt={provide:Vn,useExisting:(0,m.Gpc)(()=>jt)},en=(()=>Promise.resolve())();let jt=(()=>{class K extends Vn{constructor(V,we,tn,Xn,pr){super(),this._changeDetectorRef=pr,this.control=new Xi,this._registered=!1,this.update=new m.vpe,this._parent=V,this._setValidators(we),this._setAsyncValidators(tn),this.valueAccessor=tr(0,Xn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const we=V.name.previousValue;this.formDirective.removeControl({name:we,path:this._getPath(we)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),us(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ze(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){en.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const we=V.isDisabled.currentValue,tn=0!==we&&(0,m.D6c)(we);en.then(()=>{tn&&!this.control.disabled?this.control.disable():!tn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?Hn(V,this._parent):[V]}}return K.\u0275fac=function(V){return new(V||K)(m.Y36(Pn,9),m.Y36(Je,10),m.Y36($e,10),m.Y36(re,10),m.Y36(m.sBO,8))},K.\u0275dir=m.lG2({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([lt]),m.qOj,m.TTD]}),K})(),Yt=(()=>{class K{}return K.\u0275fac=function(V){return new(V||K)},K.\u0275dir=m.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K})(),Vt=(()=>{class K{}return K.\u0275fac=function(V){return new(V||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({}),K})();const ir=new m.OlP("NgModelWithFormControlWarning"),Wr={provide:Pn,useExisting:(0,m.Gpc)(()=>xs)};let xs=(()=>{class K extends Pn{constructor(V,we){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(V),this._setAsyncValidators(we)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(In(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const we=this.form.get(V.path);return Ze(we,V),we.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),we}getControl(V){return this.form.get(V.path)}removeControl(V){Be(V.control||null,V,!1),function ns(K,$){const V=K.indexOf($);V>-1&&K.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,we){this.form.get(V.path).setValue(we)}onSubmit(V){return this.submitted=!0,fr(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const we=V.control,tn=this.form.get(V.path);we!==tn&&(Be(we||null,V),(K=>K instanceof Xi)(tn)&&(Ze(tn,V),V.control=tn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const we=this.form.get(V.path);Zn(we,V),we.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const we=this.form.get(V.path);we&&function Tr(K,$){return In(K,$)}(we,V)&&we.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ut(this.form,this),this._oldForm&&In(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(V){return new(V||K)(m.Y36(Je,10),m.Y36($e,10))},K.\u0275dir=m.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(V,we){1&V&&m.NdJ("submit",function(Xn){return we.onSubmit(Xn)})("reset",function(){return we.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Wr]),m.qOj,m.TTD]}),K})();const Lr={provide:Vn,useExisting:(0,m.Gpc)(()=>Ys)};let Ys=(()=>{class K extends Vn{constructor(V,we,tn,Xn,pr){super(),this._ngModelWarningConfig=pr,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(we),this._setAsyncValidators(tn),this.valueAccessor=tr(0,Xn)}set isDisabled(V){}ngOnChanges(V){this._added||this._setUpControl(),us(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return Hn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return K._ngModelWarningSentOnce=!1,K.\u0275fac=function(V){return new(V||K)(m.Y36(Pn,13),m.Y36(Je,10),m.Y36($e,10),m.Y36(re,10),m.Y36(ir,8))},K.\u0275dir=m.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([Lr]),m.qOj,m.TTD]}),K})(),me=(()=>{class K{constructor(){this._validator=St}ngOnChanges(V){if(this.inputName in V){const we=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(we),this._validator=this._enabled?this.createValidator(we):St,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return K.\u0275fac=function(V){return new(V||K)},K.\u0275dir=m.lG2({type:K,features:[m.TTD]}),K})();const mi={provide:Je,useExisting:(0,m.Gpc)(()=>yi),multi:!0},Di={provide:Je,useExisting:(0,m.Gpc)(()=>kr),multi:!0};let yi=(()=>{class K extends me{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.D6c,this.createValidator=V=>Me}enabled(V){return V}}return K.\u0275fac=function(){let $;return function(we){return($||($=m.n5z(K)))(we||K)}}(),K.\u0275dir=m.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(V,we){2&V&&m.uIk("required",we._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([mi]),m.qOj]}),K})(),kr=(()=>{class K extends yi{constructor(){super(...arguments),this.createValidator=V=>_e}}return K.\u0275fac=function(){let $;return function(we){return($||($=m.n5z(K)))(we||K)}}(),K.\u0275dir=m.lG2({type:K,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(V,we){2&V&&m.uIk("required",we._enabled?"":null)},features:[m._Bn([Di]),m.qOj]}),K})();const ys={provide:Je,useExisting:(0,m.Gpc)(()=>vr),multi:!0};let vr=(()=>{class K extends me{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=V=>V,this.createValidator=V=>Ke(V)}}return K.\u0275fac=function(){let $;return function(we){return($||($=m.n5z(K)))(we||K)}}(),K.\u0275dir=m.lG2({type:K,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(V,we){2&V&&m.uIk("pattern",we._enabled?we.pattern:null)},inputs:{pattern:"pattern"},features:[m._Bn([ys]),m.qOj]}),K})(),ya=(()=>{class K{}return K.\u0275fac=function(V){return new(V||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[Vt]}),K})(),ul=(()=>{class K{}return K.\u0275fac=function(V){return new(V||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[ya]}),K})(),to=(()=>{class K{static withConfig(V){return{ngModule:K,providers:[{provide:ir,useValue:V.warnOnNgModelWithFormControl}]}}}return K.\u0275fac=function(V){return new(V||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[ya]}),K})();class Zs extends Xe{constructor($,V,we){super(je(V),pt(we,V)),this.controls=$,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[this._adjustIndex($)]}push($,V={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert($,V,we={}){this.controls.splice($,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:we.emitEvent})}removeAt($,V={}){let we=this._adjustIndex($);we<0&&(we=0),this.controls[we]&&this.controls[we]._registerOnCollectionChange(()=>{}),this.controls.splice(we,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl($,V,we={}){let tn=this._adjustIndex($);tn<0&&(tn=0),this.controls[tn]&&this.controls[tn]._registerOnCollectionChange(()=>{}),this.controls.splice(tn,1),V&&(this.controls.splice(tn,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,V={}){bt(this,0,$),$.forEach((we,tn)=>{He(this,!1,tn),this.at(tn).setValue(we,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue($,V={}){null!=$&&($.forEach((we,tn)=>{this.at(tn)&&this.at(tn).patchValue(we,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset($=[],V={}){this._forEachChild((we,tn)=>{we.reset($[tn],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map($=>$.getRawValue())}clear($={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_adjustIndex($){return $<0?$+this.length:$}_syncPendingControls(){let $=this.controls.reduce((V,we)=>!!we._syncPendingControls()||V,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){this.controls.forEach((V,we)=>{$(V,we)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(V=>V.enabled&&$(V))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}_find($){return this.at($)??null}}function _n(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let Ii=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new K;return V.useNonNullable=!0,V}group(V,we=null){const tn=this._reduceControls(V);let Xn={};return _n(we)?Xn=we:null!==we&&(Xn.validators=we.validator,Xn.asyncValidators=we.asyncValidator),new oe(tn,Xn)}record(V,we=null){const tn=this._reduceControls(V);return new pn(tn,we)}control(V,we,tn){let Xn={};return this.useNonNullable?(_n(we)?Xn=we:(Xn.validators=we,Xn.asyncValidators=tn),new Xi(V,{...Xn,nonNullable:!0})):new Xi(V,we,tn)}array(V,we,tn){const Xn=V.map(pr=>this._createControl(pr));return new Zs(Xn,we,tn)}_reduceControls(V){const we={};return Object.keys(V).forEach(tn=>{we[tn]=this._createControl(V[tn])}),we}_createControl(V){return V instanceof Xi||V instanceof Xe?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}}return K.\u0275fac=function(V){return new(V||K)},K.\u0275prov=m.Yz7({token:K,factory:K.\u0275fac,providedIn:to}),K})()},9101:(hn,ft,D)=>{D.d(ft,{lW:()=>X,ot:()=>ue});var m=D(4650),b=D(3238),E=D(2687);const M=["mat-button",""],de=["*"],re=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],pe=(0,b.pj)((0,b.Id)((0,b.Kr)(class{constructor(Te){this._elementRef=Te}})));let X=(()=>{class Te extends pe{constructor(Re,dt,Ye){super(Re),this._focusMonitor=dt,this._animationMode=Ye,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Je of re)this._hasHostAttributes(Je)&&this._getHostElement().classList.add(Je);Re.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Re,dt){Re?this._focusMonitor.focusVia(this._getHostElement(),Re,dt):this._getHostElement().focus(dt)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Re){return Re.some(dt=>this._getHostElement().hasAttribute(dt))}}return Te.\u0275fac=function(Re){return new(Re||Te)(m.Y36(m.SBq),m.Y36(E.tE),m.Y36(m.QbO,8))},Te.\u0275cmp=m.Xpm({type:Te,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Re,dt){if(1&Re&&m.Gf(b.wG,5),2&Re){let Ye;m.iGM(Ye=m.CRH())&&(dt.ripple=Ye.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Re,dt){2&Re&&(m.uIk("disabled",dt.disabled||null),m.ekj("_mat-animation-noopable","NoopAnimations"===dt._animationMode)("mat-button-disabled",dt.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[m.qOj],attrs:M,ngContentSelectors:de,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Re,dt){1&Re&&(m.F$t(),m.TgZ(0,"span",0),m.Hsn(1),m.qZA(),m._UZ(2,"span",1)(3,"span",2)),2&Re&&(m.xp6(2),m.ekj("mat-button-ripple-round",dt.isRoundButton||dt.isIconButton),m.Q6J("matRippleDisabled",dt._isRippleDisabled())("matRippleCentered",dt.isIconButton)("matRippleTrigger",dt._getHostElement()))},dependencies:[b.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Te})(),ue=(()=>{class Te{}return Te.\u0275fac=function(Re){return new(Re||Te)},Te.\u0275mod=m.oAB({type:Te}),Te.\u0275inj=m.cJS({imports:[b.si,b.BQ,b.BQ]}),Te})()},6709:(hn,ft,D)=>{D.d(ft,{p9:()=>ae}),D(2687),D(1281);var E=D(4650),de=(D(4006),D(3238)),be=D(9643);let Oe=(()=>{class Me{}return Me.\u0275fac=function(fe){return new(fe||Me)},Me.\u0275mod=E.oAB({type:Me}),Me.\u0275inj=E.cJS({}),Me})(),ae=(()=>{class Me{}return Me.\u0275fac=function(fe){return new(fe||Me)},Me.\u0275mod=E.oAB({type:Me}),Me.\u0275inj=E.cJS({imports:[de.si,de.BQ,be.Q8,Oe,de.BQ,Oe]}),Me})()},3238:(hn,ft,D)=>{D.d(ft,{rD:()=>st,K7:()=>qe,HF:()=>We,BQ:()=>rt,X2:()=>xe,uc:()=>Lt,ey:()=>un,Ng:()=>ui,nP:()=>Z,us:()=>Ie,wG:()=>ht,si:()=>j,CB:()=>Wn,jH:()=>Tn,pj:()=>fe,Kr:()=>Ge,Id:()=>_e,FD:()=>Ke,sb:()=>Se,E0:()=>ve});var m=D(4650),b=D(2687),E=D(445),de=D(6895),be=D(3353),Fe=D(1281),re=D(7579),pe=D(8675),X=D(9521);function Te(Nt,_t){if(1&Nt&&m._UZ(0,"mat-pseudo-checkbox",4),2&Nt){const ot=m.oxw();m.Q6J("state",ot.selected?"checked":"unchecked")("disabled",ot.disabled)}}function ze(Nt,_t){if(1&Nt&&(m.TgZ(0,"span",5),m._uU(1),m.qZA()),2&Nt){const ot=m.oxw();m.xp6(1),m.hij("(",ot.group.label,")")}}const Re=["*"],Ft=new m.OlP("mat-sanity-checks",{providedIn:"root",factory:function $e(){return!0}});let rt=(()=>{class Nt{constructor(ot,Tt,Ue){this._sanityChecks=Tt,this._document=Ue,this._hasDoneGlobalChecks=!1,ot._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ot){return!(0,be.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ot])}}return Nt.\u0275fac=function(ot){return new(ot||Nt)(m.LFG(b.qm),m.LFG(Ft,8),m.LFG(de.K0))},Nt.\u0275mod=m.oAB({type:Nt}),Nt.\u0275inj=m.cJS({imports:[E.vT,E.vT]}),Nt})();function _e(Nt){return class extends Nt{constructor(..._t){super(..._t),this._disabled=!1}get disabled(){return this._disabled}set disabled(_t){this._disabled=(0,Fe.Ig)(_t)}}}function fe(Nt,_t){return class extends Nt{constructor(...ot){super(...ot),this.defaultColor=_t,this.color=_t}get color(){return this._color}set color(ot){const Tt=ot||this.defaultColor;Tt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Tt&&this._elementRef.nativeElement.classList.add(`mat-${Tt}`),this._color=Tt)}}}function Ge(Nt){return class extends Nt{constructor(..._t){super(..._t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(_t){this._disableRipple=(0,Fe.Ig)(_t)}}}function Se(Nt,_t=0){return class extends Nt{constructor(...ot){super(...ot),this._tabIndex=_t,this.defaultTabIndex=_t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(ot){this._tabIndex=null!=ot?(0,Fe.su)(ot):this.defaultTabIndex}}}function Ke(Nt){return class extends Nt{constructor(..._t){super(..._t),this.errorState=!1}updateErrorState(){const _t=this.errorState,je=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);je!==_t&&(this.errorState=je,this.stateChanges.next())}}}let st=(()=>{class Nt{isErrorState(ot,Tt){return!!(ot&&ot.invalid&&(ot.touched||Tt&&Tt.submitted))}}return Nt.\u0275fac=function(ot){return new(ot||Nt)},Nt.\u0275prov=m.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),Nt})(),xe=(()=>{class Nt{}return Nt.\u0275fac=function(ot){return new(ot||Nt)},Nt.\u0275dir=m.lG2({type:Nt,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Nt})();function ve(Nt,_t,ot="mat"){Nt.changes.pipe((0,pe.O)(Nt)).subscribe(({length:Tt})=>{Ct(_t,`${ot}-2-line`,!1),Ct(_t,`${ot}-3-line`,!1),Ct(_t,`${ot}-multi-line`,!1),2===Tt||3===Tt?Ct(_t,`${ot}-${Tt}-line`,!0):Tt>3&&Ct(_t,`${ot}-multi-line`,!0)})}function Ct(Nt,_t,ot){Nt.nativeElement.classList.toggle(_t,ot)}let Lt=(()=>{class Nt{}return Nt.\u0275fac=function(ot){return new(ot||Nt)},Nt.\u0275mod=m.oAB({type:Nt}),Nt.\u0275inj=m.cJS({imports:[rt,rt]}),Nt})();class zt{constructor(_t,ot,Tt,Ue=!1){this._renderer=_t,this.element=ot,this.config=Tt,this._animationForciblyDisabledThroughCss=Ue,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const An={enterDuration:225,exitDuration:150},Vn=(0,be.i$)({passive:!0}),xn=["mousedown","touchstart"],ii=["mouseup","mouseleave","touchend","touchcancel"];class ci{constructor(_t,ot,Tt,Ue){this._target=_t,this._ngZone=ot,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ue.isBrowser&&(this._containerElement=(0,Fe.fI)(Tt))}fadeInRipple(_t,ot,Tt={}){const Ue=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),je={...An,...Tt.animation};Tt.centered&&(_t=Ue.left+Ue.width/2,ot=Ue.top+Ue.height/2);const Ae=Tt.radius||function Cn(Nt,_t,ot){const Tt=Math.max(Math.abs(Nt-ot.left),Math.abs(Nt-ot.right)),Ue=Math.max(Math.abs(_t-ot.top),Math.abs(_t-ot.bottom));return Math.sqrt(Tt*Tt+Ue*Ue)}(_t,ot,Ue),pt=_t-Ue.left,Rt=ot-Ue.top,ke=je.enterDuration,He=document.createElement("div");He.classList.add("mat-ripple-element"),He.style.left=pt-Ae+"px",He.style.top=Rt-Ae+"px",He.style.height=2*Ae+"px",He.style.width=2*Ae+"px",null!=Tt.color&&(He.style.backgroundColor=Tt.color),He.style.transitionDuration=`${ke}ms`,this._containerElement.appendChild(He);const bt=window.getComputedStyle(He),oe=bt.transitionDuration,Le="none"===bt.transitionProperty||"0s"===oe||"0s, 0s"===oe,kt=new zt(this,He,Tt,Le);He.style.transform="scale3d(1, 1, 1)",kt.state=0,Tt.persistent||(this._mostRecentTransientRipple=kt);let pn=null;return!Le&&(ke||je.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const zn=()=>this._finishRippleTransition(kt),Hn=()=>this._destroyRipple(kt);He.addEventListener("transitionend",zn),He.addEventListener("transitioncancel",Hn),pn={onTransitionEnd:zn,onTransitionCancel:Hn}}),this._activeRipples.set(kt,pn),(Le||!ke)&&this._finishRippleTransition(kt),kt}fadeOutRipple(_t){if(2===_t.state||3===_t.state)return;const ot=_t.element,Tt={...An,..._t.config.animation};ot.style.transitionDuration=`${Tt.exitDuration}ms`,ot.style.opacity="0",_t.state=2,(_t._animationForciblyDisabledThroughCss||!Tt.exitDuration)&&this._finishRippleTransition(_t)}fadeOutAll(){this._getActiveRipples().forEach(_t=>_t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(_t=>{_t.config.persistent||_t.fadeOut()})}setupTriggerEvents(_t){const ot=(0,Fe.fI)(_t);!ot||ot===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ot,this._registerEvents(xn))}handleEvent(_t){"mousedown"===_t.type?this._onMousedown(_t):"touchstart"===_t.type?this._onTouchStart(_t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ii),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(_t){0===_t.state?this._startFadeOutTransition(_t):2===_t.state&&this._destroyRipple(_t)}_startFadeOutTransition(_t){const ot=_t===this._mostRecentTransientRipple,{persistent:Tt}=_t.config;_t.state=1,!Tt&&(!ot||!this._isPointerDown)&&_t.fadeOut()}_destroyRipple(_t){const ot=this._activeRipples.get(_t)??null;this._activeRipples.delete(_t),this._activeRipples.size||(this._containerRect=null),_t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),_t.state=3,null!==ot&&(_t.element.removeEventListener("transitionend",ot.onTransitionEnd),_t.element.removeEventListener("transitioncancel",ot.onTransitionCancel)),_t.element.remove()}_onMousedown(_t){const ot=(0,b.X6)(_t),Tt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ot&&!Tt&&(this._isPointerDown=!0,this.fadeInRipple(_t.clientX,_t.clientY,this._target.rippleConfig))}_onTouchStart(_t){if(!this._target.rippleDisabled&&!(0,b.yG)(_t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ot=_t.changedTouches;for(let Tt=0;Tt<ot.length;Tt++)this.fadeInRipple(ot[Tt].clientX,ot[Tt].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(_t=>{!_t.config.persistent&&(1===_t.state||_t.config.terminateOnPointerUp&&0===_t.state)&&_t.fadeOut()}))}_registerEvents(_t){this._ngZone.runOutsideAngular(()=>{_t.forEach(ot=>{this._triggerElement.addEventListener(ot,this,Vn)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(xn.forEach(_t=>{this._triggerElement.removeEventListener(_t,this,Vn)}),this._pointerUpEventsRegistered&&ii.forEach(_t=>{this._triggerElement.removeEventListener(_t,this,Vn)}))}}const Fn=new m.OlP("mat-ripple-global-options");let ht=(()=>{class Nt{constructor(ot,Tt,Ue,je,Ae){this._elementRef=ot,this._animationMode=Ae,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=je||{},this._rippleRenderer=new ci(this,Tt,ot,Ue)}get disabled(){return this._disabled}set disabled(ot){ot&&this.fadeOutAllNonPersistent(),this._disabled=ot,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ot){this._trigger=ot,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ot,Tt=0,Ue){return"number"==typeof ot?this._rippleRenderer.fadeInRipple(ot,Tt,{...this.rippleConfig,...Ue}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ot})}}return Nt.\u0275fac=function(ot){return new(ot||Nt)(m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(be.t4),m.Y36(Fn,8),m.Y36(m.QbO,8))},Nt.\u0275dir=m.lG2({type:Nt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ot,Tt){2&ot&&m.ekj("mat-ripple-unbounded",Tt.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Nt})(),j=(()=>{class Nt{}return Nt.\u0275fac=function(ot){return new(ot||Nt)},Nt.\u0275mod=m.oAB({type:Nt}),Nt.\u0275inj=m.cJS({imports:[rt,rt]}),Nt})(),Z=(()=>{class Nt{constructor(ot){this._animationMode=ot,this.state="unchecked",this.disabled=!1}}return Nt.\u0275fac=function(ot){return new(ot||Nt)(m.Y36(m.QbO,8))},Nt.\u0275cmp=m.Xpm({type:Nt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(ot,Tt){2&ot&&m.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Tt.state)("mat-pseudo-checkbox-checked","checked"===Tt.state)("mat-pseudo-checkbox-disabled",Tt.disabled)("_mat-animation-noopable","NoopAnimations"===Tt._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(ot,Tt){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),Nt})(),Ie=(()=>{class Nt{}return Nt.\u0275fac=function(ot){return new(ot||Nt)},Nt.\u0275mod=m.oAB({type:Nt}),Nt.\u0275inj=m.cJS({imports:[rt]}),Nt})();const We=new m.OlP("MAT_OPTION_PARENT_COMPONENT"),qe=new m.OlP("MatOptgroup");let Pt=0;class yn{constructor(_t,ot=!1){this.source=_t,this.isUserInput=ot}}let qn=(()=>{class Nt{constructor(ot,Tt,Ue,je){this._element=ot,this._changeDetectorRef=Tt,this._parent=Ue,this.group=je,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Pt++,this.onSelectionChange=new m.vpe,this._stateChanges=new re.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(ot){this._disabled=(0,Fe.Ig)(ot)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(ot,Tt){const Ue=this._getHostElement();"function"==typeof Ue.focus&&Ue.focus(Tt)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(ot){(ot.keyCode===X.K5||ot.keyCode===X.L_)&&!(0,X.Vb)(ot)&&(this._selectViaInteraction(),ot.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const ot=this.viewValue;ot!==this._mostRecentViewValue&&(this._mostRecentViewValue=ot,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(ot=!1){this.onSelectionChange.emit(new yn(this,ot))}}return Nt.\u0275fac=function(ot){m.$Z()},Nt.\u0275dir=m.lG2({type:Nt,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Nt})(),un=(()=>{class Nt extends qn{constructor(ot,Tt,Ue,je){super(ot,Tt,Ue,je)}}return Nt.\u0275fac=function(ot){return new(ot||Nt)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(We,8),m.Y36(qe,8))},Nt.\u0275cmp=m.Xpm({type:Nt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(ot,Tt){1&ot&&m.NdJ("click",function(){return Tt._selectViaInteraction()})("keydown",function(je){return Tt._handleKeydown(je)}),2&ot&&(m.Ikx("id",Tt.id),m.uIk("tabindex",Tt._getTabIndex())("aria-selected",Tt._getAriaSelected())("aria-disabled",Tt.disabled.toString()),m.ekj("mat-selected",Tt.selected)("mat-option-multiple",Tt.multiple)("mat-active",Tt.active)("mat-option-disabled",Tt.disabled))},exportAs:["matOption"],features:[m.qOj],ngContentSelectors:Re,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(ot,Tt){1&ot&&(m.F$t(),m.YNc(0,Te,1,2,"mat-pseudo-checkbox",0),m.TgZ(1,"span",1),m.Hsn(2),m.qZA(),m.YNc(3,ze,2,1,"span",2),m._UZ(4,"div",3)),2&ot&&(m.Q6J("ngIf",Tt.multiple),m.xp6(3),m.Q6J("ngIf",Tt.group&&Tt.group._inert),m.xp6(1),m.Q6J("matRippleTrigger",Tt._getHostElement())("matRippleDisabled",Tt.disabled||Tt.disableRipple))},dependencies:[ht,de.O5,Z],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),Nt})();function Wn(Nt,_t,ot){if(ot.length){let Tt=_t.toArray(),Ue=ot.toArray(),je=0;for(let Ae=0;Ae<Nt+1;Ae++)Tt[Ae].group&&Tt[Ae].group===Ue[je]&&je++;return je}return 0}function Tn(Nt,_t,ot,Tt){return Nt<ot?Nt:Nt+_t>ot+Tt?Math.max(0,Nt-Tt+_t):ot}let ui=(()=>{class Nt{}return Nt.\u0275fac=function(ot){return new(ot||Nt)},Nt.\u0275mod=m.oAB({type:Nt}),Nt.\u0275inj=m.cJS({imports:[j,de.ez,rt,Ie]}),Nt})()},9549:(hn,ft,D)=>{D.d(ft,{Eo:()=>xt,G_:()=>ci,KE:()=>Cn,R9:()=>zt,TO:()=>Jt,hX:()=>st,lN:()=>Fn});var m=D(9643),b=D(6895),E=D(4650),M=D(3238),de=D(445),be=D(1281),Fe=D(7579),re=D(6451),pe=D(4968),X=D(8675),se=D(2722),ue=D(5698),Te=D(7340),ze=D(3353);const Re=["connectionContainer"],dt=["inputContainer"],Ye=["label"];function Je(ht,j){1&ht&&(E.ynx(0),E.TgZ(1,"div",14),E._UZ(2,"div",15)(3,"div",16)(4,"div",17),E.qZA(),E.TgZ(5,"div",18),E._UZ(6,"div",15)(7,"div",16)(8,"div",17),E.qZA(),E.BQk())}function $e(ht,j){if(1&ht){const Z=E.EpF();E.TgZ(0,"div",19),E.NdJ("cdkObserveContent",function(){E.CHM(Z);const We=E.oxw();return E.KtG(We.updateOutlineGap())}),E.Hsn(1,1),E.qZA()}if(2&ht){const Z=E.oxw();E.Q6J("cdkObserveContentDisabled","outline"!=Z.appearance)}}function Ft(ht,j){if(1&ht&&(E.ynx(0),E.Hsn(1,2),E.TgZ(2,"span"),E._uU(3),E.qZA(),E.BQk()),2&ht){const Z=E.oxw(2);E.xp6(3),E.Oqu(Z._control.placeholder)}}function rt(ht,j){1&ht&&E.Hsn(0,3,["*ngSwitchCase","true"])}function Oe(ht,j){1&ht&&(E.TgZ(0,"span",23),E._uU(1," *"),E.qZA())}function ae(ht,j){if(1&ht){const Z=E.EpF();E.TgZ(0,"label",20,21),E.NdJ("cdkObserveContent",function(){E.CHM(Z);const We=E.oxw();return E.KtG(We.updateOutlineGap())}),E.YNc(2,Ft,4,1,"ng-container",12),E.YNc(3,rt,1,0,"ng-content",12),E.YNc(4,Oe,2,0,"span",22),E.qZA()}if(2&ht){const Z=E.oxw();E.ekj("mat-empty",Z._control.empty&&!Z._shouldAlwaysFloat())("mat-form-field-empty",Z._control.empty&&!Z._shouldAlwaysFloat())("mat-accent","accent"==Z.color)("mat-warn","warn"==Z.color),E.Q6J("cdkObserveContentDisabled","outline"!=Z.appearance)("id",Z._labelId)("ngSwitch",Z._hasLabel()),E.uIk("for",Z._control.id)("aria-owns",Z._control.id),E.xp6(2),E.Q6J("ngSwitchCase",!1),E.xp6(1),E.Q6J("ngSwitchCase",!0),E.xp6(1),E.Q6J("ngIf",!Z.hideRequiredMarker&&Z._control.required&&!Z._control.disabled)}}function Me(ht,j){1&ht&&(E.TgZ(0,"div",24),E.Hsn(1,4),E.qZA())}function _e(ht,j){if(1&ht&&(E.TgZ(0,"div",25),E._UZ(1,"span",26),E.qZA()),2&ht){const Z=E.oxw();E.xp6(1),E.ekj("mat-accent","accent"==Z.color)("mat-warn","warn"==Z.color)}}function fe(ht,j){if(1&ht&&(E.TgZ(0,"div"),E.Hsn(1,5),E.qZA()),2&ht){const Z=E.oxw();E.Q6J("@transitionMessages",Z._subscriptAnimationState)}}function Ge(ht,j){if(1&ht&&(E.TgZ(0,"div",30),E._uU(1),E.qZA()),2&ht){const Z=E.oxw(2);E.Q6J("id",Z._hintLabelId),E.xp6(1),E.Oqu(Z.hintLabel)}}function Se(ht,j){if(1&ht&&(E.TgZ(0,"div",27),E.YNc(1,Ge,2,2,"div",28),E.Hsn(2,6),E._UZ(3,"div",29),E.Hsn(4,7),E.qZA()),2&ht){const Z=E.oxw();E.Q6J("@transitionMessages",Z._subscriptAnimationState),E.xp6(1),E.Q6J("ngIf",Z.hintLabel)}}const Ke=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],St=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let yt=0;const Qt=new E.OlP("MatError");let Jt=(()=>{class ht{constructor(Z,Ie){this.id="mat-error-"+yt++,Z||Ie.nativeElement.setAttribute("aria-live","polite")}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.$8M("aria-live"),E.Y36(E.SBq))},ht.\u0275dir=E.lG2({type:ht,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Z,Ie){2&Z&&E.uIk("id",Ie.id)},inputs:{id:"id"},features:[E._Bn([{provide:Qt,useExisting:ht}])]}),ht})();const Sn={transitionMessages:(0,Te.X$)("transitionMessages",[(0,Te.SB)("enter",(0,Te.oB)({opacity:1,transform:"translateY(0%)"})),(0,Te.eR)("void => enter",[(0,Te.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Te.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xt=(()=>{class ht{}return ht.\u0275fac=function(Z){return new(Z||ht)},ht.\u0275dir=E.lG2({type:ht}),ht})();const Bt=new E.OlP("MatHint");let st=(()=>{class ht{}return ht.\u0275fac=function(Z){return new(Z||ht)},ht.\u0275dir=E.lG2({type:ht,selectors:[["mat-label"]]}),ht})(),xe=(()=>{class ht{}return ht.\u0275fac=function(Z){return new(Z||ht)},ht.\u0275dir=E.lG2({type:ht,selectors:[["mat-placeholder"]]}),ht})();const ve=new E.OlP("MatPrefix"),Lt=new E.OlP("MatSuffix");let zt=(()=>{class ht{}return ht.\u0275fac=function(Z){return new(Z||ht)},ht.\u0275dir=E.lG2({type:ht,selectors:[["","matSuffix",""]],features:[E._Bn([{provide:Lt,useExisting:ht}])]}),ht})(),An=0;const xn=(0,M.pj)(class{constructor(ht){this._elementRef=ht}},"primary"),ii=new E.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ci=new E.OlP("MatFormField");let Cn=(()=>{class ht extends xn{constructor(Z,Ie,We,De,z,ee,qe){super(Z),this._changeDetectorRef=Ie,this._dir=We,this._defaults=De,this._platform=z,this._ngZone=ee,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Fe.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+An++,this._labelId="mat-form-field-label-"+An++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==qe,this.appearance=De?.appearance||"legacy",De&&(this._hideRequiredMarker=Boolean(De.hideRequiredMarker),De.color&&(this.color=this.defaultColor=De.color))}get appearance(){return this._appearance}set appearance(Z){const Ie=this._appearance;this._appearance=Z||this._defaults?.appearance||"legacy","outline"===this._appearance&&Ie!==Z&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Z){this._hideRequiredMarker=(0,be.Ig)(Z)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Z){this._hintLabel=Z,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Z){Z!==this._floatLabel&&(this._floatLabel=Z||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Z){this._explicitFormFieldControl=Z}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Z=this._control;Z.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Z.controlType}`),Z.stateChanges.pipe((0,X.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Z.ngControl&&Z.ngControl.valueChanges&&Z.ngControl.valueChanges.pipe((0,se.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,se.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,re.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,X.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,X.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,se.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Z){const Ie=this._control?this._control.ngControl:null;return Ie&&Ie[Z]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,pe.R)(this._label.nativeElement,"transitionend").pipe((0,ue.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Z=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Z.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ie=this._hintChildren?this._hintChildren.find(De=>"start"===De.align):null,We=this._hintChildren?this._hintChildren.find(De=>"end"===De.align):null;Ie?Z.push(Ie.id):this._hintLabel&&Z.push(this._hintLabelId),We&&Z.push(We.id)}else this._errorChildren&&Z.push(...this._errorChildren.map(Ie=>Ie.id));this._control.setDescribedByIds(Z)}}_validateControlChild(){}updateOutlineGap(){const Z=this._label?this._label.nativeElement:null,Ie=this._connectionContainerRef.nativeElement,We=".mat-form-field-outline-start",De=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Z||!Z.children.length||!Z.textContent.trim()){const Pt=Ie.querySelectorAll(`${We}, ${De}`);for(let yn=0;yn<Pt.length;yn++)Pt[yn].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let z=0,ee=0;const qe=Ie.querySelectorAll(We),mt=Ie.querySelectorAll(De);if(this._label&&this._label.nativeElement.children.length){const Pt=Ie.getBoundingClientRect();if(0===Pt.width&&0===Pt.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const yn=this._getStartEnd(Pt),qn=Z.children,un=this._getStartEnd(qn[0].getBoundingClientRect());let Wn=0;for(let Tn=0;Tn<qn.length;Tn++)Wn+=qn[Tn].offsetWidth;z=Math.abs(un-yn)-5,ee=Wn>0?.75*Wn+10:0}for(let Pt=0;Pt<qe.length;Pt++)qe[Pt].style.width=`${z}px`;for(let Pt=0;Pt<mt.length;Pt++)mt[Pt].style.width=`${ee}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Z){return this._dir&&"rtl"===this._dir.value?Z.right:Z.left}_isAttachedToDOM(){const Z=this._elementRef.nativeElement;if(Z.getRootNode){const Ie=Z.getRootNode();return Ie&&Ie!==Z}return document.documentElement.contains(Z)}}return ht.\u0275fac=function(Z){return new(Z||ht)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(de.Is,8),E.Y36(ii,8),E.Y36(ze.t4),E.Y36(E.R0b),E.Y36(E.QbO,8))},ht.\u0275cmp=E.Xpm({type:ht,selectors:[["mat-form-field"]],contentQueries:function(Z,Ie,We){if(1&Z&&(E.Suo(We,xt,5),E.Suo(We,xt,7),E.Suo(We,st,5),E.Suo(We,st,7),E.Suo(We,xe,5),E.Suo(We,Qt,5),E.Suo(We,Bt,5),E.Suo(We,ve,5),E.Suo(We,Lt,5)),2&Z){let De;E.iGM(De=E.CRH())&&(Ie._controlNonStatic=De.first),E.iGM(De=E.CRH())&&(Ie._controlStatic=De.first),E.iGM(De=E.CRH())&&(Ie._labelChildNonStatic=De.first),E.iGM(De=E.CRH())&&(Ie._labelChildStatic=De.first),E.iGM(De=E.CRH())&&(Ie._placeholderChild=De.first),E.iGM(De=E.CRH())&&(Ie._errorChildren=De),E.iGM(De=E.CRH())&&(Ie._hintChildren=De),E.iGM(De=E.CRH())&&(Ie._prefixChildren=De),E.iGM(De=E.CRH())&&(Ie._suffixChildren=De)}},viewQuery:function(Z,Ie){if(1&Z&&(E.Gf(Re,7),E.Gf(dt,5),E.Gf(Ye,5)),2&Z){let We;E.iGM(We=E.CRH())&&(Ie._connectionContainerRef=We.first),E.iGM(We=E.CRH())&&(Ie._inputContainerRef=We.first),E.iGM(We=E.CRH())&&(Ie._label=We.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Z,Ie){2&Z&&E.ekj("mat-form-field-appearance-standard","standard"==Ie.appearance)("mat-form-field-appearance-fill","fill"==Ie.appearance)("mat-form-field-appearance-outline","outline"==Ie.appearance)("mat-form-field-appearance-legacy","legacy"==Ie.appearance)("mat-form-field-invalid",Ie._control.errorState)("mat-form-field-can-float",Ie._canLabelFloat())("mat-form-field-should-float",Ie._shouldLabelFloat())("mat-form-field-has-label",Ie._hasFloatingLabel())("mat-form-field-hide-placeholder",Ie._hideControlPlaceholder())("mat-form-field-disabled",Ie._control.disabled)("mat-form-field-autofilled",Ie._control.autofilled)("mat-focused",Ie._control.focused)("ng-untouched",Ie._shouldForward("untouched"))("ng-touched",Ie._shouldForward("touched"))("ng-pristine",Ie._shouldForward("pristine"))("ng-dirty",Ie._shouldForward("dirty"))("ng-valid",Ie._shouldForward("valid"))("ng-invalid",Ie._shouldForward("invalid"))("ng-pending",Ie._shouldForward("pending"))("_mat-animation-noopable",!Ie._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[E._Bn([{provide:ci,useExisting:ht}]),E.qOj],ngContentSelectors:St,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Z,Ie){1&Z&&(E.F$t(Ke),E.TgZ(0,"div",0)(1,"div",1,2),E.NdJ("click",function(De){return Ie._control.onContainerClick&&Ie._control.onContainerClick(De)}),E.YNc(3,Je,9,0,"ng-container",3),E.YNc(4,$e,2,1,"div",4),E.TgZ(5,"div",5,6),E.Hsn(7),E.TgZ(8,"span",7),E.YNc(9,ae,5,16,"label",8),E.qZA()(),E.YNc(10,Me,2,0,"div",9),E.qZA(),E.YNc(11,_e,2,4,"div",10),E.TgZ(12,"div",11),E.YNc(13,fe,2,1,"div",12),E.YNc(14,Se,5,2,"div",13),E.qZA()()),2&Z&&(E.xp6(3),E.Q6J("ngIf","outline"==Ie.appearance),E.xp6(1),E.Q6J("ngIf",Ie._prefixChildren.length),E.xp6(5),E.Q6J("ngIf",Ie._hasFloatingLabel()),E.xp6(1),E.Q6J("ngIf",Ie._suffixChildren.length),E.xp6(1),E.Q6J("ngIf","outline"!=Ie.appearance),E.xp6(1),E.Q6J("ngSwitch",Ie._getDisplayedMessages()),E.xp6(1),E.Q6J("ngSwitchCase","error"),E.xp6(1),E.Q6J("ngSwitchCase","hint"))},dependencies:[b.O5,b.RF,b.n9,m.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Sn.transitionMessages]},changeDetection:0}),ht})(),Fn=(()=>{class ht{}return ht.\u0275fac=function(Z){return new(Z||ht)},ht.\u0275mod=E.oAB({type:ht}),ht.\u0275inj=E.cJS({imports:[b.ez,M.BQ,m.Q8,M.BQ]}),ht})()},7392:(hn,ft,D)=>{D.d(ft,{Hw:()=>it,Ps:()=>Bt,jv:()=>fe});var m=D(4650),b=D(3238),E=D(1281),M=D(6895),de=D(9646),be=D(2843),Fe=D(4128),re=D(727),pe=D(8505),X=D(4004),se=D(262),ue=D(8746),Te=D(3099),ze=D(5698),Re=D(529),dt=D(1481);const Ye=["*"];let Je;function Ft(Ce){return function $e(){if(void 0===Je&&(Je=null,typeof window<"u")){const Ce=window;void 0!==Ce.trustedTypes&&(Je=Ce.trustedTypes.createPolicy("angular#components",{createHTML:st=>st}))}return Je}()?.createHTML(Ce)||Ce}function rt(Ce){return Error(`Unable to find icon with the name "${Ce}"`)}function ae(Ce){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ce}".`)}function Me(Ce){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ce}".`)}class _e{constructor(st,xe,ve){this.url=st,this.svgText=xe,this.options=ve}}let fe=(()=>{class Ce{constructor(xe,ve,Ct,Lt){this._httpClient=xe,this._sanitizer=ve,this._errorHandler=Lt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ct}addSvgIcon(xe,ve,Ct){return this.addSvgIconInNamespace("",xe,ve,Ct)}addSvgIconLiteral(xe,ve,Ct){return this.addSvgIconLiteralInNamespace("",xe,ve,Ct)}addSvgIconInNamespace(xe,ve,Ct,Lt){return this._addSvgIconConfig(xe,ve,new _e(Ct,null,Lt))}addSvgIconResolver(xe){return this._resolvers.push(xe),this}addSvgIconLiteralInNamespace(xe,ve,Ct,Lt){const zt=this._sanitizer.sanitize(m.q3G.HTML,Ct);if(!zt)throw Me(Ct);const An=Ft(zt);return this._addSvgIconConfig(xe,ve,new _e("",An,Lt))}addSvgIconSet(xe,ve){return this.addSvgIconSetInNamespace("",xe,ve)}addSvgIconSetLiteral(xe,ve){return this.addSvgIconSetLiteralInNamespace("",xe,ve)}addSvgIconSetInNamespace(xe,ve,Ct){return this._addSvgIconSetConfig(xe,new _e(ve,null,Ct))}addSvgIconSetLiteralInNamespace(xe,ve,Ct){const Lt=this._sanitizer.sanitize(m.q3G.HTML,ve);if(!Lt)throw Me(ve);const zt=Ft(Lt);return this._addSvgIconSetConfig(xe,new _e("",zt,Ct))}registerFontClassAlias(xe,ve=xe){return this._fontCssClassesByAlias.set(xe,ve),this}classNameForFontAlias(xe){return this._fontCssClassesByAlias.get(xe)||xe}setDefaultFontSetClass(...xe){return this._defaultFontSetClass=xe,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(xe){const ve=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,xe);if(!ve)throw ae(xe);const Ct=this._cachedIconsByUrl.get(ve);return Ct?(0,de.of)(Ke(Ct)):this._loadSvgIconFromConfig(new _e(xe,null)).pipe((0,pe.b)(Lt=>this._cachedIconsByUrl.set(ve,Lt)),(0,X.U)(Lt=>Ke(Lt)))}getNamedSvgIcon(xe,ve=""){const Ct=St(ve,xe);let Lt=this._svgIconConfigs.get(Ct);if(Lt)return this._getSvgFromConfig(Lt);if(Lt=this._getIconConfigFromResolvers(ve,xe),Lt)return this._svgIconConfigs.set(Ct,Lt),this._getSvgFromConfig(Lt);const zt=this._iconSetConfigs.get(ve);return zt?this._getSvgFromIconSetConfigs(xe,zt):(0,be._)(rt(Ct))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(xe){return xe.svgText?(0,de.of)(Ke(this._svgElementFromConfig(xe))):this._loadSvgIconFromConfig(xe).pipe((0,X.U)(ve=>Ke(ve)))}_getSvgFromIconSetConfigs(xe,ve){const Ct=this._extractIconWithNameFromAnySet(xe,ve);if(Ct)return(0,de.of)(Ct);const Lt=ve.filter(zt=>!zt.svgText).map(zt=>this._loadSvgIconSetFromConfig(zt).pipe((0,se.K)(An=>{const Vn=`Loading icon set URL: ${this._sanitizer.sanitize(m.q3G.RESOURCE_URL,zt.url)} failed: ${An.message}`;return this._errorHandler.handleError(new Error(Vn)),(0,de.of)(null)})));return(0,Fe.D)(Lt).pipe((0,X.U)(()=>{const zt=this._extractIconWithNameFromAnySet(xe,ve);if(!zt)throw rt(xe);return zt}))}_extractIconWithNameFromAnySet(xe,ve){for(let Ct=ve.length-1;Ct>=0;Ct--){const Lt=ve[Ct];if(Lt.svgText&&Lt.svgText.toString().indexOf(xe)>-1){const zt=this._svgElementFromConfig(Lt),An=this._extractSvgIconFromSet(zt,xe,Lt.options);if(An)return An}}return null}_loadSvgIconFromConfig(xe){return this._fetchIcon(xe).pipe((0,pe.b)(ve=>xe.svgText=ve),(0,X.U)(()=>this._svgElementFromConfig(xe)))}_loadSvgIconSetFromConfig(xe){return xe.svgText?(0,de.of)(null):this._fetchIcon(xe).pipe((0,pe.b)(ve=>xe.svgText=ve))}_extractSvgIconFromSet(xe,ve,Ct){const Lt=xe.querySelector(`[id="${ve}"]`);if(!Lt)return null;const zt=Lt.cloneNode(!0);if(zt.removeAttribute("id"),"svg"===zt.nodeName.toLowerCase())return this._setSvgAttributes(zt,Ct);if("symbol"===zt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(zt),Ct);const An=this._svgElementFromString(Ft("<svg></svg>"));return An.appendChild(zt),this._setSvgAttributes(An,Ct)}_svgElementFromString(xe){const ve=this._document.createElement("DIV");ve.innerHTML=xe;const Ct=ve.querySelector("svg");if(!Ct)throw Error("<svg> tag not found");return Ct}_toSvgElement(xe){const ve=this._svgElementFromString(Ft("<svg></svg>")),Ct=xe.attributes;for(let Lt=0;Lt<Ct.length;Lt++){const{name:zt,value:An}=Ct[Lt];"id"!==zt&&ve.setAttribute(zt,An)}for(let Lt=0;Lt<xe.childNodes.length;Lt++)xe.childNodes[Lt].nodeType===this._document.ELEMENT_NODE&&ve.appendChild(xe.childNodes[Lt].cloneNode(!0));return ve}_setSvgAttributes(xe,ve){return xe.setAttribute("fit",""),xe.setAttribute("height","100%"),xe.setAttribute("width","100%"),xe.setAttribute("preserveAspectRatio","xMidYMid meet"),xe.setAttribute("focusable","false"),ve&&ve.viewBox&&xe.setAttribute("viewBox",ve.viewBox),xe}_fetchIcon(xe){const{url:ve,options:Ct}=xe,Lt=Ct?.withCredentials??!1;if(!this._httpClient)throw function Oe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ve)throw Error(`Cannot fetch icon from URL "${ve}".`);const zt=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,ve);if(!zt)throw ae(ve);const An=this._inProgressUrlFetches.get(zt);if(An)return An;const Pn=this._httpClient.get(zt,{responseType:"text",withCredentials:Lt}).pipe((0,X.U)(Vn=>Ft(Vn)),(0,ue.x)(()=>this._inProgressUrlFetches.delete(zt)),(0,Te.B)());return this._inProgressUrlFetches.set(zt,Pn),Pn}_addSvgIconConfig(xe,ve,Ct){return this._svgIconConfigs.set(St(xe,ve),Ct),this}_addSvgIconSetConfig(xe,ve){const Ct=this._iconSetConfigs.get(xe);return Ct?Ct.push(ve):this._iconSetConfigs.set(xe,[ve]),this}_svgElementFromConfig(xe){if(!xe.svgElement){const ve=this._svgElementFromString(xe.svgText);this._setSvgAttributes(ve,xe.options),xe.svgElement=ve}return xe.svgElement}_getIconConfigFromResolvers(xe,ve){for(let Ct=0;Ct<this._resolvers.length;Ct++){const Lt=this._resolvers[Ct](ve,xe);if(Lt)return yt(Lt)?new _e(Lt.url,null,Lt.options):new _e(Lt,null)}}}return Ce.\u0275fac=function(xe){return new(xe||Ce)(m.LFG(Re.eN,8),m.LFG(dt.H7),m.LFG(M.K0,8),m.LFG(m.qLn))},Ce.\u0275prov=m.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function Ke(Ce){return Ce.cloneNode(!0)}function St(Ce,st){return Ce+":"+st}function yt(Ce){return!(!Ce.url||!Ce.options)}const Qt=(0,b.pj)(class{constructor(Ce){this._elementRef=Ce}}),Jt=new m.OlP("MAT_ICON_DEFAULT_OPTIONS"),Sn=new m.OlP("mat-icon-location",{providedIn:"root",factory:function xt(){const Ce=(0,m.f3M)(M.K0),st=Ce?Ce.location:null;return{getPathname:()=>st?st.pathname+st.search:""}}}),an=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ne=an.map(Ce=>`[${Ce}]`).join(", "),at=/^url\(['"]?#(.*?)['"]?\)$/;let it=(()=>{class Ce extends Qt{constructor(xe,ve,Ct,Lt,zt,An){super(xe),this._iconRegistry=ve,this._location=Lt,this._errorHandler=zt,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=re.w0.EMPTY,An&&(An.color&&(this.color=this.defaultColor=An.color),An.fontSet&&(this.fontSet=An.fontSet)),Ct||xe.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(xe){this._inline=(0,E.Ig)(xe)}get svgIcon(){return this._svgIcon}set svgIcon(xe){xe!==this._svgIcon&&(xe?this._updateSvgIcon(xe):this._svgIcon&&this._clearSvgElement(),this._svgIcon=xe)}get fontSet(){return this._fontSet}set fontSet(xe){const ve=this._cleanupFontValue(xe);ve!==this._fontSet&&(this._fontSet=ve,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(xe){const ve=this._cleanupFontValue(xe);ve!==this._fontIcon&&(this._fontIcon=ve,this._updateFontIconClasses())}_splitIconName(xe){if(!xe)return["",""];const ve=xe.split(":");switch(ve.length){case 1:return["",ve[0]];case 2:return ve;default:throw Error(`Invalid icon name: "${xe}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const xe=this._elementsWithExternalReferences;if(xe&&xe.size){const ve=this._location.getPathname();ve!==this._previousPath&&(this._previousPath=ve,this._prependPathToReferences(ve))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(xe){this._clearSvgElement();const ve=this._location.getPathname();this._previousPath=ve,this._cacheChildrenWithExternalReferences(xe),this._prependPathToReferences(ve),this._elementRef.nativeElement.appendChild(xe)}_clearSvgElement(){const xe=this._elementRef.nativeElement;let ve=xe.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ve--;){const Ct=xe.childNodes[ve];(1!==Ct.nodeType||"svg"===Ct.nodeName.toLowerCase())&&Ct.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const xe=this._elementRef.nativeElement,ve=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ct=>Ct.length>0);this._previousFontSetClass.forEach(Ct=>xe.classList.remove(Ct)),ve.forEach(Ct=>xe.classList.add(Ct)),this._previousFontSetClass=ve,this.fontIcon!==this._previousFontIconClass&&!ve.includes("mat-ligature-font")&&(this._previousFontIconClass&&xe.classList.remove(this._previousFontIconClass),this.fontIcon&&xe.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(xe){return"string"==typeof xe?xe.trim().split(" ")[0]:xe}_prependPathToReferences(xe){const ve=this._elementsWithExternalReferences;ve&&ve.forEach((Ct,Lt)=>{Ct.forEach(zt=>{Lt.setAttribute(zt.name,`url('${xe}#${zt.value}')`)})})}_cacheChildrenWithExternalReferences(xe){const ve=xe.querySelectorAll(ne),Ct=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Lt=0;Lt<ve.length;Lt++)an.forEach(zt=>{const An=ve[Lt],Pn=An.getAttribute(zt),Vn=Pn?Pn.match(at):null;if(Vn){let xn=Ct.get(An);xn||(xn=[],Ct.set(An,xn)),xn.push({name:zt,value:Vn[1]})}})}_updateSvgIcon(xe){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),xe){const[ve,Ct]=this._splitIconName(xe);ve&&(this._svgNamespace=ve),Ct&&(this._svgName=Ct),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ct,ve).pipe((0,ze.q)(1)).subscribe(Lt=>this._setSvgElement(Lt),Lt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${ve}:${Ct}! ${Lt.message}`))})}}}return Ce.\u0275fac=function(xe){return new(xe||Ce)(m.Y36(m.SBq),m.Y36(fe),m.$8M("aria-hidden"),m.Y36(Sn),m.Y36(m.qLn),m.Y36(Jt,8))},Ce.\u0275cmp=m.Xpm({type:Ce,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(xe,ve){2&xe&&(m.uIk("data-mat-icon-type",ve._usingFontIcon()?"font":"svg")("data-mat-icon-name",ve._svgName||ve.fontIcon)("data-mat-icon-namespace",ve._svgNamespace||ve.fontSet)("fontIcon",ve._usingFontIcon()?ve.fontIcon:null),m.ekj("mat-icon-inline",ve.inline)("mat-icon-no-color","primary"!==ve.color&&"accent"!==ve.color&&"warn"!==ve.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[m.qOj],ngContentSelectors:Ye,decls:1,vars:0,template:function(xe,ve){1&xe&&(m.F$t(),m.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Ce})(),Bt=(()=>{class Ce{}return Ce.\u0275fac=function(xe){return new(xe||Ce)},Ce.\u0275mod=m.oAB({type:Ce}),Ce.\u0275inj=m.cJS({imports:[b.BQ,b.BQ]}),Ce})()},4144:(hn,ft,D)=>{D.d(ft,{Nt:()=>$e,c:()=>Ft});var m=D(1281),b=D(3353),E=D(4650),M=D(515),de=D(7579);const be=(0,b.i$)({passive:!0});let Fe=(()=>{class rt{constructor(ae,Me){this._platform=ae,this._ngZone=Me,this._monitoredElements=new Map}monitor(ae){if(!this._platform.isBrowser)return M.E;const Me=(0,m.fI)(ae),_e=this._monitoredElements.get(Me);if(_e)return _e.subject;const fe=new de.x,Ge="cdk-text-field-autofilled",Se=Ke=>{"cdk-text-field-autofill-start"!==Ke.animationName||Me.classList.contains(Ge)?"cdk-text-field-autofill-end"===Ke.animationName&&Me.classList.contains(Ge)&&(Me.classList.remove(Ge),this._ngZone.run(()=>fe.next({target:Ke.target,isAutofilled:!1}))):(Me.classList.add(Ge),this._ngZone.run(()=>fe.next({target:Ke.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Me.addEventListener("animationstart",Se,be),Me.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Me,{subject:fe,unlisten:()=>{Me.removeEventListener("animationstart",Se,be)}}),fe}stopMonitoring(ae){const Me=(0,m.fI)(ae),_e=this._monitoredElements.get(Me);_e&&(_e.unlisten(),_e.subject.complete(),Me.classList.remove("cdk-text-field-autofill-monitored"),Me.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Me))}ngOnDestroy(){this._monitoredElements.forEach((ae,Me)=>this.stopMonitoring(Me))}}return rt.\u0275fac=function(ae){return new(ae||rt)(E.LFG(b.t4),E.LFG(E.R0b))},rt.\u0275prov=E.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),X=(()=>{class rt{}return rt.\u0275fac=function(ae){return new(ae||rt)},rt.\u0275mod=E.oAB({type:rt}),rt.\u0275inj=E.cJS({}),rt})();var se=D(4006),ue=D(3238),Te=D(9549);const Re=new E.OlP("MAT_INPUT_VALUE_ACCESSOR"),dt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ye=0;const Je=(0,ue.FD)(class{constructor(rt,Oe,ae,Me){this._defaultErrorStateMatcher=rt,this._parentForm=Oe,this._parentFormGroup=ae,this.ngControl=Me,this.stateChanges=new de.x}});let $e=(()=>{class rt extends Je{constructor(ae,Me,_e,fe,Ge,Se,Ke,St,yt,Qt){super(Se,fe,Ge,_e),this._elementRef=ae,this._platform=Me,this._autofillMonitor=St,this._formField=Qt,this._uid="mat-input-"+Ye++,this.focused=!1,this.stateChanges=new de.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(xt=>(0,b.qK)().has(xt)),this._iOSKeyupListener=xt=>{const an=xt.target;!an.value&&0===an.selectionStart&&0===an.selectionEnd&&(an.setSelectionRange(1,1),an.setSelectionRange(0,0))};const Jt=this._elementRef.nativeElement,Sn=Jt.nodeName.toLowerCase();this._inputValueAccessor=Ke||Jt,this._previousNativeValue=this.value,this.id=this.id,Me.IOS&&yt.runOutsideAngular(()=>{ae.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Sn,this._isTextarea="textarea"===Sn,this._isInFormField=!!Qt,this._isNativeSelect&&(this.controlType=Jt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(ae){this._disabled=(0,m.Ig)(ae),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ae){this._id=ae||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(se.kI.required)??!1}set required(ae){this._required=(0,m.Ig)(ae)}get type(){return this._type}set type(ae){this._type=ae||"text",this._validateType(),!this._isTextarea&&(0,b.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(ae){ae!==this.value&&(this._inputValueAccessor.value=ae,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ae){this._readonly=(0,m.Ig)(ae)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ae=>{this.autofilled=ae.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ae){this._elementRef.nativeElement.focus(ae)}_focusChanged(ae){ae!==this.focused&&(this.focused=ae,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const ae=this._formField,Me=ae&&"legacy"===ae.appearance&&!ae._hasLabel?.()?null:this.placeholder;if(Me!==this._previousPlaceholder){const _e=this._elementRef.nativeElement;this._previousPlaceholder=Me,Me?_e.setAttribute("placeholder",Me):_e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const ae=this._elementRef.nativeElement.value;this._previousNativeValue!==ae&&(this._previousNativeValue=ae,this.stateChanges.next())}_validateType(){dt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ae=this._elementRef.nativeElement.validity;return ae&&ae.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ae=this._elementRef.nativeElement,Me=ae.options[0];return this.focused||ae.multiple||!this.empty||!!(ae.selectedIndex>-1&&Me&&Me.label)}return this.focused||!this.empty}setDescribedByIds(ae){ae.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ae.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ae=this._elementRef.nativeElement;return this._isNativeSelect&&(ae.multiple||ae.size>1)}}return rt.\u0275fac=function(ae){return new(ae||rt)(E.Y36(E.SBq),E.Y36(b.t4),E.Y36(se.a5,10),E.Y36(se.F,8),E.Y36(se.sg,8),E.Y36(ue.rD),E.Y36(Re,10),E.Y36(Fe),E.Y36(E.R0b),E.Y36(Te.G_,8))},rt.\u0275dir=E.lG2({type:rt,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(ae,Me){1&ae&&E.NdJ("focus",function(){return Me._focusChanged(!0)})("blur",function(){return Me._focusChanged(!1)})("input",function(){return Me._onInput()}),2&ae&&(E.Ikx("disabled",Me.disabled)("required",Me.required),E.uIk("id",Me.id)("data-placeholder",Me.placeholder)("name",Me.name||null)("readonly",Me.readonly&&!Me._isNativeSelect||null)("aria-invalid",Me.empty&&Me.required?null:Me.errorState)("aria-required",Me.required),E.ekj("mat-input-server",Me._isServer)("mat-native-select-inline",Me._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[E._Bn([{provide:Te.Eo,useExisting:rt}]),E.qOj,E.TTD]}),rt})(),Ft=(()=>{class rt{}return rt.\u0275fac=function(ae){return new(ae||rt)},rt.\u0275mod=E.oAB({type:rt}),rt.\u0275inj=E.cJS({providers:[ue.rD],imports:[X,Te.lN,ue.BQ,X,Te.lN]}),rt})()},4633:(hn,ft,D)=>{D.d(ft,{ie:()=>at});var m=D(6895),b=D(4650),E=D(3238);D(1281),D(7579),D(2722),D(8675),D(2687),D(5017),D(9521),D(4006);let Te=(()=>{class it{}return it.\u0275fac=function(Ce){return new(Ce||it)},it.\u0275mod=b.oAB({type:it}),it.\u0275inj=b.cJS({imports:[E.BQ,E.BQ]}),it})(),at=(()=>{class it{}return it.\u0275fac=function(Ce){return new(Ce||it)},it.\u0275mod=b.oAB({type:it}),it.\u0275inj=b.cJS({imports:[E.uc,E.si,E.BQ,E.us,m.ez,E.uc,E.BQ,E.us,Te]}),it})()},457:(hn,ft,D)=>{D.d(ft,{VK:()=>xn,OP:()=>Lt,Tx:()=>Ie,p6:()=>Z});var m=D(2687),b=D(1281),E=D(9521),M=D(4650),de=D(7579),be=D(727),Fe=D(6451),re=D(9646),pe=D(3101),X=D(8675),se=D(3900),ue=D(5698),Te=D(2722),ze=D(9300),Re=D(4986),dt=D(7272),Ye=D(8502),Je=D(9718),$e=D(5577);function Ft(We,De){return De?z=>(0,dt.z)(De.pipe((0,ue.q)(1),(0,Ye.l)()),z.pipe(Ft(We))):(0,$e.z)((z,ee)=>We(z,ee).pipe((0,ue.q)(1),(0,Je.h)(z)))}var rt=D(5963);function Oe(We,De=Re.z){const z=(0,rt.H)(We,De);return Ft(()=>z)}var ae=D(7340),Me=D(4080),_e=D(6895),fe=D(3238),Ge=D(445),Se=D(8184),Ke=D(3353),St=D(4098);const yt=["mat-menu-item",""];function Qt(We,De){1&We&&(M.O4$(),M.TgZ(0,"svg",2),M._UZ(1,"polygon",3),M.qZA())}const Jt=["*"];function Sn(We,De){if(1&We){const z=M.EpF();M.TgZ(0,"div",0),M.NdJ("keydown",function(qe){M.CHM(z);const mt=M.oxw();return M.KtG(mt._handleKeydown(qe))})("click",function(){M.CHM(z);const qe=M.oxw();return M.KtG(qe.closed.emit("click"))})("@transformMenu.start",function(qe){M.CHM(z);const mt=M.oxw();return M.KtG(mt._onAnimationStart(qe))})("@transformMenu.done",function(qe){M.CHM(z);const mt=M.oxw();return M.KtG(mt._onAnimationDone(qe))}),M.TgZ(1,"div",1),M.Hsn(2),M.qZA()()}if(2&We){const z=M.oxw();M.Q6J("id",z.panelId)("ngClass",z._classList)("@transformMenu",z._panelAnimationState),M.uIk("aria-label",z.ariaLabel||null)("aria-labelledby",z.ariaLabelledby||null)("aria-describedby",z.ariaDescribedby||null)}}const xt={transformMenu:(0,ae.X$)("transformMenu",[(0,ae.SB)("void",(0,ae.oB)({opacity:0,transform:"scale(0.8)"})),(0,ae.eR)("void => enter",(0,ae.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ae.oB)({opacity:1,transform:"scale(1)"}))),(0,ae.eR)("* => void",(0,ae.jt)("100ms 25ms linear",(0,ae.oB)({opacity:0})))]),fadeInItems:(0,ae.X$)("fadeInItems",[(0,ae.SB)("showing",(0,ae.oB)({opacity:1})),(0,ae.eR)("void => *",[(0,ae.oB)({opacity:0}),(0,ae.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},at=new M.OlP("MatMenuContent"),ve=new M.OlP("MAT_MENU_PANEL"),Ct=(0,fe.Kr)((0,fe.Id)(class{}));let Lt=(()=>{class We extends Ct{constructor(z,ee,qe,mt,Pt){super(),this._elementRef=z,this._document=ee,this._focusMonitor=qe,this._parentMenu=mt,this._changeDetectorRef=Pt,this.role="menuitem",this._hovered=new de.x,this._focused=new de.x,this._highlighted=!1,this._triggersSubmenu=!1,mt?.addItem?.(this)}focus(z,ee){this._focusMonitor&&z?this._focusMonitor.focusVia(this._getHostElement(),z,ee):this._getHostElement().focus(ee),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(z){this.disabled&&(z.preventDefault(),z.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const z=this._elementRef.nativeElement.cloneNode(!0),ee=z.querySelectorAll("mat-icon, .material-icons");for(let qe=0;qe<ee.length;qe++)ee[qe].remove();return z.textContent?.trim()||""}_setHighlighted(z){this._highlighted=z,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return We.\u0275fac=function(z){return new(z||We)(M.Y36(M.SBq),M.Y36(_e.K0),M.Y36(m.tE),M.Y36(ve,8),M.Y36(M.sBO))},We.\u0275cmp=M.Xpm({type:We,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(z,ee){1&z&&M.NdJ("click",function(mt){return ee._checkDisabled(mt)})("mouseenter",function(){return ee._handleMouseEnter()}),2&z&&(M.uIk("role",ee.role)("tabindex",ee._getTabIndex())("aria-disabled",ee.disabled.toString())("disabled",ee.disabled||null),M.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",ee._highlighted)("mat-menu-item-submenu-trigger",ee._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[M.qOj],attrs:yt,ngContentSelectors:Jt,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(z,ee){1&z&&(M.F$t(),M.Hsn(0),M._UZ(1,"div",0),M.YNc(2,Qt,2,0,"svg",1)),2&z&&(M.xp6(1),M.Q6J("matRippleDisabled",ee.disableRipple||ee.disabled)("matRippleTrigger",ee._getHostElement()),M.xp6(1),M.Q6J("ngIf",ee._triggersSubmenu))},dependencies:[_e.O5,fe.wG],encapsulation:2,changeDetection:0}),We})();const zt=new M.OlP("mat-menu-default-options",{providedIn:"root",factory:function An(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Pn=0,Vn=(()=>{class We{constructor(z,ee,qe,mt){this._elementRef=z,this._ngZone=ee,this._defaultOptions=qe,this._changeDetectorRef=mt,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new M.n_E,this._tabSubscription=be.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new de.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new M.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Pn++}get xPosition(){return this._xPosition}set xPosition(z){this._xPosition=z,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(z){this._yPosition=z,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(z){this._overlapTrigger=(0,b.Ig)(z)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(z){this._hasBackdrop=(0,b.Ig)(z)}set panelClass(z){const ee=this._previousPanelClass;ee&&ee.length&&ee.split(" ").forEach(qe=>{this._classList[qe]=!1}),this._previousPanelClass=z,z&&z.length&&(z.split(" ").forEach(qe=>{this._classList[qe]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(z){this.panelClass=z}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new m.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,X.O)(this._directDescendantItems),(0,se.w)(z=>(0,Fe.T)(...z.map(ee=>ee._focused)))).subscribe(z=>this._keyManager.updateActiveItem(z)),this._directDescendantItems.changes.subscribe(z=>{const ee=this._keyManager;if("enter"===this._panelAnimationState&&ee.activeItem?._hasFocus()){const qe=z.toArray(),mt=Math.max(0,Math.min(qe.length-1,ee.activeItemIndex||0));qe[mt]&&!qe[mt].disabled?ee.setActiveItem(mt):ee.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,X.O)(this._directDescendantItems),(0,se.w)(ee=>(0,Fe.T)(...ee.map(qe=>qe._hovered))))}addItem(z){}removeItem(z){}_handleKeydown(z){const ee=z.keyCode,qe=this._keyManager;switch(ee){case E.hY:(0,E.Vb)(z)||(z.preventDefault(),this.closed.emit("keydown"));break;case E.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case E.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(ee===E.LH||ee===E.JH)&&qe.setFocusOrigin("keyboard"),void qe.onKeydown(z)}z.stopPropagation()}focusFirstItem(z="program"){this._ngZone.onStable.pipe((0,ue.q)(1)).subscribe(()=>{let ee=null;if(this._directDescendantItems.length&&(ee=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!ee||!ee.contains(document.activeElement)){const qe=this._keyManager;qe.setFocusOrigin(z).setFirstItemActive(),!qe.activeItem&&ee&&ee.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(z){const ee=Math.min(this._baseElevation+z,24),qe=`${this._elevationPrefix}${ee}`,mt=Object.keys(this._classList).find(Pt=>Pt.startsWith(this._elevationPrefix));(!mt||mt===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[qe]=!0,this._previousElevation=qe)}setPositionClasses(z=this.xPosition,ee=this.yPosition){const qe=this._classList;qe["mat-menu-before"]="before"===z,qe["mat-menu-after"]="after"===z,qe["mat-menu-above"]="above"===ee,qe["mat-menu-below"]="below"===ee,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(z){this._animationDone.next(z),this._isAnimating=!1}_onAnimationStart(z){this._isAnimating=!0,"enter"===z.toState&&0===this._keyManager.activeItemIndex&&(z.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,X.O)(this._allItems)).subscribe(z=>{this._directDescendantItems.reset(z.filter(ee=>ee._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return We.\u0275fac=function(z){return new(z||We)(M.Y36(M.SBq),M.Y36(M.R0b),M.Y36(zt),M.Y36(M.sBO))},We.\u0275dir=M.lG2({type:We,contentQueries:function(z,ee,qe){if(1&z&&(M.Suo(qe,at,5),M.Suo(qe,Lt,5),M.Suo(qe,Lt,4)),2&z){let mt;M.iGM(mt=M.CRH())&&(ee.lazyContent=mt.first),M.iGM(mt=M.CRH())&&(ee._allItems=mt),M.iGM(mt=M.CRH())&&(ee.items=mt)}},viewQuery:function(z,ee){if(1&z&&M.Gf(M.Rgc,5),2&z){let qe;M.iGM(qe=M.CRH())&&(ee.templateRef=qe.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),We})(),xn=(()=>{class We extends Vn{constructor(z,ee,qe,mt){super(z,ee,qe,mt),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return We.\u0275fac=function(z){return new(z||We)(M.Y36(M.SBq),M.Y36(M.R0b),M.Y36(zt),M.Y36(M.sBO))},We.\u0275cmp=M.Xpm({type:We,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(z,ee){2&z&&M.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[M._Bn([{provide:ve,useExisting:We}]),M.qOj],ngContentSelectors:Jt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(z,ee){1&z&&(M.F$t(),M.YNc(0,Sn,3,6,"ng-template"))},dependencies:[_e.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[xt.transformMenu,xt.fadeInItems]},changeDetection:0}),We})();const ii=new M.OlP("mat-menu-scroll-strategy"),Cn={provide:ii,deps:[Se.aV],useFactory:function ci(We){return()=>We.scrollStrategies.reposition()}},ht=(0,Ke.i$)({passive:!0});let j=(()=>{class We{constructor(z,ee,qe,mt,Pt,yn,qn,un,Wn){this._overlay=z,this._element=ee,this._viewContainerRef=qe,this._menuItemInstance=yn,this._dir=qn,this._focusMonitor=un,this._ngZone=Wn,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=be.w0.EMPTY,this._hoverSubscription=be.w0.EMPTY,this._menuCloseSubscription=be.w0.EMPTY,this._handleTouchStart=Tn=>{(0,m.yG)(Tn)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new M.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new M.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=mt,this._parentMaterialMenu=Pt instanceof Vn?Pt:void 0,ee.nativeElement.addEventListener("touchstart",this._handleTouchStart,ht),yn&&(yn._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(z){this.menu=z}get menu(){return this._menu}set menu(z){z!==this._menu&&(this._menu=z,this._menuCloseSubscription.unsubscribe(),z&&(this._menuCloseSubscription=z.close.subscribe(ee=>{this._destroyMenu(ee),("click"===ee||"tab"===ee)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ee)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ht),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const z=this.menu;if(this._menuOpen||!z)return;const ee=this._createOverlay(z),qe=ee.getConfig(),mt=qe.positionStrategy;this._setPosition(z,mt),qe.hasBackdrop=z.hasBackdrop??!this.triggersSubmenu(),ee.attach(this._getPortal(z)),z.lazyContent&&z.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(z),z instanceof Vn&&(z._startAnimation(),z._directDescendantItems.changes.pipe((0,Te.R)(z.close)).subscribe(()=>{mt.withLockedPosition(!1).reapplyLastPosition(),mt.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(z,ee){this._focusMonitor&&z?this._focusMonitor.focusVia(this._element,z,ee):this._element.nativeElement.focus(ee)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(z){if(!this._overlayRef||!this.menuOpen)return;const ee=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===z||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ee instanceof Vn?(ee._resetAnimation(),ee.lazyContent?ee._animationDone.pipe((0,ze.h)(qe=>"void"===qe.toState),(0,ue.q)(1),(0,Te.R)(ee.lazyContent._attached)).subscribe({next:()=>ee.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ee?.lazyContent?.detach())}_initMenu(z){z.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,z.direction=this.dir,this._setMenuElevation(z),z.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(z){if(z.setElevation){let ee=0,qe=z.parentMenu;for(;qe;)ee++,qe=qe.parentMenu;z.setElevation(ee)}}_setIsMenuOpen(z){this._menuOpen=z,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(z)}_createOverlay(z){if(!this._overlayRef){const ee=this._getOverlayConfig(z);this._subscribeToPositions(z,ee.positionStrategy),this._overlayRef=this._overlay.create(ee),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(z){return new Se.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:z.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:z.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(z,ee){z.setPositionClasses&&ee.positionChanges.subscribe(qe=>{const mt="start"===qe.connectionPair.overlayX?"after":"before",Pt="top"===qe.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>z.setPositionClasses(mt,Pt)):z.setPositionClasses(mt,Pt)})}_setPosition(z,ee){let[qe,mt]="before"===z.xPosition?["end","start"]:["start","end"],[Pt,yn]="above"===z.yPosition?["bottom","top"]:["top","bottom"],[qn,un]=[Pt,yn],[Wn,Tn]=[qe,mt],ui=0;if(this.triggersSubmenu()){if(Tn=qe="before"===z.xPosition?"start":"end",mt=Wn="end"===qe?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Nt=this._parentMaterialMenu.items.first;this._parentInnerPadding=Nt?Nt._getHostElement().offsetTop:0}ui="bottom"===Pt?this._parentInnerPadding:-this._parentInnerPadding}}else z.overlapTrigger||(qn="top"===Pt?"bottom":"top",un="top"===yn?"bottom":"top");ee.withPositions([{originX:qe,originY:qn,overlayX:Wn,overlayY:Pt,offsetY:ui},{originX:mt,originY:qn,overlayX:Tn,overlayY:Pt,offsetY:ui},{originX:qe,originY:un,overlayX:Wn,overlayY:yn,offsetY:-ui},{originX:mt,originY:un,overlayX:Tn,overlayY:yn,offsetY:-ui}])}_menuClosingActions(){const z=this._overlayRef.backdropClick(),ee=this._overlayRef.detachments(),qe=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,re.of)(),mt=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,ze.h)(Pt=>Pt!==this._menuItemInstance),(0,ze.h)(()=>this._menuOpen)):(0,re.of)();return(0,Fe.T)(z,qe,mt,ee)}_handleMousedown(z){(0,m.X6)(z)||(this._openedBy=0===z.button?"mouse":void 0,this.triggersSubmenu()&&z.preventDefault())}_handleKeydown(z){const ee=z.keyCode;(ee===E.K5||ee===E.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ee===E.SV&&"ltr"===this.dir||ee===E.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(z){this.triggersSubmenu()?(z.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,ze.h)(z=>z===this._menuItemInstance&&!z.disabled),Oe(0,pe.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Vn&&this.menu._isAnimating?this.menu._animationDone.pipe((0,ue.q)(1),Oe(0,pe.E),(0,Te.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(z){return(!this._portal||this._portal.templateRef!==z.templateRef)&&(this._portal=new Me.UE(z.templateRef,this._viewContainerRef)),this._portal}}return We.\u0275fac=function(z){return new(z||We)(M.Y36(Se.aV),M.Y36(M.SBq),M.Y36(M.s_b),M.Y36(ii),M.Y36(ve,8),M.Y36(Lt,10),M.Y36(Ge.Is,8),M.Y36(m.tE),M.Y36(M.R0b))},We.\u0275dir=M.lG2({type:We,hostVars:3,hostBindings:function(z,ee){1&z&&M.NdJ("click",function(mt){return ee._handleClick(mt)})("mousedown",function(mt){return ee._handleMousedown(mt)})("keydown",function(mt){return ee._handleKeydown(mt)}),2&z&&M.uIk("aria-haspopup",ee.menu?"menu":null)("aria-expanded",ee.menuOpen||null)("aria-controls",ee.menuOpen?ee.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),We})(),Z=(()=>{class We extends j{}return We.\u0275fac=function(){let De;return function(ee){return(De||(De=M.n5z(We)))(ee||We)}}(),We.\u0275dir=M.lG2({type:We,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[M.qOj]}),We})(),Ie=(()=>{class We{}return We.\u0275fac=function(z){return new(z||We)},We.\u0275mod=M.oAB({type:We}),We.\u0275inj=M.cJS({providers:[Cn],imports:[_e.ez,fe.BQ,fe.si,Se.U8,St.ZD,fe.BQ]}),We})()},4385:(hn,ft,D)=>{D.d(ft,{LD:()=>Cn,gD:()=>ci});var m=D(8184),b=D(6895),E=D(4650),M=D(3238),de=D(9549),be=D(4098),Fe=D(2687),re=D(445),pe=D(1281),X=D(5017),se=D(9521),ue=D(4006),Te=D(7579),ze=D(9770),Re=D(6451),dt=D(8675),Ye=D(3900),Je=D(5698),$e=D(9300),Ft=D(4004),rt=D(1884),Oe=D(2722),ae=D(7340);const Me=["trigger"],_e=["panel"];function fe(Fn,ht){if(1&Fn&&(E.TgZ(0,"span",8),E._uU(1),E.qZA()),2&Fn){const j=E.oxw();E.xp6(1),E.Oqu(j.placeholder)}}function Ge(Fn,ht){if(1&Fn&&(E.TgZ(0,"span",12),E._uU(1),E.qZA()),2&Fn){const j=E.oxw(2);E.xp6(1),E.Oqu(j.triggerValue)}}function Se(Fn,ht){1&Fn&&E.Hsn(0,0,["*ngSwitchCase","true"])}function Ke(Fn,ht){if(1&Fn&&(E.TgZ(0,"span",9),E.YNc(1,Ge,2,1,"span",10),E.YNc(2,Se,1,0,"ng-content",11),E.qZA()),2&Fn){const j=E.oxw();E.Q6J("ngSwitch",!!j.customTrigger),E.xp6(2),E.Q6J("ngSwitchCase",!0)}}function St(Fn,ht){if(1&Fn){const j=E.EpF();E.TgZ(0,"div",13)(1,"div",14,15),E.NdJ("@transformPanel.done",function(Ie){E.CHM(j);const We=E.oxw();return E.KtG(We._panelDoneAnimatingStream.next(Ie.toState))})("keydown",function(Ie){E.CHM(j);const We=E.oxw();return E.KtG(We._handleKeydown(Ie))}),E.Hsn(3,1),E.qZA()()}if(2&Fn){const j=E.oxw();E.Q6J("@transformPanelWrap",void 0),E.xp6(1),E.Gre("mat-select-panel ",j._getPanelTheme(),""),E.Udp("transform-origin",j._transformOrigin)("font-size",j._triggerFontSize,"px"),E.Q6J("ngClass",j.panelClass)("@transformPanel",j.multiple?"showing-multiple":"showing"),E.uIk("id",j.id+"-panel")("aria-multiselectable",j.multiple)("aria-label",j.ariaLabel||null)("aria-labelledby",j._getPanelAriaLabelledby())}}const yt=[[["mat-select-trigger"]],"*"],Qt=["mat-select-trigger","*"],Jt={transformPanelWrap:(0,ae.X$)("transformPanelWrap",[(0,ae.eR)("* => void",(0,ae.IO)("@transformPanel",[(0,ae.pV)()],{optional:!0}))]),transformPanel:(0,ae.X$)("transformPanel",[(0,ae.SB)("void",(0,ae.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,ae.SB)("showing",(0,ae.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,ae.SB)("showing-multiple",(0,ae.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,ae.eR)("void => *",(0,ae.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,ae.eR)("* => void",(0,ae.jt)("100ms 25ms linear",(0,ae.oB)({opacity:0})))])};let ne=0;const ve=new E.OlP("mat-select-scroll-strategy"),Lt=new E.OlP("MAT_SELECT_CONFIG"),zt={provide:ve,deps:[m.aV],useFactory:function Ct(Fn){return()=>Fn.scrollStrategies.reposition()}};class An{constructor(ht,j){this.source=ht,this.value=j}}const Pn=(0,M.Kr)((0,M.sb)((0,M.Id)((0,M.FD)(class{constructor(Fn,ht,j,Z,Ie){this._elementRef=Fn,this._defaultErrorStateMatcher=ht,this._parentForm=j,this._parentFormGroup=Z,this.ngControl=Ie,this.stateChanges=new Te.x}})))),Vn=new E.OlP("MatSelectTrigger");let ii=(()=>{class Fn extends Pn{constructor(j,Z,Ie,We,De,z,ee,qe,mt,Pt,yn,qn,un,Wn){super(De,We,ee,qe,Pt),this._viewportRuler=j,this._changeDetectorRef=Z,this._ngZone=Ie,this._dir=z,this._parentFormField=mt,this._liveAnnouncer=un,this._defaultOptions=Wn,this._panelOpen=!1,this._compareWith=(Tn,ui)=>Tn===ui,this._uid="mat-select-"+ne++,this._triggerAriaLabelledBy=null,this._destroy=new Te.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ne++,this._panelDoneAnimatingStream=new Te.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,ze.P)(()=>{const Tn=this.options;return Tn?Tn.changes.pipe((0,dt.O)(Tn),(0,Ye.w)(()=>(0,Re.T)(...Tn.map(ui=>ui.onSelectionChange)))):this._ngZone.onStable.pipe((0,Je.q)(1),(0,Ye.w)(()=>this.optionSelectionChanges))}),this.openedChange=new E.vpe,this._openedStream=this.openedChange.pipe((0,$e.h)(Tn=>Tn),(0,Ft.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,$e.h)(Tn=>!Tn),(0,Ft.U)(()=>{})),this.selectionChange=new E.vpe,this.valueChange=new E.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Wn?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Wn.typeaheadDebounceInterval),this._scrollStrategyFactory=qn,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(yn)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(j){this._placeholder=j,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ue.kI.required)??!1}set required(j){this._required=(0,pe.Ig)(j),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(j){this._multiple=(0,pe.Ig)(j)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(j){this._disableOptionCentering=(0,pe.Ig)(j)}get compareWith(){return this._compareWith}set compareWith(j){this._compareWith=j,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(j){this._assignValue(j)&&this._onChange(j)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(j){this._typeaheadDebounceInterval=(0,pe.su)(j)}get id(){return this._id}set id(j){this._id=j||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new X.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,rt.x)(),(0,Oe.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Oe.R)(this._destroy)).subscribe(j=>{j.added.forEach(Z=>Z.select()),j.removed.forEach(Z=>Z.deselect())}),this.options.changes.pipe((0,dt.O)(null),(0,Oe.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const j=this._getTriggerAriaLabelledby(),Z=this.ngControl;if(j!==this._triggerAriaLabelledBy){const Ie=this._elementRef.nativeElement;this._triggerAriaLabelledBy=j,j?Ie.setAttribute("aria-labelledby",j):Ie.removeAttribute("aria-labelledby")}Z&&(this._previousControl!==Z.control&&(void 0!==this._previousControl&&null!==Z.disabled&&Z.disabled!==this.disabled&&(this.disabled=Z.disabled),this._previousControl=Z.control),this.updateErrorState())}ngOnChanges(j){(j.disabled||j.userAriaDescribedBy)&&this.stateChanges.next(),j.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(j){this._assignValue(j)}registerOnChange(j){this._onChange=j}registerOnTouched(j){this._onTouched=j}setDisabledState(j){this.disabled=j,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const j=this._selectionModel.selected.map(Z=>Z.viewValue);return this._isRtl()&&j.reverse(),j.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(j){this.disabled||(this.panelOpen?this._handleOpenKeydown(j):this._handleClosedKeydown(j))}_handleClosedKeydown(j){const Z=j.keyCode,Ie=Z===se.JH||Z===se.LH||Z===se.oh||Z===se.SV,We=Z===se.K5||Z===se.L_,De=this._keyManager;if(!De.isTyping()&&We&&!(0,se.Vb)(j)||(this.multiple||j.altKey)&&Ie)j.preventDefault(),this.open();else if(!this.multiple){const z=this.selected;De.onKeydown(j);const ee=this.selected;ee&&z!==ee&&this._liveAnnouncer.announce(ee.viewValue,1e4)}}_handleOpenKeydown(j){const Z=this._keyManager,Ie=j.keyCode,We=Ie===se.JH||Ie===se.LH,De=Z.isTyping();if(We&&j.altKey)j.preventDefault(),this.close();else if(De||Ie!==se.K5&&Ie!==se.L_||!Z.activeItem||(0,se.Vb)(j))if(!De&&this._multiple&&Ie===se.A&&j.ctrlKey){j.preventDefault();const z=this.options.some(ee=>!ee.disabled&&!ee.selected);this.options.forEach(ee=>{ee.disabled||(z?ee.select():ee.deselect())})}else{const z=Z.activeItemIndex;Z.onKeydown(j),this._multiple&&We&&j.shiftKey&&Z.activeItem&&Z.activeItemIndex!==z&&Z.activeItem._selectViaInteraction()}else j.preventDefault(),Z.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Je.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(j){if(this._selectionModel.selected.forEach(Z=>Z.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&j)Array.isArray(j),j.forEach(Z=>this._selectOptionByValue(Z)),this._sortValues();else{const Z=this._selectOptionByValue(j);Z?this._keyManager.updateActiveItem(Z):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(j){const Z=this.options.find(Ie=>{if(this._selectionModel.isSelected(Ie))return!1;try{return null!=Ie.value&&this._compareWith(Ie.value,j)}catch{return!1}});return Z&&this._selectionModel.select(Z),Z}_assignValue(j){return!!(j!==this._value||this._multiple&&Array.isArray(j))&&(this.options&&this._setSelectionByValue(j),this._value=j,!0)}_initKeyManager(){this._keyManager=new Fe.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,Oe.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,Oe.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const j=(0,Re.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Oe.R)(j)).subscribe(Z=>{this._onSelect(Z.source,Z.isUserInput),Z.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Re.T)(...this.options.map(Z=>Z._stateChanges)).pipe((0,Oe.R)(j)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(j,Z){const Ie=this._selectionModel.isSelected(j);null!=j.value||this._multiple?(Ie!==j.selected&&(j.selected?this._selectionModel.select(j):this._selectionModel.deselect(j)),Z&&this._keyManager.setActiveItem(j),this.multiple&&(this._sortValues(),Z&&this.focus())):(j.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(j.value)),Ie!==this._selectionModel.isSelected(j)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const j=this.options.toArray();this._selectionModel.sort((Z,Ie)=>this.sortComparator?this.sortComparator(Z,Ie,j):j.indexOf(Z)-j.indexOf(Ie)),this.stateChanges.next()}}_propagateChanges(j){let Z=null;Z=this.multiple?this.selected.map(Ie=>Ie.value):this.selected?this.selected.value:j,this._value=Z,this.valueChange.emit(Z),this._onChange(Z),this.selectionChange.emit(this._getChangeEvent(Z)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(j){this._elementRef.nativeElement.focus(j)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const j=this._parentFormField?.getLabelId();return this.ariaLabelledby?(j?j+" ":"")+this.ariaLabelledby:j}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const j=this._parentFormField?.getLabelId();let Z=(j?j+" ":"")+this._valueId;return this.ariaLabelledby&&(Z+=" "+this.ariaLabelledby),Z}_panelDoneAnimating(j){this.openedChange.emit(j)}setDescribedByIds(j){j.length?this._elementRef.nativeElement.setAttribute("aria-describedby",j.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return Fn.\u0275fac=function(j){return new(j||Fn)(E.Y36(be.rL),E.Y36(E.sBO),E.Y36(E.R0b),E.Y36(M.rD),E.Y36(E.SBq),E.Y36(re.Is,8),E.Y36(ue.F,8),E.Y36(ue.sg,8),E.Y36(de.G_,8),E.Y36(ue.a5,10),E.$8M("tabindex"),E.Y36(ve),E.Y36(Fe.Kd),E.Y36(Lt,8))},Fn.\u0275dir=E.lG2({type:Fn,viewQuery:function(j,Z){if(1&j&&(E.Gf(Me,5),E.Gf(_e,5),E.Gf(m.pI,5)),2&j){let Ie;E.iGM(Ie=E.CRH())&&(Z.trigger=Ie.first),E.iGM(Ie=E.CRH())&&(Z.panel=Ie.first),E.iGM(Ie=E.CRH())&&(Z._overlayDir=Ie.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[E.qOj,E.TTD]}),Fn})(),ci=(()=>{class Fn extends ii{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(j,Z,Ie){const We=this._getItemHeight();return Math.min(Math.max(0,We*j-Z+We/2),Ie)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Oe.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Je.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(j){const Z=(0,M.CB)(j,this.options,this.optionGroups),Ie=this._getItemHeight();this.panel.nativeElement.scrollTop=0===j&&1===Z?0:(0,M.jH)((j+Z)*Ie,Ie,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(j){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(j)}_getChangeEvent(j){return new An(this,j)}_calculateOverlayOffsetX(){const j=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),Z=this._viewportRuler.getViewportSize(),Ie=this._isRtl(),We=this.multiple?56:32;let De;if(this.multiple)De=40;else if(this.disableOptionCentering)De=16;else{let qe=this._selectionModel.selected[0]||this.options.first;De=qe&&qe.group?32:16}Ie||(De*=-1);const z=0-(j.left+De-(Ie?We:0)),ee=j.right+De-Z.width+(Ie?0:We);z>0?De+=z+8:ee>0&&(De-=ee+8),this._overlayDir.offsetX=Math.round(De),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(j,Z,Ie){const We=this._getItemHeight(),De=(We-this._triggerRect.height)/2,z=Math.floor(256/We);let ee;return this.disableOptionCentering?0:(ee=0===this._scrollTop?j*We:this._scrollTop===Ie?(j-(this._getItemCount()-z))*We+(We-(this._getItemCount()*We-256)%We):Z-We/2,Math.round(-1*ee-De))}_checkOverlayWithinViewport(j){const Z=this._getItemHeight(),Ie=this._viewportRuler.getViewportSize(),We=this._triggerRect.top-8,De=Ie.height-this._triggerRect.bottom-8,z=Math.abs(this._offsetY),qe=Math.min(this._getItemCount()*Z,256)-z-this._triggerRect.height;qe>De?this._adjustPanelUp(qe,De):z>We?this._adjustPanelDown(z,We,j):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(j,Z){const Ie=Math.round(j-Z);this._scrollTop-=Ie,this._offsetY-=Ie,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(j,Z,Ie){const We=Math.round(j-Z);if(this._scrollTop+=We,this._offsetY+=We,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=Ie)return this._scrollTop=Ie,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const j=this._getItemHeight(),Z=this._getItemCount(),Ie=Math.min(Z*j,256),De=Z*j-Ie;let z;z=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),z+=(0,M.CB)(z,this.options,this.optionGroups);const ee=Ie/2;this._scrollTop=this._calculateOverlayScroll(z,ee,De),this._offsetY=this._calculateOverlayOffsetY(z,ee,De),this._checkOverlayWithinViewport(De)}_getOriginBasedOnOption(){const j=this._getItemHeight(),Z=(j-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-Z+j/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return Fn.\u0275fac=function(){let ht;return function(Z){return(ht||(ht=E.n5z(Fn)))(Z||Fn)}}(),Fn.\u0275cmp=E.Xpm({type:Fn,selectors:[["mat-select"]],contentQueries:function(j,Z,Ie){if(1&j&&(E.Suo(Ie,Vn,5),E.Suo(Ie,M.ey,5),E.Suo(Ie,M.K7,5)),2&j){let We;E.iGM(We=E.CRH())&&(Z.customTrigger=We.first),E.iGM(We=E.CRH())&&(Z.options=We),E.iGM(We=E.CRH())&&(Z.optionGroups=We)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(j,Z){1&j&&E.NdJ("keydown",function(We){return Z._handleKeydown(We)})("focus",function(){return Z._onFocus()})("blur",function(){return Z._onBlur()}),2&j&&(E.uIk("id",Z.id)("tabindex",Z.tabIndex)("aria-controls",Z.panelOpen?Z.id+"-panel":null)("aria-expanded",Z.panelOpen)("aria-label",Z.ariaLabel||null)("aria-required",Z.required.toString())("aria-disabled",Z.disabled.toString())("aria-invalid",Z.errorState)("aria-activedescendant",Z._getAriaActiveDescendant()),E.ekj("mat-select-disabled",Z.disabled)("mat-select-invalid",Z.errorState)("mat-select-required",Z.required)("mat-select-empty",Z.empty)("mat-select-multiple",Z.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[E._Bn([{provide:de.Eo,useExisting:Fn},{provide:M.HF,useExisting:Fn}]),E.qOj],ngContentSelectors:Qt,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(j,Z){if(1&j&&(E.F$t(yt),E.TgZ(0,"div",0,1),E.NdJ("click",function(){return Z.toggle()}),E.TgZ(3,"div",2),E.YNc(4,fe,2,1,"span",3),E.YNc(5,Ke,3,2,"span",4),E.qZA(),E.TgZ(6,"div",5),E._UZ(7,"div",6),E.qZA()(),E.YNc(8,St,4,14,"ng-template",7),E.NdJ("backdropClick",function(){return Z.close()})("attach",function(){return Z._onAttached()})("detach",function(){return Z.close()})),2&j){const Ie=E.MAs(1);E.uIk("aria-owns",Z.panelOpen?Z.id+"-panel":null),E.xp6(3),E.Q6J("ngSwitch",Z.empty),E.uIk("id",Z._valueId),E.xp6(1),E.Q6J("ngSwitchCase",!0),E.xp6(1),E.Q6J("ngSwitchCase",!1),E.xp6(3),E.Q6J("cdkConnectedOverlayPanelClass",Z._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Z._scrollStrategy)("cdkConnectedOverlayOrigin",Ie)("cdkConnectedOverlayOpen",Z.panelOpen)("cdkConnectedOverlayPositions",Z._positions)("cdkConnectedOverlayMinWidth",null==Z._triggerRect?null:Z._triggerRect.width)("cdkConnectedOverlayOffsetY",Z._offsetY)}},dependencies:[b.mk,b.RF,b.n9,b.ED,m.pI,m.xu],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Jt.transformPanelWrap,Jt.transformPanel]},changeDetection:0}),Fn})(),Cn=(()=>{class Fn{}return Fn.\u0275fac=function(j){return new(j||Fn)},Fn.\u0275mod=E.oAB({type:Fn}),Fn.\u0275inj=E.cJS({providers:[zt],imports:[b.ez,m.U8,M.Ng,M.BQ,be.ZD,de.lN,M.Ng,M.BQ]}),Fn})()},266:(hn,ft,D)=>{D.d(ft,{AV:()=>Jt,gM:()=>St});var m=D(8184),b=D(2687),E=D(6895),M=D(4650),de=D(3238),be=D(4098),Fe=D(445),re=D(1281),pe=D(9521),X=D(2289),se=D(3353),ue=D(4080),Te=D(7579),ze=D(2722),Re=D(5698);D(7340);const Ye=["tooltip"],Ft="tooltip-panel",rt=(0,se.i$)({passive:!0}),Me=new M.OlP("mat-tooltip-scroll-strategy"),fe={provide:Me,deps:[m.aV],useFactory:function _e(xt){return()=>xt.scrollStrategies.reposition({scrollThrottle:20})}},Ge=new M.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Se(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Ke=(()=>{class xt{constructor(ne,at,it,Bt,Ce,st,xe,ve,Ct,Lt,zt,An){this._overlay=ne,this._elementRef=at,this._scrollDispatcher=it,this._viewContainerRef=Bt,this._ngZone=Ce,this._platform=st,this._ariaDescriber=xe,this._focusMonitor=ve,this._dir=Lt,this._defaultOptions=zt,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Te.x,this._scrollStrategy=Ct,this._document=An,zt&&(zt.position&&(this.position=zt.position),zt.touchGestures&&(this.touchGestures=zt.touchGestures)),Lt.change.pipe((0,ze.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(ne){ne!==this._position&&(this._position=ne,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(ne){this._disabled=(0,re.Ig)(ne),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(ne){this._showDelay=(0,re.su)(ne)}get hideDelay(){return this._hideDelay}set hideDelay(ne){this._hideDelay=(0,re.su)(ne),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(ne){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=ne?String(ne).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(ne){this._tooltipClass=ne,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,ze.R)(this._destroyed)).subscribe(ne=>{ne?"keyboard"===ne&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const ne=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([at,it])=>{ne.removeEventListener(at,it,rt)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(ne,this.message,"tooltip"),this._focusMonitor.stopMonitoring(ne)}show(ne=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const at=this._createOverlay();this._detach(),this._portal=this._portal||new ue.C5(this._tooltipComponent,this._viewContainerRef);const it=this._tooltipInstance=at.attach(this._portal).instance;it._triggerElement=this._elementRef.nativeElement,it._mouseLeaveHideDelay=this._hideDelay,it.afterHidden().pipe((0,ze.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),it.show(ne)}hide(ne=this.hideDelay){const at=this._tooltipInstance;at&&(at.isVisible()?at.hide(ne):(at._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const ne=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),at=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ne);return at.positionChanges.pipe((0,ze.R)(this._destroyed)).subscribe(it=>{this._updateCurrentPositionClass(it.connectionPair),this._tooltipInstance&&it.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:at,panelClass:`${this._cssClassPrefix}-${Ft}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,ze.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,ze.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,ze.R)(this._destroyed)).subscribe(it=>{this._isTooltipVisible()&&it.keyCode===pe.hY&&!(0,pe.Vb)(it)&&(it.preventDefault(),it.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(ne){const at=ne.getConfig().positionStrategy,it=this._getOrigin(),Bt=this._getOverlayPosition();at.withPositions([this._addOffset({...it.main,...Bt.main}),this._addOffset({...it.fallback,...Bt.fallback})])}_addOffset(ne){return ne}_getOrigin(){const ne=!this._dir||"ltr"==this._dir.value,at=this.position;let it;"above"==at||"below"==at?it={originX:"center",originY:"above"==at?"top":"bottom"}:"before"==at||"left"==at&&ne||"right"==at&&!ne?it={originX:"start",originY:"center"}:("after"==at||"right"==at&&ne||"left"==at&&!ne)&&(it={originX:"end",originY:"center"});const{x:Bt,y:Ce}=this._invertPosition(it.originX,it.originY);return{main:it,fallback:{originX:Bt,originY:Ce}}}_getOverlayPosition(){const ne=!this._dir||"ltr"==this._dir.value,at=this.position;let it;"above"==at?it={overlayX:"center",overlayY:"bottom"}:"below"==at?it={overlayX:"center",overlayY:"top"}:"before"==at||"left"==at&&ne||"right"==at&&!ne?it={overlayX:"end",overlayY:"center"}:("after"==at||"right"==at&&ne||"left"==at&&!ne)&&(it={overlayX:"start",overlayY:"center"});const{x:Bt,y:Ce}=this._invertPosition(it.overlayX,it.overlayY);return{main:it,fallback:{overlayX:Bt,overlayY:Ce}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Re.q)(1),(0,ze.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(ne){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=ne,this._tooltipInstance._markForCheck())}_invertPosition(ne,at){return"above"===this.position||"below"===this.position?"top"===at?at="bottom":"bottom"===at&&(at="top"):"end"===ne?ne="start":"start"===ne&&(ne="end"),{x:ne,y:at}}_updateCurrentPositionClass(ne){const{overlayY:at,originX:it,originY:Bt}=ne;let Ce;if(Ce="center"===at?this._dir&&"rtl"===this._dir.value?"end"===it?"left":"right":"start"===it?"left":"right":"bottom"===at&&"top"===Bt?"above":"below",Ce!==this._currentPosition){const st=this._overlayRef;if(st){const xe=`${this._cssClassPrefix}-${Ft}-`;st.removePanelClass(xe+this._currentPosition),st.addPanelClass(xe+Ce)}this._currentPosition=Ce}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const ne=[];if(this._platformSupportsMouseEvents())ne.push(["mouseleave",at=>{const it=at.relatedTarget;(!it||!this._overlayRef?.overlayElement.contains(it))&&this.hide()}],["wheel",at=>this._wheelListener(at)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const at=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};ne.push(["touchend",at],["touchcancel",at])}this._addListeners(ne),this._passiveListeners.push(...ne)}_addListeners(ne){ne.forEach(([at,it])=>{this._elementRef.nativeElement.addEventListener(at,it,rt)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(ne){if(this._isTooltipVisible()){const at=this._document.elementFromPoint(ne.clientX,ne.clientY),it=this._elementRef.nativeElement;at!==it&&!it.contains(at)&&this.hide()}}_disableNativeGesturesIfNecessary(){const ne=this.touchGestures;if("off"!==ne){const at=this._elementRef.nativeElement,it=at.style;("on"===ne||"INPUT"!==at.nodeName&&"TEXTAREA"!==at.nodeName)&&(it.userSelect=it.msUserSelect=it.webkitUserSelect=it.MozUserSelect="none"),("on"===ne||!at.draggable)&&(it.webkitUserDrag="none"),it.touchAction="none",it.webkitTapHighlightColor="transparent"}}}return xt.\u0275fac=function(ne){M.$Z()},xt.\u0275dir=M.lG2({type:xt,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),xt})(),St=(()=>{class xt extends Ke{constructor(ne,at,it,Bt,Ce,st,xe,ve,Ct,Lt,zt,An){super(ne,at,it,Bt,Ce,st,xe,ve,Ct,Lt,zt,An),this._tooltipComponent=Qt}}return xt.\u0275fac=function(ne){return new(ne||xt)(M.Y36(m.aV),M.Y36(M.SBq),M.Y36(be.mF),M.Y36(M.s_b),M.Y36(M.R0b),M.Y36(se.t4),M.Y36(b.$s),M.Y36(b.tE),M.Y36(Me),M.Y36(Fe.Is,8),M.Y36(Ge,8),M.Y36(E.K0))},xt.\u0275dir=M.lG2({type:xt,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[M.qOj]}),xt})(),yt=(()=>{class xt{constructor(ne,at){this._changeDetectorRef=ne,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Te.x,this._animationsDisabled="NoopAnimations"===at}show(ne){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},ne)}hide(ne){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},ne)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:ne}){(!ne||!this._triggerElement.contains(ne))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:ne}){(ne===this._showAnimation||ne===this._hideAnimation)&&this._finalizeAnimation(ne===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(ne){ne?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(ne){const at=this._tooltip.nativeElement,it=this._showAnimation,Bt=this._hideAnimation;if(at.classList.remove(ne?Bt:it),at.classList.add(ne?it:Bt),this._isVisible=ne,ne&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ce=getComputedStyle(at);("0s"===Ce.getPropertyValue("animation-duration")||"none"===Ce.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}ne&&this._onShow(),this._animationsDisabled&&(at.classList.add("_mat-animation-noopable"),this._finalizeAnimation(ne))}}return xt.\u0275fac=function(ne){return new(ne||xt)(M.Y36(M.sBO),M.Y36(M.QbO,8))},xt.\u0275dir=M.lG2({type:xt}),xt})(),Qt=(()=>{class xt extends yt{constructor(ne,at,it){super(ne,it),this._breakpointObserver=at,this._isHandset=this._breakpointObserver.observe(X.u3.Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return xt.\u0275fac=function(ne){return new(ne||xt)(M.Y36(M.sBO),M.Y36(X.Yg),M.Y36(M.QbO,8))},xt.\u0275cmp=M.Xpm({type:xt,selectors:[["mat-tooltip-component"]],viewQuery:function(ne,at){if(1&ne&&M.Gf(Ye,7),2&ne){let it;M.iGM(it=M.CRH())&&(at._tooltip=it.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(ne,at){1&ne&&M.NdJ("mouseleave",function(Bt){return at._handleMouseLeave(Bt)}),2&ne&&M.Udp("zoom",at.isVisible()?1:null)},features:[M.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(ne,at){if(1&ne&&(M.TgZ(0,"div",0,1),M.NdJ("animationend",function(Bt){return at._handleAnimationEnd(Bt)}),M.ALo(2,"async"),M._uU(3),M.qZA()),2&ne){let it;M.ekj("mat-tooltip-handset",null==(it=M.lcZ(2,4,at._isHandset))?null:it.matches),M.Q6J("ngClass",at.tooltipClass),M.xp6(3),M.Oqu(at.message)}},dependencies:[E.mk,E.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),xt})(),Jt=(()=>{class xt{}return xt.\u0275fac=function(ne){return new(ne||xt)},xt.\u0275mod=M.oAB({type:xt}),xt.\u0275inj=M.cJS({providers:[fe],imports:[b.rt,E.ez,m.U8,de.BQ,de.BQ,be.ZD]}),xt})()},1481:(hn,ft,D)=>{D.d(ft,{Dx:()=>De,H7:()=>kt,b2:()=>ht,q6:()=>ii,se:()=>yt});var m=D(6895),b=D(4650);class E extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class M extends E{static makeCurrent(){(0,m.HT)(new M)}onAndCancel(Be,Ne,At){return Be.addEventListener(Ne,At,!1),()=>{Be.removeEventListener(Ne,At,!1)}}dispatchEvent(Be,Ne){Be.dispatchEvent(Ne)}remove(Be){Be.parentNode&&Be.parentNode.removeChild(Be)}createElement(Be,Ne){return(Ne=Ne||this.getDefaultDocument()).createElement(Be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Be){return Be.nodeType===Node.ELEMENT_NODE}isShadowRoot(Be){return Be instanceof DocumentFragment}getGlobalEventTarget(Be,Ne){return"window"===Ne?window:"document"===Ne?Be:"body"===Ne?Be.body:null}getBaseHref(Be){const Ne=function be(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==Ne?null:function re(Ze){Fe=Fe||document.createElement("a"),Fe.setAttribute("href",Ze);const Be=Fe.pathname;return"/"===Be.charAt(0)?Be:`/${Be}`}(Ne)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(Be){return(0,m.Mx)(document.cookie,Be)}}let Fe,de=null;const pe=new b.OlP("TRANSITION_ID"),se=[{provide:b.ip1,useFactory:function X(Ze,Be,Ne){return()=>{Ne.get(b.CZH).donePromise.then(()=>{const At=(0,m.q)(),Ut=Be.querySelectorAll(`style[ng-transition="${Ze}"]`);for(let In=0;In<Ut.length;In++)At.remove(Ut[In])})}},deps:[pe,m.K0,b.zs3],multi:!0}];let Te=(()=>{class Ze{build(){return new XMLHttpRequest}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)},Ze.\u0275prov=b.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const ze=new b.OlP("EventManagerPlugins");let Re=(()=>{class Ze{constructor(Ne,At){this._zone=At,this._eventNameToPlugin=new Map,Ne.forEach(Ut=>Ut.manager=this),this._plugins=Ne.slice().reverse()}addEventListener(Ne,At,Ut){return this._findPluginFor(At).addEventListener(Ne,At,Ut)}addGlobalEventListener(Ne,At,Ut){return this._findPluginFor(At).addGlobalEventListener(Ne,At,Ut)}getZone(){return this._zone}_findPluginFor(Ne){const At=this._eventNameToPlugin.get(Ne);if(At)return At;const Ut=this._plugins;for(let In=0;In<Ut.length;In++){const li=Ut[In];if(li.supports(Ne))return this._eventNameToPlugin.set(Ne,li),li}throw new Error(`No event manager plugin found for event ${Ne}`)}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)(b.LFG(ze),b.LFG(b.R0b))},Ze.\u0275prov=b.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class dt{constructor(Be){this._doc=Be}addGlobalEventListener(Be,Ne,At){const Ut=(0,m.q)().getGlobalEventTarget(this._doc,Be);if(!Ut)throw new Error(`Unsupported event target ${Ut} for event ${Ne}`);return this.addEventListener(Ut,Ne,At)}}let Ye=(()=>{class Ze{constructor(){this._stylesSet=new Set}addStyles(Ne){const At=new Set;Ne.forEach(Ut=>{this._stylesSet.has(Ut)||(this._stylesSet.add(Ut),At.add(Ut))}),this.onStylesAdded(At)}onStylesAdded(Ne){}getAllStyles(){return Array.from(this._stylesSet)}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)},Ze.\u0275prov=b.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),Je=(()=>{class Ze extends Ye{constructor(Ne){super(),this._doc=Ne,this._hostNodes=new Map,this._hostNodes.set(Ne.head,[])}_addStylesToHost(Ne,At,Ut){Ne.forEach(In=>{const li=this._doc.createElement("style");li.textContent=In,Ut.push(At.appendChild(li))})}addHost(Ne){const At=[];this._addStylesToHost(this._stylesSet,Ne,At),this._hostNodes.set(Ne,At)}removeHost(Ne){const At=this._hostNodes.get(Ne);At&&At.forEach($e),this._hostNodes.delete(Ne)}onStylesAdded(Ne){this._hostNodes.forEach((At,Ut)=>{this._addStylesToHost(Ne,Ut,At)})}ngOnDestroy(){this._hostNodes.forEach(Ne=>Ne.forEach($e))}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)(b.LFG(m.K0))},Ze.\u0275prov=b.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();function $e(Ze){(0,m.q)().remove(Ze)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g;function Se(Ze,Be,Ne){for(let At=0;At<Be.length;At++){let Ut=Be[At];Array.isArray(Ut)?Se(Ze,Ut,Ne):(Ut=Ut.replace(rt,Ze),Ne.push(Ut))}return Ne}function Ke(Ze){return Be=>{if("__ngUnwrap__"===Be)return Ze;!1===Ze(Be)&&(Be.preventDefault(),Be.returnValue=!1)}}let yt=(()=>{class Ze{constructor(Ne,At,Ut){this.eventManager=Ne,this.sharedStylesHost=At,this.appId=Ut,this.rendererByCompId=new Map,this.defaultRenderer=new Qt(Ne)}createRenderer(Ne,At){if(!Ne||!At)return this.defaultRenderer;switch(At.encapsulation){case b.ifc.Emulated:{let Ut=this.rendererByCompId.get(At.id);return Ut||(Ut=new an(this.eventManager,this.sharedStylesHost,At,this.appId),this.rendererByCompId.set(At.id,Ut)),Ut.applyToHost(Ne),Ut}case 1:case b.ifc.ShadowDom:return new ne(this.eventManager,this.sharedStylesHost,Ne,At);default:if(!this.rendererByCompId.has(At.id)){const Ut=Se(At.id,At.styles,[]);this.sharedStylesHost.addStyles(Ut),this.rendererByCompId.set(At.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)(b.LFG(Re),b.LFG(Je),b.LFG(b.AFp))},Ze.\u0275prov=b.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class Qt{constructor(Be){this.eventManager=Be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Be,Ne){return Ne?document.createElementNS(Ft[Ne]||Ne,Be):document.createElement(Be)}createComment(Be){return document.createComment(Be)}createText(Be){return document.createTextNode(Be)}appendChild(Be,Ne){(xt(Be)?Be.content:Be).appendChild(Ne)}insertBefore(Be,Ne,At){Be&&(xt(Be)?Be.content:Be).insertBefore(Ne,At)}removeChild(Be,Ne){Be&&Be.removeChild(Ne)}selectRootElement(Be,Ne){let At="string"==typeof Be?document.querySelector(Be):Be;if(!At)throw new Error(`The selector "${Be}" did not match any elements`);return Ne||(At.textContent=""),At}parentNode(Be){return Be.parentNode}nextSibling(Be){return Be.nextSibling}setAttribute(Be,Ne,At,Ut){if(Ut){Ne=Ut+":"+Ne;const In=Ft[Ut];In?Be.setAttributeNS(In,Ne,At):Be.setAttribute(Ne,At)}else Be.setAttribute(Ne,At)}removeAttribute(Be,Ne,At){if(At){const Ut=Ft[At];Ut?Be.removeAttributeNS(Ut,Ne):Be.removeAttribute(`${At}:${Ne}`)}else Be.removeAttribute(Ne)}addClass(Be,Ne){Be.classList.add(Ne)}removeClass(Be,Ne){Be.classList.remove(Ne)}setStyle(Be,Ne,At,Ut){Ut&(b.JOm.DashCase|b.JOm.Important)?Be.style.setProperty(Ne,At,Ut&b.JOm.Important?"important":""):Be.style[Ne]=At}removeStyle(Be,Ne,At){At&b.JOm.DashCase?Be.style.removeProperty(Ne):Be.style[Ne]=""}setProperty(Be,Ne,At){Be[Ne]=At}setValue(Be,Ne){Be.nodeValue=Ne}listen(Be,Ne,At){return"string"==typeof Be?this.eventManager.addGlobalEventListener(Be,Ne,Ke(At)):this.eventManager.addEventListener(Be,Ne,Ke(At))}}function xt(Ze){return"TEMPLATE"===Ze.tagName&&void 0!==Ze.content}class an extends Qt{constructor(Be,Ne,At,Ut){super(Be),this.component=At;const In=Se(Ut+"-"+At.id,At.styles,[]);Ne.addStyles(In),this.contentAttr=function fe(Ze){return"_ngcontent-%COMP%".replace(rt,Ze)}(Ut+"-"+At.id),this.hostAttr=function Ge(Ze){return"_nghost-%COMP%".replace(rt,Ze)}(Ut+"-"+At.id)}applyToHost(Be){super.setAttribute(Be,this.hostAttr,"")}createElement(Be,Ne){const At=super.createElement(Be,Ne);return super.setAttribute(At,this.contentAttr,""),At}}class ne extends Qt{constructor(Be,Ne,At,Ut){super(Be),this.sharedStylesHost=Ne,this.hostEl=At,this.shadowRoot=At.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const In=Se(Ut.id,Ut.styles,[]);for(let li=0;li<In.length;li++){const pi=document.createElement("style");pi.textContent=In[li],this.shadowRoot.appendChild(pi)}}nodeOrShadowRoot(Be){return Be===this.hostEl?this.shadowRoot:Be}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Be,Ne){return super.appendChild(this.nodeOrShadowRoot(Be),Ne)}insertBefore(Be,Ne,At){return super.insertBefore(this.nodeOrShadowRoot(Be),Ne,At)}removeChild(Be,Ne){return super.removeChild(this.nodeOrShadowRoot(Be),Ne)}parentNode(Be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Be)))}}let at=(()=>{class Ze extends dt{constructor(Ne){super(Ne)}supports(Ne){return!0}addEventListener(Ne,At,Ut){return Ne.addEventListener(At,Ut,!1),()=>this.removeEventListener(Ne,At,Ut)}removeEventListener(Ne,At,Ut){return Ne.removeEventListener(At,Ut)}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)(b.LFG(m.K0))},Ze.\u0275prov=b.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const it=["alt","control","meta","shift"],Bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ce={alt:Ze=>Ze.altKey,control:Ze=>Ze.ctrlKey,meta:Ze=>Ze.metaKey,shift:Ze=>Ze.shiftKey};let st=(()=>{class Ze extends dt{constructor(Ne){super(Ne)}supports(Ne){return null!=Ze.parseEventName(Ne)}addEventListener(Ne,At,Ut){const In=Ze.parseEventName(At),li=Ze.eventCallback(In.fullKey,Ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(Ne,In.domEventName,li))}static parseEventName(Ne){const At=Ne.toLowerCase().split("."),Ut=At.shift();if(0===At.length||"keydown"!==Ut&&"keyup"!==Ut)return null;const In=Ze._normalizeKey(At.pop());let li="",pi=At.indexOf("code");if(pi>-1&&(At.splice(pi,1),li="code."),it.forEach(Hr=>{const Zn=At.indexOf(Hr);Zn>-1&&(At.splice(Zn,1),li+=Hr+".")}),li+=In,0!=At.length||0===In.length)return null;const Ri={};return Ri.domEventName=Ut,Ri.fullKey=li,Ri}static matchEventFullKeyCode(Ne,At){let Ut=Bt[Ne.key]||Ne.key,In="";return At.indexOf("code.")>-1&&(Ut=Ne.code,In="code."),!(null==Ut||!Ut)&&(Ut=Ut.toLowerCase()," "===Ut?Ut="space":"."===Ut&&(Ut="dot"),it.forEach(li=>{li!==Ut&&(0,Ce[li])(Ne)&&(In+=li+".")}),In+=Ut,In===At)}static eventCallback(Ne,At,Ut){return In=>{Ze.matchEventFullKeyCode(In,Ne)&&Ut.runGuarded(()=>At(In))}}static _normalizeKey(Ne){return"esc"===Ne?"escape":Ne}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)(b.LFG(m.K0))},Ze.\u0275prov=b.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const ii=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:m.bD},{provide:b.g9A,useValue:function An(){M.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function Vn(){return(0,b.RDi)(document),document},deps:[]}]),ci=new b.OlP(""),Cn=[{provide:b.rWj,useClass:class ue{addToWindow(Be){b.dqk.getAngularTestability=(At,Ut=!0)=>{const In=Be.findTestabilityInTree(At,Ut);if(null==In)throw new Error("Could not find testability for element.");return In},b.dqk.getAllAngularTestabilities=()=>Be.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>Be.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(At=>{const Ut=b.dqk.getAllAngularTestabilities();let In=Ut.length,li=!1;const pi=function(Ri){li=li||Ri,In--,0==In&&At(li)};Ut.forEach(function(Ri){Ri.whenStable(pi)})})}findTestabilityInTree(Be,Ne,At){return null==Ne?null:Be.getTestability(Ne)??(At?(0,m.q)().isShadowRoot(Ne)?this.findTestabilityInTree(Be,Ne.host,!0):this.findTestabilityInTree(Be,Ne.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],Fn=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function Pn(){return new b.qLn},deps:[]},{provide:ze,useClass:at,multi:!0,deps:[m.K0,b.R0b,b.Lbi]},{provide:ze,useClass:st,multi:!0,deps:[m.K0]},{provide:yt,useClass:yt,deps:[Re,Je,b.AFp]},{provide:b.FYo,useExisting:yt},{provide:Ye,useExisting:Je},{provide:Je,useClass:Je,deps:[m.K0]},{provide:Re,useClass:Re,deps:[ze,b.R0b]},{provide:m.JF,useClass:Te,deps:[]},[]];let ht=(()=>{class Ze{constructor(Ne){}static withServerTransition(Ne){return{ngModule:Ze,providers:[{provide:b.AFp,useValue:Ne.appId},{provide:pe,useExisting:b.AFp},se]}}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)(b.LFG(ci,12))},Ze.\u0275mod=b.oAB({type:Ze}),Ze.\u0275inj=b.cJS({providers:[...Fn,...Cn],imports:[m.ez,b.hGG]}),Ze})(),De=(()=>{class Ze{constructor(Ne){this._doc=Ne}getTitle(){return this._doc.title}setTitle(Ne){this._doc.title=Ne||""}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)(b.LFG(m.K0))},Ze.\u0275prov=b.Yz7({token:Ze,factory:function(Ne){let At=null;return At=Ne?new Ne:function We(){return new De((0,b.LFG)(m.K0))}(),At},providedIn:"root"}),Ze})();typeof window<"u"&&window;let kt=(()=>{class Ze{}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)},Ze.\u0275prov=b.Yz7({token:Ze,factory:function(Ne){let At=null;return At=Ne?new(Ne||Ze):b.LFG(zn),At},providedIn:"root"}),Ze})(),zn=(()=>{class Ze extends kt{constructor(Ne){super(),this._doc=Ne}sanitize(Ne,At){if(null==At)return null;switch(Ne){case b.q3G.NONE:return At;case b.q3G.HTML:return(0,b.qzn)(At,"HTML")?(0,b.z3N)(At):(0,b.EiD)(this._doc,String(At)).toString();case b.q3G.STYLE:return(0,b.qzn)(At,"Style")?(0,b.z3N)(At):At;case b.q3G.SCRIPT:if((0,b.qzn)(At,"Script"))return(0,b.z3N)(At);throw new Error("unsafe value used in a script context");case b.q3G.URL:return(0,b.qzn)(At,"URL")?(0,b.z3N)(At):(0,b.mCW)(String(At));case b.q3G.RESOURCE_URL:if((0,b.qzn)(At,"ResourceURL"))return(0,b.z3N)(At);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ne} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ne){return(0,b.JVY)(Ne)}bypassSecurityTrustStyle(Ne){return(0,b.L6k)(Ne)}bypassSecurityTrustScript(Ne){return(0,b.eBb)(Ne)}bypassSecurityTrustUrl(Ne){return(0,b.LAX)(Ne)}bypassSecurityTrustResourceUrl(Ne){return(0,b.pB0)(Ne)}}return Ze.\u0275fac=function(Ne){return new(Ne||Ze)(b.LFG(m.K0))},Ze.\u0275prov=b.Yz7({token:Ze,factory:function(Ne){let At=null;return At=Ne?new Ne:function pn(Ze){return new zn(Ze.get(m.K0))}(b.LFG(b.zs3)),At},providedIn:"root"}),Ze})()},6806:(hn,ft,D)=>{D.d(ft,{gz:()=>Wr,m2:()=>ki,F0:()=>ks,rH:()=>Lo,yS:()=>nc,Bz:()=>Li,lC:()=>G});var m=D(4650),b=D(8996),E=D(9646),M=D(1135),de=D(6805),be=D(9841),Fe=D(7272),re=D(9770),pe=D(9635),X=D(2843),se=D(9751),ue=D(515),Te=D(727),ze=D(4482),Re=D(5403);function dt(){return(0,ze.e)((A,x)=>{let S=null;A._refCount++;const B=(0,Re.x)(x,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(S=null);const W=A._connection,he=S;S=null,W&&(!he||W===he)&&W.unsubscribe(),x.unsubscribe()});A.subscribe(B),B.closed||(S=A.connect())})}class Ye extends se.y{constructor(x,S){super(),this.source=x,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,ze.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Te.w0;const S=this.getSubject();x.add(this.source.subscribe((0,Re.x)(S,void 0,()=>{this._teardown(),S.complete()},B=>{this._teardown(),S.error(B)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Te.w0.EMPTY)}return x}refCount(){return dt()(this)}}var Je=D(7579),$e=D(6895),Ft=D(4004),rt=D(3900),Oe=D(5698),ae=D(8675),Me=D(9300),_e=D(5577),fe=D(3803),Ge=D(4351),Se=D(8505),Ke=D(262),St=D(5026);function yt(A){return A<=0?()=>ue.E:(0,ze.e)((x,S)=>{let B=[];x.subscribe((0,Re.x)(S,W=>{B.push(W),A<B.length&&B.shift()},()=>{for(const W of B)S.next(W);S.complete()},void 0,()=>{B=null}))})}var Qt=D(8068),Jt=D(6590),Sn=D(4671);function xt(A,x){const S=arguments.length>=2;return B=>B.pipe(A?(0,Me.h)((W,he)=>A(W,he,B)):Sn.y,yt(1),S?(0,Jt.d)(x):(0,Qt.T)(()=>new de.K))}var an=D(2529),ne=D(9718),at=D(8746),it=D(8189),Bt=D(1481);const Ce="primary",st=Symbol("RouteTitle");class xe{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const S=this.params[x];return Array.isArray(S)?S[0]:S}return null}getAll(x){if(this.has(x)){const S=this.params[x];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function ve(A){return new xe(A)}function Ct(A,x,S){const B=S.path.split("/");if(B.length>A.length||"full"===S.pathMatch&&(x.hasChildren()||B.length<A.length))return null;const W={};for(let he=0;he<B.length;he++){const ut=B[he],et=A[he];if(ut.startsWith(":"))W[ut.substring(1)]=et;else if(ut!==et.path)return null}return{consumed:A.slice(0,B.length),posParams:W}}function zt(A,x){const S=A?Object.keys(A):void 0,B=x?Object.keys(x):void 0;if(!S||!B||S.length!=B.length)return!1;let W;for(let he=0;he<S.length;he++)if(W=S[he],!An(A[W],x[W]))return!1;return!0}function An(A,x){if(Array.isArray(A)&&Array.isArray(x)){if(A.length!==x.length)return!1;const S=[...A].sort(),B=[...x].sort();return S.every((W,he)=>B[he]===W)}return A===x}function Pn(A){return Array.prototype.concat.apply([],A)}function Vn(A){return A.length>0?A[A.length-1]:null}function ii(A,x){for(const S in A)A.hasOwnProperty(S)&&x(A[S],S)}function ci(A){return(0,m.CqO)(A)?A:(0,m.QGY)(A)?(0,b.D)(Promise.resolve(A)):(0,E.of)(A)}const ht={exact:function We(A,x,S){if(!un(A.segments,x.segments)||!qe(A.segments,x.segments,S)||A.numberOfChildren!==x.numberOfChildren)return!1;for(const B in x.children)if(!A.children[B]||!We(A.children[B],x.children[B],S))return!1;return!0},subset:z},j={exact:function Ie(A,x){return zt(A,x)},subset:function De(A,x){return Object.keys(x).length<=Object.keys(A).length&&Object.keys(x).every(S=>An(A[S],x[S]))},ignored:()=>!0};function Z(A,x,S){return ht[S.paths](A.root,x.root,S.matrixParams)&&j[S.queryParams](A.queryParams,x.queryParams)&&!("exact"===S.fragment&&A.fragment!==x.fragment)}function z(A,x,S){return ee(A,x,x.segments,S)}function ee(A,x,S,B){if(A.segments.length>S.length){const W=A.segments.slice(0,S.length);return!(!un(W,S)||x.hasChildren()||!qe(W,S,B))}if(A.segments.length===S.length){if(!un(A.segments,S)||!qe(A.segments,S,B))return!1;for(const W in x.children)if(!A.children[W]||!z(A.children[W],x.children[W],B))return!1;return!0}{const W=S.slice(0,A.segments.length),he=S.slice(A.segments.length);return!!(un(A.segments,W)&&qe(A.segments,W,B)&&A.children[Ce])&&ee(A.children[Ce],x,he,B)}}function qe(A,x,S){return x.every((B,W)=>j[S](A[W].parameters,B.parameters))}class mt{constructor(x,S,B){this.root=x,this.queryParams=S,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ve(this.queryParams)),this._queryParamMap}toString(){return Nt.serialize(this)}}class Pt{constructor(x,S){this.segments=x,this.children=S,this.parent=null,ii(S,(B,W)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _t(this)}}class yn{constructor(x,S){this.path=x,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=ve(this.parameters)),this._parameterMap}toString(){return ke(this)}}function un(A,x){return A.length===x.length&&A.every((S,B)=>S.path===x[B].path)}let Tn=(()=>{class A{}return A.\u0275fac=function(S){return new(S||A)},A.\u0275prov=m.Yz7({token:A,factory:function(){return new ui},providedIn:"root"}),A})();class ui{parse(x){const S=new Hn(x);return new mt(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(x){const S=`/${ot(x.root,!0)}`,B=function bt(A){const x=Object.keys(A).map(S=>{const B=A[S];return Array.isArray(B)?B.map(W=>`${Ue(S)}=${Ue(W)}`).join("&"):`${Ue(S)}=${Ue(B)}`}).filter(S=>!!S);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${S}${B}${"string"==typeof x.fragment?`#${function je(A){return encodeURI(A)}(x.fragment)}`:""}`}}const Nt=new ui;function _t(A){return A.segments.map(x=>ke(x)).join("/")}function ot(A,x){if(!A.hasChildren())return _t(A);if(x){const S=A.children[Ce]?ot(A.children[Ce],!1):"",B=[];return ii(A.children,(W,he)=>{he!==Ce&&B.push(`${he}:${ot(W,!1)}`)}),B.length>0?`${S}(${B.join("//")})`:S}{const S=function Wn(A,x){let S=[];return ii(A.children,(B,W)=>{W===Ce&&(S=S.concat(x(B,W)))}),ii(A.children,(B,W)=>{W!==Ce&&(S=S.concat(x(B,W)))}),S}(A,(B,W)=>W===Ce?[ot(A.children[Ce],!1)]:[`${W}:${ot(B,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Ce]?`${_t(A)}/${S[0]}`:`${_t(A)}/(${S.join("//")})`}}function Tt(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ue(A){return Tt(A).replace(/%3B/gi,";")}function Ae(A){return Tt(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pt(A){return decodeURIComponent(A)}function Rt(A){return pt(A.replace(/\+/g,"%20"))}function ke(A){return`${Ae(A.path)}${function He(A){return Object.keys(A).map(x=>`;${Ae(x)}=${Ae(A[x])}`).join("")}(A.parameters)}`}const Xe=/^[^\/()?;=#]+/;function oe(A){const x=A.match(Xe);return x?x[0]:""}const Le=/^[^=?&#]+/,pn=/^[^&#]+/;class Hn{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(x.length>0||Object.keys(S).length>0)&&(B[Ce]=new Pt(x,S)),B}parseSegment(){const x=oe(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(x),new yn(pt(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const S=oe(this.remaining);if(!S)return;this.capture(S);let B="";if(this.consumeOptional("=")){const W=oe(this.remaining);W&&(B=W,this.capture(B))}x[pt(S)]=pt(B)}parseQueryParam(x){const S=function kt(A){const x=A.match(Le);return x?x[0]:""}(this.remaining);if(!S)return;this.capture(S);let B="";if(this.consumeOptional("=")){const ut=function zn(A){const x=A.match(pn);return x?x[0]:""}(this.remaining);ut&&(B=ut,this.capture(B))}const W=Rt(S),he=Rt(B);if(x.hasOwnProperty(W)){let ut=x[W];Array.isArray(ut)||(ut=[ut],x[W]=ut),ut.push(he)}else x[W]=he}parseParens(x){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=oe(this.remaining),W=this.remaining[B.length];if("/"!==W&&")"!==W&&";"!==W)throw new m.vHH(4010,!1);let he;B.indexOf(":")>-1?(he=B.slice(0,B.indexOf(":")),this.capture(he),this.capture(":")):x&&(he=Ce);const ut=this.parseChildren();S[he]=1===Object.keys(ut).length?ut[Ce]:new Pt([],ut),this.consumeOptional("//")}return S}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new m.vHH(4011,!1)}}function Ze(A){return A.segments.length>0?new Pt([],{[Ce]:A}):A}function Be(A){const x={};for(const B of Object.keys(A.children)){const he=Be(A.children[B]);(he.segments.length>0||he.hasChildren())&&(x[B]=he)}return function Ne(A){if(1===A.numberOfChildren&&A.children[Ce]){const x=A.children[Ce];return new Pt(A.segments.concat(x.segments),x.children)}return A}(new Pt(A.segments,x))}function At(A){return A instanceof mt}function Ri(A,x,S,B,W){if(0===S.length)return Tr(x.root,x.root,x.root,B,W);const he=function jr(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new As(!0,0,A);let x=0,S=!1;const B=A.reduce((W,he,ut)=>{if("object"==typeof he&&null!=he){if(he.outlets){const et={};return ii(he.outlets,(Wt,Un)=>{et[Un]="string"==typeof Wt?Wt.split("/"):Wt}),[...W,{outlets:et}]}if(he.segmentPath)return[...W,he.segmentPath]}return"string"!=typeof he?[...W,he]:0===ut?(he.split("/").forEach((et,Wt)=>{0==Wt&&"."===et||(0==Wt&&""===et?S=!0:".."===et?x++:""!=et&&W.push(et))}),W):[...W,he]},[]);return new As(S,x,B)}(S);return he.toRoot()?Tr(x.root,x.root,new Pt([],{}),B,W):function ut(Wt){const Un=function Sr(A,x,S,B){if(A.isAbsolute)return new zi(x.root,!0,0);if(-1===B)return new zi(S,S===x.root,0);return function fr(A,x,S){let B=A,W=x,he=S;for(;he>W;){if(he-=W,B=B.parent,!B)throw new m.vHH(4005,!1);W=B.segments.length}return new zi(B,!1,W-he)}(S,B+(Hr(A.commands[0])?0:1),A.numberOfDoubleDots)}(he,x,A.snapshot?._urlSegment,Wt),Si=Un.processChildren?Ti(Un.segmentGroup,Un.index,he.commands):ns(Un.segmentGroup,Un.index,he.commands);return Tr(x.root,Un.segmentGroup,Si,B,W)}(A.snapshot?._lastPathIndex)}function Hr(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Zn(A){return"object"==typeof A&&null!=A&&A.outlets}function Tr(A,x,S,B,W){let ut,he={};B&&ii(B,(Wt,Un)=>{he[Un]=Array.isArray(Wt)?Wt.map(Si=>`${Si}`):`${Wt}`}),ut=A===x?S:ts(A,x,S);const et=Ze(Be(ut));return new mt(et,he,W)}function ts(A,x,S){const B={};return ii(A.children,(W,he)=>{B[he]=W===x?S:ts(W,x,S)}),new Pt(A.segments,B)}class As{constructor(x,S,B){if(this.isAbsolute=x,this.numberOfDoubleDots=S,this.commands=B,x&&B.length>0&&Hr(B[0]))throw new m.vHH(4003,!1);const W=B.find(Zn);if(W&&W!==Vn(B))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zi{constructor(x,S,B){this.segmentGroup=x,this.processChildren=S,this.index=B}}function ns(A,x,S){if(A||(A=new Pt([],{})),0===A.segments.length&&A.hasChildren())return Ti(A,x,S);const B=function Js(A,x,S){let B=0,W=x;const he={match:!1,pathIndex:0,commandIndex:0};for(;W<A.segments.length;){if(B>=S.length)return he;const ut=A.segments[W],et=S[B];if(Zn(et))break;const Wt=`${et}`,Un=B<S.length-1?S[B+1]:null;if(W>0&&void 0===Wt)break;if(Wt&&Un&&"object"==typeof Un&&void 0===Un.outlets){if(!Fr(Wt,Un,ut))return he;B+=2}else{if(!Fr(Wt,{},ut))return he;B++}W++}return{match:!0,pathIndex:W,commandIndex:B}}(A,x,S),W=S.slice(B.commandIndex);if(B.match&&B.pathIndex<A.segments.length){const he=new Pt(A.segments.slice(0,B.pathIndex),{});return he.children[Ce]=new Pt(A.segments.slice(B.pathIndex),A.children),Ti(he,0,W)}return B.match&&0===W.length?new Pt(A.segments,{}):B.match&&!A.hasChildren()?zr(A,x,S):B.match?Ti(A,0,W):zr(A,x,S)}function Ti(A,x,S){if(0===S.length)return new Pt(A.segments,{});{const B=function tr(A){return Zn(A[0])?A[0].outlets:{[Ce]:A}}(S),W={};return ii(B,(he,ut)=>{"string"==typeof he&&(he=[he]),null!==he&&(W[ut]=ns(A.children[ut],x,he))}),ii(A.children,(he,ut)=>{void 0===B[ut]&&(W[ut]=he)}),new Pt(A.segments,W)}}function zr(A,x,S){const B=A.segments.slice(0,x);let W=0;for(;W<S.length;){const he=S[W];if(Zn(he)){const Wt=is(he.outlets);return new Pt(B,Wt)}if(0===W&&Hr(S[0])){B.push(new yn(A.segments[x].path,rs(S[0]))),W++;continue}const ut=Zn(he)?he.outlets[Ce]:`${he}`,et=W<S.length-1?S[W+1]:null;ut&&et&&Hr(et)?(B.push(new yn(ut,rs(et))),W+=2):(B.push(new yn(ut,{})),W++)}return new Pt(B,{})}function is(A){const x={};return ii(A,(S,B)=>{"string"==typeof S&&(S=[S]),null!==S&&(x[B]=zr(new Pt([],{}),0,S))}),x}function rs(A){const x={};return ii(A,(S,B)=>x[B]=`${S}`),x}function Fr(A,x,S){return A==S.path&&zt(x,S.parameters)}class Xi{constructor(x,S){this.id=x,this.url=S}}class ds extends Xi{constructor(x,S,B="imperative",W=null){super(x,S),this.type=0,this.navigationTrigger=B,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ki extends Xi{constructor(x,S,B){super(x,S),this.urlAfterRedirects=B,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $s extends Xi{constructor(x,S,B,W){super(x,S),this.reason=B,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ki extends Xi{constructor(x,S,B,W){super(x,S),this.error=B,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hs extends Xi{constructor(x,S,B,W){super(x,S),this.urlAfterRedirects=B,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ws extends Xi{constructor(x,S,B,W){super(x,S),this.urlAfterRedirects=B,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends Xi{constructor(x,S,B,W,he){super(x,S),this.urlAfterRedirects=B,this.state=W,this.shouldActivate=he,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ks extends Xi{constructor(x,S,B,W){super(x,S),this.urlAfterRedirects=B,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rr extends Xi{constructor(x,S,B,W){super(x,S),this.urlAfterRedirects=B,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lt{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class en{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jt{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nn{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mn{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class It{constructor(x,S,B){this.routerEvent=x,this.position=S,this.anchor=B,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vt{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const S=this.pathFromRoot(x);return S.length>1?S[S.length-2]:null}children(x){const S=ln(x,this._root);return S?S.children.map(B=>B.value):[]}firstChild(x){const S=ln(x,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(x){const S=gn(x,this._root);return S.length<2?[]:S[S.length-2].children.map(W=>W.value).filter(W=>W!==x)}pathFromRoot(x){return gn(x,this._root).map(S=>S.value)}}function ln(A,x){if(A===x.value)return x;for(const S of x.children){const B=ln(A,S);if(B)return B}return null}function gn(A,x){if(A===x.value)return[x];for(const S of x.children){const B=gn(A,S);if(B.length)return B.unshift(x),B}return[]}class Ln{constructor(x,S){this.value=x,this.children=S}toString(){return`TreeNode(${this.value})`}}function fi(A){const x={};return A&&A.children.forEach(S=>x[S.value.outlet]=S),x}class ir extends Vt{constructor(x,S){super(x),this.snapshot=S,Oo(this,x)}toString(){return this.snapshot.toString()}}function Ui(A,x){const S=function fs(A,x){const ut=new ss([],{},{},"",{},Ce,x,null,A.root,-1,{});return new Fs("",new Ln(ut,[]))}(A,x),B=new M.X([new yn("",{})]),W=new M.X({}),he=new M.X({}),ut=new M.X({}),et=new M.X(""),Wt=new Wr(B,W,ut,et,he,Ce,x,S.root);return Wt.snapshot=S.root,new ir(new Ln(Wt,[]),S)}class Wr{constructor(x,S,B,W,he,ut,et,Wt){this.url=x,this.params=S,this.queryParams=B,this.fragment=W,this.data=he,this.outlet=ut,this.component=et,this.title=this.data?.pipe((0,Ft.U)(Un=>Un[st]))??(0,E.of)(void 0),this._futureSnapshot=Wt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.U)(x=>ve(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.U)(x=>ve(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xs(A,x="emptyOnly"){const S=A.pathFromRoot;let B=0;if("always"!==x)for(B=S.length-1;B>=1;){const W=S[B],he=S[B-1];if(W.routeConfig&&""===W.routeConfig.path)B--;else{if(he.component)break;B--}}return function Zo(A){return A.reduce((x,S)=>({params:{...x.params,...S.params},data:{...x.data,...S.data},resolve:{...S.data,...x.resolve,...S.routeConfig?.data,...S._resolvedData}}),{params:{},data:{},resolve:{}})}(S.slice(B))}class ss{constructor(x,S,B,W,he,ut,et,Wt,Un,Si,Qn,xr){this.url=x,this.params=S,this.queryParams=B,this.fragment=W,this.data=he,this.outlet=ut,this.component=et,this.title=this.data?.[st],this.routeConfig=Wt,this._urlSegment=Un,this._lastPathIndex=Si,this._correctedLastPathIndex=xr??Si,this._resolve=Qn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ve(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ve(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fs extends Vt{constructor(x,S){super(S),this.url=x,Oo(this,S)}toString(){return Ro(this._root)}}function Oo(A,x){x.value._routerState=A,x.children.forEach(S=>Oo(A,S))}function Ro(A){const x=A.children.length>0?` { ${A.children.map(Ro).join(", ")} } `:"";return`${A.value}${x}`}function Lr(A){if(A.snapshot){const x=A.snapshot,S=A._futureSnapshot;A.snapshot=S,zt(x.queryParams,S.queryParams)||A.queryParams.next(S.queryParams),x.fragment!==S.fragment&&A.fragment.next(S.fragment),zt(x.params,S.params)||A.params.next(S.params),function Lt(A,x){if(A.length!==x.length)return!1;for(let S=0;S<A.length;++S)if(!zt(A[S],x[S]))return!1;return!0}(x.url,S.url)||A.url.next(S.url),zt(x.data,S.data)||A.data.next(S.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Ys(A,x){const S=zt(A.params,x.params)&&function qn(A,x){return un(A,x)&&A.every((S,B)=>zt(S.parameters,x[B].parameters))}(A.url,x.url);return S&&!(!A.parent!=!x.parent)&&(!A.parent||Ys(A.parent,x.parent))}function eo(A,x,S){if(S&&A.shouldReuseRoute(x.value,S.value.snapshot)){const B=S.value;B._futureSnapshot=x.value;const W=function _a(A,x,S){return x.children.map(B=>{for(const W of S.children)if(A.shouldReuseRoute(B.value,W.value.snapshot))return eo(A,B,W);return eo(A,B)})}(A,x,S);return new Ln(B,W)}{if(A.shouldAttach(x.value)){const he=A.retrieve(x.value);if(null!==he){const ut=he.route;return ut.value._futureSnapshot=x.value,ut.children=x.children.map(et=>eo(A,et)),ut}}const B=function mo(A){return new Wr(new M.X(A.url),new M.X(A.params),new M.X(A.queryParams),new M.X(A.fragment),new M.X(A.data),A.outlet,A.component,A)}(x.value),W=x.children.map(he=>eo(A,he));return new Ln(B,W)}}const go="ngNavigationCancelingError";function Ls(A,x){const{redirectTo:S,navigationBehaviorOptions:B}=At(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,W=xa(!1,0,x);return W.url=S,W.navigationBehaviorOptions=B,W}function xa(A,x,S){const B=new Error("NavigationCancelingError: "+(A||""));return B[go]=!0,B.cancellationCode=x,S&&(B.url=S),B}function Os(A){return ao(A)&&At(A.url)}function ao(A){return A&&A[go]}class Kr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ct,this.attachRef=null}}let ct=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(S,B){const W=this.getOrCreateContext(S);W.outlet=B,this.contexts.set(S,W)}onChildOutletDestroyed(S){const B=this.getContext(S);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let B=this.getContext(S);return B||(B=new Kr,this.contexts.set(S,B)),B}getContext(S){return this.contexts.get(S)||null}}return A.\u0275fac=function(S){return new(S||A)},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Mt=!1;let G=(()=>{class A{constructor(S,B,W,he,ut){this.parentContexts=S,this.location=B,this.changeDetector=he,this.environmentInjector=ut,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=W||Ce,S.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const S=this.parentContexts.getContext(this.name);S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,Mt);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,Mt);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,Mt);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,B){this.activated=S,this._activatedRoute=B,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,B){if(this.isActivated)throw new m.vHH(4013,Mt);this._activatedRoute=S;const W=this.location,ut=S._futureSnapshot.component,et=this.parentContexts.getOrCreateContext(this.name).children,Wt=new me(S,et,W.injector);if(B&&function $t(A){return!!A.resolveComponentFactory}(B)){const Un=B.resolveComponentFactory(ut);this.activated=W.createComponent(Un,W.length,Wt)}else this.activated=W.createComponent(ut,{index:W.length,injector:Wt,environmentInjector:B??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(S){return new(S||A)(m.Y36(ct),m.Y36(m.s_b),m.$8M("name"),m.Y36(m.sBO),m.Y36(m.lqb))},A.\u0275dir=m.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),A})();class me{constructor(x,S,B){this.route=x,this.childContexts=S,this.parent=B}get(x,S){return x===Wr?this.route:x===ct?this.childContexts:this.parent.get(x,S)}}let fn=(()=>{class A{}return A.\u0275fac=function(S){return new(S||A)},A.\u0275cmp=m.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(S,B){1&S&&m._UZ(0,"router-outlet")},dependencies:[G],encapsulation:2}),A})();function Yn(A,x){return A.providers&&!A._injector&&(A._injector=(0,m.MMx)(A.providers,x,`Route: ${A.path}`)),A._injector??x}function Bs(A){const x=A.children&&A.children.map(Bs),S=x?{...A,children:x}:{...A};return!S.component&&!S.loadComponent&&(x||S.loadChildren)&&S.outlet&&S.outlet!==Ce&&(S.component=fn),S}function Vs(A){return A.outlet||Ce}function as(A,x){const S=A.filter(B=>Vs(B)===x);return S.push(...A.filter(B=>Vs(B)!==x)),S}function ys(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let x=A.parent;x;x=x.parent){const S=x.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class di{constructor(x,S,B,W){this.routeReuseStrategy=x,this.futureState=S,this.currState=B,this.forwardEvent=W}activate(x){const S=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,B,x),Lr(this.futureState.root),this.activateChildRoutes(S,B,x)}deactivateChildRoutes(x,S,B){const W=fi(S);x.children.forEach(he=>{const ut=he.value.outlet;this.deactivateRoutes(he,W[ut],B),delete W[ut]}),ii(W,(he,ut)=>{this.deactivateRouteAndItsChildren(he,B)})}deactivateRoutes(x,S,B){const W=x.value,he=S?S.value:null;if(W===he)if(W.component){const ut=B.getContext(W.outlet);ut&&this.deactivateChildRoutes(x,S,ut.children)}else this.deactivateChildRoutes(x,S,B);else he&&this.deactivateRouteAndItsChildren(S,B)}deactivateRouteAndItsChildren(x,S){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,S):this.deactivateRouteAndOutlet(x,S)}detachAndStoreRouteSubtree(x,S){const B=S.getContext(x.value.outlet),W=B&&x.value.component?B.children:S,he=fi(x);for(const ut of Object.keys(he))this.deactivateRouteAndItsChildren(he[ut],W);if(B&&B.outlet){const ut=B.outlet.detach(),et=B.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:ut,route:x,contexts:et})}}deactivateRouteAndOutlet(x,S){const B=S.getContext(x.value.outlet),W=B&&x.value.component?B.children:S,he=fi(x);for(const ut of Object.keys(he))this.deactivateRouteAndItsChildren(he[ut],W);B&&B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated(),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(x,S,B){const W=fi(S);x.children.forEach(he=>{this.activateRoutes(he,W[he.value.outlet],B),this.forwardEvent(new Mn(he.value.snapshot))}),x.children.length&&this.forwardEvent(new Yt(x.value.snapshot))}activateRoutes(x,S,B){const W=x.value,he=S?S.value:null;if(Lr(W),W===he)if(W.component){const ut=B.getOrCreateContext(W.outlet);this.activateChildRoutes(x,S,ut.children)}else this.activateChildRoutes(x,S,B);else if(W.component){const ut=B.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const et=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),ut.children.onOutletReAttached(et.contexts),ut.attachRef=et.componentRef,ut.route=et.route.value,ut.outlet&&ut.outlet.attach(et.componentRef,et.route.value),Lr(et.route.value),this.activateChildRoutes(x,null,ut.children)}else{const et=ys(W.snapshot),Wt=et?.get(m._Vd)??null;ut.attachRef=null,ut.route=W,ut.resolver=Wt,ut.injector=et,ut.outlet&&ut.outlet.activateWith(W,ut.injector),this.activateChildRoutes(x,null,ut.children)}}else this.activateChildRoutes(x,null,B)}}class lo{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class qo{constructor(x,S){this.component=x,this.route=S}}function ya(A,x,S){const B=A._root;return Zs(B,x?x._root:null,S,[B.value])}function to(A,x){const S=Symbol(),B=x.get(A,S);return B===S?"function"!=typeof A||(0,m.Z0I)(A)?x.get(A):A:B}function Zs(A,x,S,B,W={canDeactivateChecks:[],canActivateChecks:[]}){const he=fi(x);return A.children.forEach(ut=>{(function ko(A,x,S,B,W={canDeactivateChecks:[],canActivateChecks:[]}){const he=A.value,ut=x?x.value:null,et=S?S.getContext(A.value.outlet):null;if(ut&&he.routeConfig===ut.routeConfig){const Wt=function va(A,x,S){if("function"==typeof S)return S(A,x);switch(S){case"pathParamsChange":return!un(A.url,x.url);case"pathParamsOrQueryParamsChange":return!un(A.url,x.url)||!zt(A.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ys(A,x)||!zt(A.queryParams,x.queryParams);default:return!Ys(A,x)}}(ut,he,he.routeConfig.runGuardsAndResolvers);Wt?W.canActivateChecks.push(new lo(B)):(he.data=ut.data,he._resolvedData=ut._resolvedData),Zs(A,x,he.component?et?et.children:null:S,B,W),Wt&&et&&et.outlet&&et.outlet.isActivated&&W.canDeactivateChecks.push(new qo(et.outlet.component,ut))}else ut&&_n(x,et,W),W.canActivateChecks.push(new lo(B)),Zs(A,null,he.component?et?et.children:null:S,B,W)})(ut,he[ut.value.outlet],S,B.concat([ut.value]),W),delete he[ut.value.outlet]}),ii(he,(ut,et)=>_n(ut,S.getContext(et),W)),W}function _n(A,x,S){const B=fi(A),W=A.value;ii(B,(he,ut)=>{_n(he,W.component?x?x.children.getContext(ut):null:x,S)}),S.canDeactivateChecks.push(new qo(W.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,W))}function Ii(A){return"function"==typeof A}function Xn(A){return A instanceof de.K||"EmptyError"===A?.name}const pr=Symbol("INITIAL_VALUE");function no(){return(0,rt.w)(A=>(0,be.a)(A.map(x=>x.pipe((0,Oe.q)(1),(0,ae.O)(pr)))).pipe((0,Ft.U)(x=>{for(const S of x)if(!0!==S){if(S===pr)return pr;if(!1===S||S instanceof mt)return S}return!0}),(0,Me.h)(x=>x!==pr),(0,Oe.q)(1)))}function Dl(A){return(0,pe.z)((0,Se.b)(x=>{if(At(x))throw Ls(0,x)}),(0,Ft.U)(x=>!0===x))}const Ra={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Za(A,x,S,B,W){const he=_o(A,x,S);return he.matched?function Oa(A,x,S,B){const W=x.canMatch;if(!W||0===W.length)return(0,E.of)(!0);const he=W.map(ut=>{const et=to(ut,A);return ci(function V(A){return A&&Ii(A.canMatch)}(et)?et.canMatch(x,S):A.runInContext(()=>et(x,S)))});return(0,E.of)(he).pipe(no(),Dl())}(B=Yn(x,B),x,S).pipe((0,Ft.U)(ut=>!0===ut?he:{...Ra})):(0,E.of)(he)}function _o(A,x,S){if(""===x.path)return"full"===x.pathMatch&&(A.hasChildren()||S.length>0)?{...Ra}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const W=(x.matcher||Ct)(S,A,x);if(!W)return{...Ra};const he={};ii(W.posParams,(et,Wt)=>{he[Wt]=et.path});const ut=W.consumed.length>0?{...he,...W.consumed[W.consumed.length-1].parameters}:he;return{matched:!0,consumedSegments:W.consumed,remainingSegments:S.slice(W.consumed.length),parameters:ut,positionalParamSegments:W.posParams??{}}}function qs(A,x,S,B,W="corrected"){if(S.length>0&&function Il(A,x,S){return S.some(B=>Xa(A,x,B)&&Vs(B)!==Ce)}(A,S,B)){const ut=new Pt(x,function yo(A,x,S,B){const W={};W[Ce]=B,B._sourceSegment=A,B._segmentIndexShift=x.length;for(const he of S)if(""===he.path&&Vs(he)!==Ce){const ut=new Pt([],{});ut._sourceSegment=A,ut._segmentIndexShift=x.length,W[Vs(he)]=ut}return W}(A,x,B,new Pt(S,A.children)));return ut._sourceSegment=A,ut._segmentIndexShift=x.length,{segmentGroup:ut,slicedSegments:[]}}if(0===S.length&&function Qa(A,x,S){return S.some(B=>Xa(A,x,B))}(A,S,B)){const ut=new Pt(A.segments,function qa(A,x,S,B,W,he){const ut={};for(const et of B)if(Xa(A,S,et)&&!W[Vs(et)]){const Wt=new Pt([],{});Wt._sourceSegment=A,Wt._segmentIndexShift="legacy"===he?A.segments.length:x.length,ut[Vs(et)]=Wt}return{...W,...ut}}(A,x,S,B,A.children,W));return ut._sourceSegment=A,ut._segmentIndexShift=x.length,{segmentGroup:ut,slicedSegments:S}}const he=new Pt(A.segments,A.children);return he._sourceSegment=A,he._segmentIndexShift=x.length,{segmentGroup:he,slicedSegments:S}}function Xa(A,x,S){return(!(A.hasChildren()||x.length>0)||"full"!==S.pathMatch)&&""===S.path}function F(A,x,S,B){return!!(Vs(A)===B||B!==Ce&&Xa(x,S,A))&&("**"===A.path||_o(x,A,S).matched)}function te(A,x,S){return 0===x.length&&!A.children[S]}const H=!1;class ye{constructor(x){this.segmentGroup=x||null}}class vt{constructor(x){this.urlTree=x}}function Zt(A){return(0,X._)(new ye(A))}function dn(A){return(0,X._)(new vt(A))}class rr{constructor(x,S,B,W,he){this.injector=x,this.configLoader=S,this.urlSerializer=B,this.urlTree=W,this.config=he,this.allowRedirects=!0}apply(){const x=qs(this.urlTree.root,[],[],this.config).segmentGroup,S=new Pt(x.segments,x.children);return this.expandSegmentGroup(this.injector,this.config,S,Ce).pipe((0,Ft.U)(he=>this.createUrlTree(Be(he),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ke.K)(he=>{if(he instanceof vt)return this.allowRedirects=!1,this.match(he.urlTree);throw he instanceof ye?this.noMatchError(he):he}))}match(x){return this.expandSegmentGroup(this.injector,this.config,x.root,Ce).pipe((0,Ft.U)(W=>this.createUrlTree(Be(W),x.queryParams,x.fragment))).pipe((0,Ke.K)(W=>{throw W instanceof ye?this.noMatchError(W):W}))}noMatchError(x){return new m.vHH(4002,H)}createUrlTree(x,S,B){const W=Ze(x);return new mt(W,S,B)}expandSegmentGroup(x,S,B,W){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(x,S,B).pipe((0,Ft.U)(he=>new Pt([],he))):this.expandSegment(x,B,S,B.segments,W,!0)}expandChildren(x,S,B){const W=[];for(const he of Object.keys(B.children))"primary"===he?W.unshift(he):W.push(he);return(0,b.D)(W).pipe((0,Ge.b)(he=>{const ut=B.children[he],et=as(S,he);return this.expandSegmentGroup(x,et,ut,he).pipe((0,Ft.U)(Wt=>({segment:Wt,outlet:he})))}),(0,St.R)((he,ut)=>(he[ut.outlet]=ut.segment,he),{}),xt())}expandSegment(x,S,B,W,he,ut){return(0,b.D)(B).pipe((0,Ge.b)(et=>this.expandSegmentAgainstRoute(x,S,B,et,W,he,ut).pipe((0,Ke.K)(Un=>{if(Un instanceof ye)return(0,E.of)(null);throw Un}))),(0,fe.P)(et=>!!et),(0,Ke.K)((et,Wt)=>{if(Xn(et))return te(S,W,he)?(0,E.of)(new Pt([],{})):Zt(S);throw et}))}expandSegmentAgainstRoute(x,S,B,W,he,ut,et){return F(W,S,he,ut)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(x,S,W,he,ut):et&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,S,B,W,he,ut):Zt(S):Zt(S)}expandSegmentAgainstRouteUsingRedirect(x,S,B,W,he,ut){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,B,W,ut):this.expandRegularSegmentAgainstRouteUsingRedirect(x,S,B,W,he,ut)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,S,B,W){const he=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?dn(he):this.lineralizeSegments(B,he).pipe((0,_e.z)(ut=>{const et=new Pt(ut,{});return this.expandSegment(x,et,S,ut,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,S,B,W,he,ut){const{matched:et,consumedSegments:Wt,remainingSegments:Un,positionalParamSegments:Si}=_o(S,W,he);if(!et)return Zt(S);const Qn=this.applyRedirectCommands(Wt,W.redirectTo,Si);return W.redirectTo.startsWith("/")?dn(Qn):this.lineralizeSegments(W,Qn).pipe((0,_e.z)(xr=>this.expandSegment(x,S,B,xr.concat(Un),ut,!1)))}matchSegmentAgainstRoute(x,S,B,W,he){return"**"===B.path?(x=Yn(B,x),B.loadChildren?(B._loadedRoutes?(0,E.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):this.configLoader.loadChildren(x,B)).pipe((0,Ft.U)(et=>(B._loadedRoutes=et.routes,B._loadedInjector=et.injector,new Pt(W,{})))):(0,E.of)(new Pt(W,{}))):Za(S,B,W,x).pipe((0,rt.w)(({matched:ut,consumedSegments:et,remainingSegments:Wt})=>ut?this.getChildConfig(x=B._injector??x,B,W).pipe((0,_e.z)(Si=>{const Qn=Si.injector??x,xr=Si.routes,{segmentGroup:nr,slicedSegments:La}=qs(S,et,Wt,xr),cs=new Pt(nr.segments,nr.children);if(0===La.length&&cs.hasChildren())return this.expandChildren(Qn,xr,cs).pipe((0,Ft.U)(oa=>new Pt(et,oa)));if(0===xr.length&&0===La.length)return(0,E.of)(new Pt(et,{}));const sr=Vs(B)===he;return this.expandSegment(Qn,cs,xr,La,sr?Ce:he,!0).pipe((0,Ft.U)(sa=>new Pt(et.concat(sa.segments),sa.children)))})):Zt(S)))}getChildConfig(x,S,B){return S.children?(0,E.of)({routes:S.children,injector:x}):S.loadChildren?void 0!==S._loadedRoutes?(0,E.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function dl(A,x,S,B){const W=x.canLoad;if(void 0===W||0===W.length)return(0,E.of)(!0);const he=W.map(ut=>{const et=to(ut,A);return ci(function Qo(A){return A&&Ii(A.canLoad)}(et)?et.canLoad(x,S):A.runInContext(()=>et(x,S)))});return(0,E.of)(he).pipe(no(),Dl())}(x,S,B).pipe((0,_e.z)(W=>W?this.configLoader.loadChildren(x,S).pipe((0,Se.b)(he=>{S._loadedRoutes=he.routes,S._loadedInjector=he.injector})):function Ji(A){return(0,X._)(xa(H,3))}())):(0,E.of)({routes:[],injector:x})}lineralizeSegments(x,S){let B=[],W=S.root;for(;;){if(B=B.concat(W.segments),0===W.numberOfChildren)return(0,E.of)(B);if(W.numberOfChildren>1||!W.children[Ce])return(0,X._)(new m.vHH(4e3,H));W=W.children[Ce]}}applyRedirectCommands(x,S,B){return this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),x,B)}applyRedirectCreateUrlTree(x,S,B,W){const he=this.createSegmentGroup(x,S.root,B,W);return new mt(he,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(x,S){const B={};return ii(x,(W,he)=>{if("string"==typeof W&&W.startsWith(":")){const et=W.substring(1);B[he]=S[et]}else B[he]=W}),B}createSegmentGroup(x,S,B,W){const he=this.createSegments(x,S.segments,B,W);let ut={};return ii(S.children,(et,Wt)=>{ut[Wt]=this.createSegmentGroup(x,et,B,W)}),new Pt(he,ut)}createSegments(x,S,B,W){return S.map(he=>he.path.startsWith(":")?this.findPosParam(x,he,W):this.findOrReturn(he,B))}findPosParam(x,S,B){const W=B[S.path.substring(1)];if(!W)throw new m.vHH(4001,H);return W}findOrReturn(x,S){let B=0;for(const W of S){if(W.path===x.path)return S.splice(B),W;B++}return x}}class mr{}class So{constructor(x,S,B,W,he,ut,et,Wt){this.injector=x,this.rootComponentType=S,this.config=B,this.urlTree=W,this.url=he,this.paramsInheritanceStrategy=ut,this.relativeLinkResolution=et,this.urlSerializer=Wt}recognize(){const x=qs(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,Ce).pipe((0,Ft.U)(S=>{if(null===S)return null;const B=new ss([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ce,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new Ln(B,S),he=new Fs(this.url,W);return this.inheritParamsAndData(he._root),he}))}inheritParamsAndData(x){const S=x.value,B=xs(S,this.paramsInheritanceStrategy);S.params=Object.freeze(B.params),S.data=Object.freeze(B.data),x.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(x,S,B,W){return 0===B.segments.length&&B.hasChildren()?this.processChildren(x,S,B):this.processSegment(x,S,B,B.segments,W)}processChildren(x,S,B){return(0,b.D)(Object.keys(B.children)).pipe((0,Ge.b)(W=>{const he=B.children[W],ut=as(S,W);return this.processSegmentGroup(x,ut,he,W)}),(0,St.R)((W,he)=>W&&he?(W.push(...he),W):null),(0,an.o)(W=>null!==W),(0,Jt.d)(null),xt(),(0,Ft.U)(W=>{if(null===W)return null;const he=wr(W);return function Mo(A){A.sort((x,S)=>x.value.outlet===Ce?-1:S.value.outlet===Ce?1:x.value.outlet.localeCompare(S.value.outlet))}(he),he}))}processSegment(x,S,B,W,he){return(0,b.D)(S).pipe((0,Ge.b)(ut=>this.processSegmentAgainstRoute(ut._injector??x,ut,B,W,he)),(0,fe.P)(ut=>!!ut),(0,Ke.K)(ut=>{if(Xn(ut))return te(B,W,he)?(0,E.of)([]):(0,E.of)(null);throw ut}))}processSegmentAgainstRoute(x,S,B,W,he){if(S.redirectTo||!F(S,B,W,he))return(0,E.of)(null);let ut;if("**"===S.path){const et=W.length>0?Vn(W).parameters:{},Wt=_r(B)+W.length,Un=new ss(W,et,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jl(S),Vs(S),S.component??S._loadedComponent??null,S,No(B),Wt,Tl(S),Wt);ut=(0,E.of)({snapshot:Un,consumedSegments:[],remainingSegments:[]})}else ut=Za(B,S,W,x).pipe((0,Ft.U)(({matched:et,consumedSegments:Wt,remainingSegments:Un,parameters:Si})=>{if(!et)return null;const Qn=_r(B)+Wt.length;return{snapshot:new ss(Wt,Si,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jl(S),Vs(S),S.component??S._loadedComponent??null,S,No(B),Qn,Tl(S),Qn),consumedSegments:Wt,remainingSegments:Un}}));return ut.pipe((0,rt.w)(et=>{if(null===et)return(0,E.of)(null);const{snapshot:Wt,consumedSegments:Un,remainingSegments:Si}=et;x=S._injector??x;const Qn=S._loadedInjector??x,xr=function ba(A){return A.children?A.children:A.loadChildren?A._loadedRoutes:[]}(S),{segmentGroup:nr,slicedSegments:La}=qs(B,Un,Si,xr.filter(sr=>void 0===sr.redirectTo),this.relativeLinkResolution);if(0===La.length&&nr.hasChildren())return this.processChildren(Qn,xr,nr).pipe((0,Ft.U)(sr=>null===sr?null:[new Ln(Wt,sr)]));if(0===xr.length&&0===La.length)return(0,E.of)([new Ln(Wt,[])]);const cs=Vs(S)===he;return this.processSegment(Qn,xr,nr,La,cs?Ce:he).pipe((0,Ft.U)(sr=>null===sr?null:[new Ln(Wt,sr)]))}))}}function Us(A){const x=A.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function wr(A){const x=[],S=new Set;for(const B of A){if(!Us(B)){x.push(B);continue}const W=x.find(he=>B.value.routeConfig===he.value.routeConfig);void 0!==W?(W.children.push(...B.children),S.add(W)):x.push(B)}for(const B of S){const W=wr(B.children);x.push(new Ln(B.value,W))}return x.filter(B=>!S.has(B))}function No(A){let x=A;for(;x._sourceSegment;)x=x._sourceSegment;return x}function _r(A){let x=A,S=x._segmentIndexShift??0;for(;x._sourceSegment;)x=x._sourceSegment,S+=x._segmentIndexShift??0;return S-1}function Jl(A){return A.data||{}}function Tl(A){return A.resolve||{}}function Qe(A){return"string"==typeof A.title||null===A.title}function Br(A){return(0,rt.w)(x=>{const S=A(x);return S?(0,b.D)(S).pipe((0,Ft.U)(()=>x)):(0,E.of)(x)})}let Vr=(()=>{class A{buildTitle(S){let B,W=S.root;for(;void 0!==W;)B=this.getResolvedTitleForRoute(W)??B,W=W.children.find(he=>he.outlet===Ce);return B}getResolvedTitleForRoute(S){return S.data[st]}}return A.\u0275fac=function(S){return new(S||A)},A.\u0275prov=m.Yz7({token:A,factory:function(){return(0,m.f3M)(Pa)},providedIn:"root"}),A})(),Pa=(()=>{class A extends Vr{constructor(S){super(),this.title=S}updateTitle(S){const B=this.buildTitle(S);void 0!==B&&this.title.setTitle(B)}}return A.\u0275fac=function(S){return new(S||A)(m.LFG(Bt.Dx))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();class nu{}class Ai extends class On{shouldDetach(x){return!1}store(x,S){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,S){return x.routeConfig===S.routeConfig}}{}const Cr=new m.OlP("",{providedIn:"root",factory:()=>({})}),ai=new m.OlP("ROUTES");let Mc=(()=>{class A{constructor(S,B){this.injector=S,this.compiler=B,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,E.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const B=ci(S.loadComponent()).pipe((0,Se.b)(he=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=he}),(0,at.x)(()=>{this.componentLoaders.delete(S)})),W=new Ye(B,()=>new Je.x).pipe(dt());return this.componentLoaders.set(S,W),W}loadChildren(S,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,E.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const he=this.loadModuleFactoryOrRoutes(B.loadChildren).pipe((0,Ft.U)(et=>{this.onLoadEndListener&&this.onLoadEndListener(B);let Wt,Un,Si=!1;Array.isArray(et)?Un=et:(Wt=et.create(S).injector,Un=Pn(Wt.get(ai,[],m.XFs.Self|m.XFs.Optional)));return{routes:Un.map(Bs),injector:Wt}}),(0,at.x)(()=>{this.childrenLoaders.delete(B)})),ut=new Ye(he,()=>new Je.x).pipe(dt());return this.childrenLoaders.set(B,ut),ut}loadModuleFactoryOrRoutes(S){return ci(S()).pipe((0,_e.z)(B=>B instanceof m.YKP||Array.isArray(B)?(0,E.of)(B):(0,b.D)(this.compiler.compileModuleAsync(B))))}}return A.\u0275fac=function(S){return new(S||A)(m.LFG(m.zs3),m.LFG(m.Sil))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();class $n{}class sn{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,S){return x}}function qr(A){throw A}function hl(A,x,S){return x.parse("/")}const Ac={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ja(){const A=(0,m.f3M)(Tn),x=(0,m.f3M)(ct),S=(0,m.f3M)($e.Ye),B=(0,m.f3M)(m.zs3),W=(0,m.f3M)(m.Sil),he=(0,m.f3M)(ai,{optional:!0})??[],ut=(0,m.f3M)(Cr,{optional:!0})??{},et=(0,m.f3M)(Pa),Wt=(0,m.f3M)(Vr,{optional:!0}),Un=(0,m.f3M)($n,{optional:!0}),Si=(0,m.f3M)(nu,{optional:!0}),Qn=new ks(null,A,x,S,B,W,Pn(he));return Un&&(Qn.urlHandlingStrategy=Un),Si&&(Qn.routeReuseStrategy=Si),Qn.titleStrategy=Wt??et,function fl(A,x){A.errorHandler&&(x.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(x.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(x.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(x.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(x.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(x.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(x.canceledNavigationResolution=A.canceledNavigationResolution)}(ut,Qn),Qn}let ks=(()=>{class A{constructor(S,B,W,he,ut,et,Wt){this.rootComponentType=S,this.urlSerializer=B,this.rootContexts=W,this.location=he,this.config=Wt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Je.x,this.errorHandler=qr,this.malformedUriErrorHandler=hl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,E.of)(void 0),this.urlHandlingStrategy=new sn,this.routeReuseStrategy=new Ai,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ut.get(Mc),this.configLoader.onLoadEndListener=xr=>this.triggerEvent(new en(xr)),this.configLoader.onLoadStartListener=xr=>this.triggerEvent(new lt(xr)),this.ngModule=ut.get(m.h0i),this.console=ut.get(m.c2e);const Qn=ut.get(m.R0b);this.isNgZoneEnabled=Qn instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(Wt),this.currentUrlTree=function Fn(){return new mt(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ui(this.currentUrlTree,this.rootComponentType),this.transitions=new M.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(S){const B=this.events;return S.pipe((0,Me.h)(W=>0!==W.id),(0,Ft.U)(W=>({...W,extractedUrl:this.urlHandlingStrategy.extract(W.rawUrl)})),(0,rt.w)(W=>{let he=!1,ut=!1;return(0,E.of)(W).pipe((0,Se.b)(et=>{this.currentNavigation={id:et.id,initialUrl:et.rawUrl,extractedUrl:et.extractedUrl,trigger:et.source,extras:et.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,rt.w)(et=>{const Wt=this.browserUrlTree.toString(),Un=!this.navigated||et.extractedUrl.toString()!==Wt||Wt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Un)&&this.urlHandlingStrategy.shouldProcessUrl(et.rawUrl))return ta(et.source)&&(this.browserUrlTree=et.extractedUrl),(0,E.of)(et).pipe((0,rt.w)(Qn=>{const xr=this.transitions.getValue();return B.next(new ds(Qn.id,this.serializeUrl(Qn.extractedUrl),Qn.source,Qn.restoredState)),xr!==this.transitions.getValue()?ue.E:Promise.resolve(Qn)}),function Hi(A,x,S,B){return(0,rt.w)(W=>function Zi(A,x,S,B,W){return new rr(A,x,S,B,W).apply()}(A,x,S,W.extractedUrl,B).pipe((0,Ft.U)(he=>({...W,urlAfterRedirects:he}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Se.b)(Qn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Qn.urlAfterRedirects},W.urlAfterRedirects=Qn.urlAfterRedirects}),function io(A,x,S,B,W,he){return(0,_e.z)(ut=>function Jo(A,x,S,B,W,he,ut="emptyOnly",et="legacy"){return new So(A,x,S,B,W,ut,et,he).recognize().pipe((0,rt.w)(Wt=>null===Wt?function Er(A){return new se.y(x=>x.error(A))}(new mr):(0,E.of)(Wt)))}(A,x,S,ut.urlAfterRedirects,B.serialize(ut.urlAfterRedirects),B,W,he).pipe((0,Ft.U)(et=>({...ut,targetSnapshot:et}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Se.b)(Qn=>{if(W.targetSnapshot=Qn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Qn.extras.skipLocationChange){const nr=this.urlHandlingStrategy.merge(Qn.urlAfterRedirects,Qn.rawUrl);this.setBrowserUrl(nr,Qn)}this.browserUrlTree=Qn.urlAfterRedirects}const xr=new hs(Qn.id,this.serializeUrl(Qn.extractedUrl),this.serializeUrl(Qn.urlAfterRedirects),Qn.targetSnapshot);B.next(xr)}));if(Un&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:xr,extractedUrl:nr,source:La,restoredState:cs,extras:sr}=et,ra=new ds(xr,this.serializeUrl(nr),La,cs);B.next(ra);const sa=Ui(nr,this.rootComponentType).snapshot;return W={...et,targetSnapshot:sa,urlAfterRedirects:nr,extras:{...sr,skipLocationChange:!1,replaceUrl:!1}},(0,E.of)(W)}return this.rawUrlTree=et.rawUrl,et.resolve(null),ue.E}),(0,Se.b)(et=>{const Wt=new Ws(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(Wt)}),(0,Ft.U)(et=>W={...et,guards:ya(et.targetSnapshot,et.currentSnapshot,this.rootContexts)}),function Rs(A,x){return(0,_e.z)(S=>{const{targetSnapshot:B,currentSnapshot:W,guards:{canActivateChecks:he,canDeactivateChecks:ut}}=S;return 0===ut.length&&0===he.length?(0,E.of)({...S,guardsResult:!0}):function br(A,x,S,B){return(0,b.D)(A).pipe((0,_e.z)(W=>function Cl(A,x,S,B,W){const he=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,E.of)(!0);const ut=he.map(et=>{const Wt=ys(x)??W,Un=to(et,Wt);return ci(function $(A){return A&&Ii(A.canDeactivate)}(Un)?Un.canDeactivate(A,x,S,B):Wt.runInContext(()=>Un(A,x,S,B))).pipe((0,fe.P)())});return(0,E.of)(ut).pipe(no())}(W.component,W.route,S,x,B)),(0,fe.P)(W=>!0!==W,!0))}(ut,B,W,A).pipe((0,_e.z)(et=>et&&function Xl(A){return"boolean"==typeof A}(et)?function Po(A,x,S,B){return(0,b.D)(x).pipe((0,Ge.b)(W=>(0,Fe.z)(function Ya(A,x){return null!==A&&x&&x(new jt(A)),(0,E.of)(!0)}(W.route.parent,B),function Mr(A,x){return null!==A&&x&&x(new Nn(A)),(0,E.of)(!0)}(W.route,B),function Sc(A,x,S){const B=x[x.length-1],he=x.slice(0,x.length-1).reverse().map(ut=>function ul(A){const x=A.routeConfig?A.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:A,guards:x}:null}(ut)).filter(ut=>null!==ut).map(ut=>(0,re.P)(()=>{const et=ut.guards.map(Wt=>{const Un=ys(ut.node)??S,Si=to(Wt,Un);return ci(function K(A){return A&&Ii(A.canActivateChild)}(Si)?Si.canActivateChild(B,A):Un.runInContext(()=>Si(B,A))).pipe((0,fe.P)())});return(0,E.of)(et).pipe(no())}));return(0,E.of)(he).pipe(no())}(A,W.path,S),function Xo(A,x,S){const B=x.routeConfig?x.routeConfig.canActivate:null;if(!B||0===B.length)return(0,E.of)(!0);const W=B.map(he=>(0,re.P)(()=>{const ut=ys(x)??S,et=to(he,ut);return ci(function Yr(A){return A&&Ii(A.canActivate)}(et)?et.canActivate(x,A):ut.runInContext(()=>et(x,A))).pipe((0,fe.P)())}));return(0,E.of)(W).pipe(no())}(A,W.route,S))),(0,fe.P)(W=>!0!==W,!0))}(B,he,A,x):(0,E.of)(et)),(0,Ft.U)(et=>({...S,guardsResult:et})))})}(this.ngModule.injector,et=>this.triggerEvent(et)),(0,Se.b)(et=>{if(W.guardsResult=et.guardsResult,At(et.guardsResult))throw Ls(0,et.guardsResult);const Wt=new $r(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot,!!et.guardsResult);this.triggerEvent(Wt)}),(0,Me.h)(et=>!!et.guardsResult||(this.restoreHistory(et),this.cancelNavigationTransition(et,"",3),!1)),Br(et=>{if(et.guards.canActivateChecks.length)return(0,E.of)(et).pipe((0,Se.b)(Wt=>{const Un=new Ks(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot);this.triggerEvent(Un)}),(0,rt.w)(Wt=>{let Un=!1;return(0,E.of)(Wt).pipe(function ec(A,x){return(0,_e.z)(S=>{const{targetSnapshot:B,guards:{canActivateChecks:W}}=S;if(!W.length)return(0,E.of)(S);let he=0;return(0,b.D)(W).pipe((0,Ge.b)(ut=>function vs(A,x,S,B){const W=A.routeConfig,he=A._resolve;return void 0!==W?.title&&!Qe(W)&&(he[st]=W.title),function Sl(A,x,S,B){const W=function ka(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===W.length)return(0,E.of)({});const he={};return(0,b.D)(W).pipe((0,_e.z)(ut=>function ea(A,x,S,B){const W=ys(x)??B,he=to(A,W);return ci(he.resolve?he.resolve(x,S):W.runInContext(()=>he(x,S)))}(A[ut],x,S,B).pipe((0,fe.P)(),(0,Se.b)(et=>{he[ut]=et}))),yt(1),(0,ne.h)(he),(0,Ke.K)(ut=>Xn(ut)?ue.E:(0,X._)(ut)))}(he,A,x,B).pipe((0,Ft.U)(ut=>(A._resolvedData=ut,A.data=xs(A,S).resolve,W&&Qe(W)&&(A.data[st]=W.title),null)))}(ut.route,B,A,x)),(0,Se.b)(()=>he++),yt(1),(0,_e.z)(ut=>he===W.length?(0,E.of)(S):ue.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Se.b)({next:()=>Un=!0,complete:()=>{Un||(this.restoreHistory(Wt),this.cancelNavigationTransition(Wt,"",2))}}))}),(0,Se.b)(Wt=>{const Un=new Rr(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot);this.triggerEvent(Un)}))}),Br(et=>{const Wt=Un=>{const Si=[];Un.routeConfig?.loadComponent&&!Un.routeConfig._loadedComponent&&Si.push(this.configLoader.loadComponent(Un.routeConfig).pipe((0,Se.b)(Qn=>{Un.component=Qn}),(0,Ft.U)(()=>{})));for(const Qn of Un.children)Si.push(...Wt(Qn));return Si};return(0,be.a)(Wt(et.targetSnapshot.root)).pipe((0,Jt.d)(),(0,Oe.q)(1))}),Br(()=>this.afterPreactivation()),(0,Ft.U)(et=>{const Wt=function To(A,x,S){const B=eo(A,x._root,S?S._root:void 0);return new ir(B,x)}(this.routeReuseStrategy,et.targetSnapshot,et.currentRouterState);return W={...et,targetRouterState:Wt}}),(0,Se.b)(et=>{this.currentUrlTree=et.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(et.urlAfterRedirects,et.rawUrl),this.routerState=et.targetRouterState,"deferred"===this.urlUpdateStrategy&&(et.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,et),this.browserUrlTree=et.urlAfterRedirects)}),((A,x,S)=>(0,Ft.U)(B=>(new di(x,B.targetRouterState,B.currentRouterState,S).activate(A),B)))(this.rootContexts,this.routeReuseStrategy,et=>this.triggerEvent(et)),(0,Se.b)({next(){he=!0},complete(){he=!0}}),(0,at.x)(()=>{he||ut||this.cancelNavigationTransition(W,"",1),this.currentNavigation?.id===W.id&&(this.currentNavigation=null)}),(0,Ke.K)(et=>{if(ut=!0,ao(et)){Os(et)||(this.navigated=!0,this.restoreHistory(W,!0));const Wt=new $s(W.id,this.serializeUrl(W.extractedUrl),et.message,et.cancellationCode);if(B.next(Wt),Os(et)){const Un=this.urlHandlingStrategy.merge(et.url,this.rawUrlTree),Si={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ta(W.source)};this.scheduleNavigation(Un,"imperative",null,Si,{resolve:W.resolve,reject:W.reject,promise:W.promise})}else W.resolve(!1)}else{this.restoreHistory(W,!0);const Wt=new Ki(W.id,this.serializeUrl(W.extractedUrl),et,W.targetSnapshot??void 0);B.next(Wt);try{W.resolve(this.errorHandler(et))}catch(Un){W.reject(Un)}}return ue.E}))}))}resetRootComponentType(S){this.rootComponentType=S,this.routerState.root.component=this.rootComponentType}setTransition(S){this.transitions.next({...this.transitions.value,...S})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const B="popstate"===S.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{const W={replaceUrl:!0},he=S.state?.navigationId?S.state:null;if(he){const et={...he};delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(W.state=et)}const ut=this.parseUrl(S.url);this.scheduleNavigation(ut,B,he,W)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(S){this.events.next(S)}resetConfig(S){this.config=S.map(Bs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,B={}){const{relativeTo:W,queryParams:he,fragment:ut,queryParamsHandling:et,preserveFragment:Wt}=B,Un=W||this.routerState.root,Si=Wt?this.currentUrlTree.fragment:ut;let Qn=null;switch(et){case"merge":Qn={...this.currentUrlTree.queryParams,...he};break;case"preserve":Qn=this.currentUrlTree.queryParams;break;default:Qn=he||null}return null!==Qn&&(Qn=this.removeEmptyProps(Qn)),Ri(Un,this.currentUrlTree,S,Qn,Si??null)}navigateByUrl(S,B={skipLocationChange:!1}){const W=At(S)?S:this.parseUrl(S),he=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(he,"imperative",null,B)}navigate(S,B={skipLocationChange:!1}){return function Ml(A){for(let x=0;x<A.length;x++){if(null==A[x])throw new m.vHH(4008,false)}}(S),this.navigateByUrl(this.createUrlTree(S,B),B)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let B;try{B=this.urlSerializer.parse(S)}catch(W){B=this.malformedUriErrorHandler(W,this.urlSerializer,S)}return B}isActive(S,B){let W;if(W=!0===B?{...Ac}:!1===B?{...tc}:B,At(S))return Z(this.currentUrlTree,S,W);const he=this.parseUrl(S);return Z(this.currentUrlTree,he,W)}removeEmptyProps(S){return Object.keys(S).reduce((B,W)=>{const he=S[W];return null!=he&&(B[W]=he),B},{})}processNavigations(){this.navigations.subscribe(S=>{this.navigated=!0,this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId,this.events.next(new ki(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),S.resolve(!0)},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}scheduleNavigation(S,B,W,he,ut){if(this.disposed)return Promise.resolve(!1);let et,Wt,Un;ut?(et=ut.resolve,Wt=ut.reject,Un=ut.promise):Un=new Promise((xr,nr)=>{et=xr,Wt=nr});const Si=++this.navigationId;let Qn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(W=this.location.getState()),Qn=W&&W.\u0275routerPageId?W.\u0275routerPageId:he.replaceUrl||he.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Qn=0,this.setTransition({id:Si,targetPageId:Qn,source:B,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:S,extras:he,resolve:et,reject:Wt,promise:Un,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Un.catch(xr=>Promise.reject(xr))}setBrowserUrl(S,B){const W=this.urlSerializer.serialize(S),he={...B.extras.state,...this.generateNgRouterState(B.id,B.targetPageId)};this.location.isCurrentPathEqualTo(W)||B.extras.replaceUrl?this.location.replaceState(W,"",he):this.location.go(W,"",he)}restoreHistory(S,B=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===W?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===W&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(W)}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(S,B,W){const he=new $s(S.id,this.serializeUrl(S.extractedUrl),B,W);this.triggerEvent(he),S.resolve(!1)}generateNgRouterState(S,B){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:B}:{navigationId:S}}}return A.\u0275fac=function(S){m.$Z()},A.\u0275prov=m.Yz7({token:A,factory:function(){return Ja()},providedIn:"root"}),A})();function ta(A){return"imperative"!==A}let Lo=(()=>{class A{constructor(S,B,W,he,ut){this.router=S,this.route=B,this.tabIndexAttribute=W,this.renderer=he,this.el=ut,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Je.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(S){this._preserveFragment=(0,m.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,m.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,m.D6c)(S)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(S){if(null!=this.tabIndexAttribute)return;const B=this.renderer,W=this.el.nativeElement;null!==S?B.setAttribute(W,"tabindex",S):B.removeAttribute(W,"tabindex")}ngOnChanges(S){this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(S){return new(S||A)(m.Y36(ks),m.Y36(Wr),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},A.\u0275dir=m.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(S,B){1&S&&m.NdJ("click",function(){return B.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),A})(),nc=(()=>{class A{constructor(S,B,W){this.router=S,this.route=B,this.locationStrategy=W,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Je.x,this.subscription=S.events.subscribe(he=>{he instanceof ki&&this.updateTargetUrlAndHref()})}set preserveFragment(S){this._preserveFragment=(0,m.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,m.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,m.D6c)(S)}get replaceUrl(){return this._replaceUrl}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:null}ngOnChanges(S){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(S,B,W,he,ut){return!!(0!==S||B||W||he||ut||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(S){return new(S||A)(m.Y36(ks),m.Y36(Wr),m.Y36($e.S$))},A.\u0275dir=m.lG2({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(S,B){1&S&&m.NdJ("click",function(he){return B.onClick(he.button,he.ctrlKey,he.shiftKey,he.altKey,he.metaKey)}),2&S&&m.uIk("target",B.target)("href",B.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),A})();class Ar{}let gi=(()=>{class A{constructor(S,B,W,he,ut){this.router=S,this.injector=W,this.preloadingStrategy=he,this.loader=ut}setUpPreloading(){this.subscription=this.router.events.pipe((0,Me.h)(S=>S instanceof ki),(0,Ge.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,B){const W=[];for(const he of B){he.providers&&!he._injector&&(he._injector=(0,m.MMx)(he.providers,S,`Route: ${he.path}`));const ut=he._injector??S,et=he._loadedInjector??ut;he.loadChildren&&!he._loadedRoutes&&void 0===he.canLoad||he.loadComponent&&!he._loadedComponent?W.push(this.preloadConfig(ut,he)):(he.children||he._loadedRoutes)&&W.push(this.processRoutes(et,he.children??he._loadedRoutes))}return(0,b.D)(W).pipe((0,it.J)())}preloadConfig(S,B){return this.preloadingStrategy.preload(B,()=>{let W;W=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(S,B):(0,E.of)(null);const he=W.pipe((0,_e.z)(ut=>null===ut?(0,E.of)(void 0):(B._loadedRoutes=ut.routes,B._loadedInjector=ut.injector,this.processRoutes(ut.injector??S,ut.routes))));if(B.loadComponent&&!B._loadedComponent){const ut=this.loader.loadComponent(B);return(0,b.D)([he,ut]).pipe((0,it.J)())}return he})}}return A.\u0275fac=function(S){return new(S||A)(m.LFG(ks),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Ar),m.LFG(Mc))},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const pl=new m.OlP("");let $i=(()=>{class A{constructor(S,B,W={}){this.router=S,this.viewportScroller=B,this.options=W,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},W.scrollPositionRestoration=W.scrollPositionRestoration||"disabled",W.anchorScrolling=W.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(S=>{S instanceof ds?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof ki&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.router.parseUrl(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(S=>{S instanceof It&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,B){this.router.triggerEvent(new It(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(S){m.$Z()},A.\u0275prov=m.Yz7({token:A,factory:A.\u0275fac}),A})();function Hs(A,x){return{\u0275kind:A,\u0275providers:x}}function Bo(A){return[{provide:ai,multi:!0,useValue:A}]}function Fa(){const A=(0,m.f3M)(m.zs3);return x=>{const S=A.get(m.z2F);if(x!==S.components[0])return;const B=A.get(ks),W=A.get(ps);1===A.get(xl)&&B.initialNavigation(),A.get(Vo,null,m.XFs.Optional)?.setUpPreloading(),A.get(pl,null,m.XFs.Optional)?.init(),B.resetRootComponentType(S.componentTypes[0]),W.closed||(W.next(),W.unsubscribe())}}const ps=new m.OlP("",{factory:()=>new Je.x}),xl=new m.OlP("",{providedIn:"root",factory:()=>1});const Vo=new m.OlP("");function Nu(A){return Hs(0,[{provide:Vo,useExisting:gi},{provide:Ar,useExisting:A}])}const el=new m.OlP("ROUTER_FORROOT_GUARD"),rn=[$e.Ye,{provide:Tn,useClass:ui},{provide:ks,useFactory:Ja},ct,{provide:Wr,useFactory:function jn(A){return A.routerState.root},deps:[ks]},Mc];function Fu(){return new m.PXZ("Router",ks)}let Li=(()=>{class A{constructor(S){}static forRoot(S,B){return{ngModule:A,providers:[rn,[],Bo(S),{provide:el,useFactory:Lu,deps:[[ks,new m.FiY,new m.tp0]]},{provide:Cr,useValue:B||{}},B?.useHash?{provide:$e.S$,useClass:$e.Do}:{provide:$e.S$,useClass:$e.b0},{provide:pl,useFactory:()=>{const A=(0,m.f3M)(ks),x=(0,m.f3M)($e.EM),S=(0,m.f3M)(Cr);return S.scrollOffset&&x.setOffset(S.scrollOffset),new $i(A,x,S)}},B?.preloadingStrategy?Nu(B.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Fu},B?.initialNavigation?ms(B):[],[{provide:Uo,useFactory:Fa},{provide:m.tb,multi:!0,useExisting:Uo}]]}}static forChild(S){return{ngModule:A,providers:[Bo(S)]}}}return A.\u0275fac=function(S){return new(S||A)(m.LFG(el,8))},A.\u0275mod=m.oAB({type:A}),A.\u0275inj=m.cJS({imports:[fn]}),A})();function Lu(A){return"guarded"}function ms(A){return["disabled"===A.initialNavigation?Hs(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const x=(0,m.f3M)(ks);return()=>{x.setUpLocationChangeListener()}}},{provide:xl,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?Hs(2,[{provide:xl,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:x=>{const S=x.get($e.V_,Promise.resolve());let B=!1;return()=>S.then(()=>new Promise(he=>{const ut=x.get(ks),et=x.get(ps);(function W(he){x.get(ks).events.pipe((0,Me.h)(et=>et instanceof ki||et instanceof $s||et instanceof Ki),(0,Ft.U)(et=>et instanceof ki||et instanceof $s&&(0===et.code||1===et.code)&&null),(0,Me.h)(et=>null!==et),(0,Oe.q)(1)).subscribe(()=>{he()})})(()=>{he(!0),B=!0}),ut.afterPreactivation=()=>(he(!0),B||et.closed?(0,E.of)(void 0):et),ut.initialNavigation()}))}}]).\u0275providers:[]]}const Uo=new m.OlP("")},3942:(hn,ft,D)=>{D.d(ft,{Z:()=>Re});var m=D(2090),b=D(4859),E=D(9681),M=D(1877);class de{constructor(Ye,Je){this._delegate=Ye,this.firebase=Je,(0,E._addComponent)(Ye,new b.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,E.deleteApp)(this._delegate)))}_getService(Ye,Je=E._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const Ft=this._delegate.container.getProvider(Ye);return!Ft.isInitialized()&&"EXPLICIT"===(null===($e=Ft.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&Ft.initialize(),Ft.getImmediate({identifier:Je})}_removeServiceInstance(Ye,Je=E._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Je)}_addComponent(Ye){(0,E._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,E._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Fe=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function pe(){const dt=function re(dt){const Ye={},Je={__esModule:!0,initializeApp:function rt(_e,fe={}){const Ge=E.initializeApp(_e,fe);if((0,m.r3)(Ye,Ge.name))return Ye[Ge.name];const Se=new dt(Ge,Je);return Ye[Ge.name]=Se,Se},app:Ft,registerVersion:E.registerVersion,setLogLevel:E.setLogLevel,onLog:E.onLog,apps:null,SDK_VERSION:E.SDK_VERSION,INTERNAL:{registerComponent:function ae(_e){const fe=_e.name,Ge=fe.replace("-compat","");if(E._registerComponent(_e)&&"PUBLIC"===_e.type){const Se=(Ke=Ft())=>{if("function"!=typeof Ke[Ge])throw Fe.create("invalid-app-argument",{appName:fe});return Ke[Ge]()};void 0!==_e.serviceProps&&(0,m.ZB)(Se,_e.serviceProps),Je[Ge]=Se,dt.prototype[Ge]=function(...Ke){return this._getService.bind(this,fe).apply(this,_e.multipleInstances?Ke:[])}}return"PUBLIC"===_e.type?Je[Ge]:null},removeApp:function $e(_e){delete Ye[_e]},useAsService:function Me(_e,fe){return"serverAuth"===fe?null:fe},modularAPIs:E}};function Ft(_e){if(!(0,m.r3)(Ye,_e=_e||E._DEFAULT_ENTRY_NAME))throw Fe.create("no-app",{appName:_e});return Ye[_e]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function Oe(){return Object.keys(Ye).map(_e=>Ye[_e])}}),Ft.App=dt,Je}(de);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Ye(Je){(0,m.ZB)(dt,Je)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),dt}(),se=new M.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=X;!function ze(dt){(0,E.registerVersion)("@firebase/app-compat","0.1.39",dt)}()},9681:(hn,ft,D)=>{D.r(ft),D.d(ft,{FirebaseError:()=>M.ZR,SDK_VERSION:()=>Pn,_DEFAULT_ENTRY_NAME:()=>an,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>Ce,_apps:()=>at,_clearComponents:()=>Ct,_components:()=>it,_getProvider:()=>xe,_registerComponent:()=>st,_removeServiceInstance:()=>ve,deleteApp:()=>ci,getApp:()=>xn,getApps:()=>ii,initializeApp:()=>Vn,onLog:()=>ht,registerVersion:()=>Fn,setLogLevel:()=>j});var m=D(5861),b=D(4859),E=D(1877),M=D(2090),de=D(8766);class be{constructor(Ue){this.container=Ue}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function Fe(Tt){return"VERSION"===Tt.getComponent()?.type}(je)){const Ae=je.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(je=>je).join(" ")}}const re="@firebase/app",X=new E.Yd("@firebase/app"),an="[DEFAULT]",ne={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,it=new Map;function Bt(Tt,Ue){try{Tt.container.addComponent(Ue)}catch(je){X.debug(`Component ${Ue.name} failed to register with FirebaseApp ${Tt.name}`,je)}}function Ce(Tt,Ue){Tt.container.addOrOverwriteComponent(Ue)}function st(Tt){const Ue=Tt.name;if(it.has(Ue))return X.debug(`There were multiple attempts to register component ${Ue}.`),!1;it.set(Ue,Tt);for(const je of at.values())Bt(je,Tt);return!0}function xe(Tt,Ue){const je=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),Tt.container.getProvider(Ue)}function ve(Tt,Ue,je=an){xe(Tt,Ue).clearInstance(je)}function Ct(){it.clear()}const zt=new M.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class An{constructor(Ue,je,Ae){this._isDeleted=!1,this._options=Object.assign({},Ue),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new b.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ue){this._isDeleted=Ue}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Pn="9.14.0";function Vn(Tt,Ue={}){let je=Tt;"object"!=typeof Ue&&(Ue={name:Ue});const Ae=Object.assign({name:an,automaticDataCollectionEnabled:!1},Ue),pt=Ae.name;if("string"!=typeof pt||!pt)throw zt.create("bad-app-name",{appName:String(pt)});if(je||(je=(0,M.aH)()),!je)throw zt.create("no-options");const Rt=at.get(pt);if(Rt){if((0,M.vZ)(je,Rt.options)&&(0,M.vZ)(Ae,Rt.config))return Rt;throw zt.create("duplicate-app",{appName:pt})}const ke=new b.H0(pt);for(const bt of it.values())ke.addComponent(bt);const He=new An(je,Ae,ke);return at.set(pt,He),He}function xn(Tt=an){const Ue=at.get(Tt);if(!Ue&&Tt===an)return Vn();if(!Ue)throw zt.create("no-app",{appName:Tt});return Ue}function ii(){return Array.from(at.values())}function ci(Tt){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.Z)(function*(Tt){const Ue=Tt.name;at.has(Ue)&&(at.delete(Ue),yield Promise.all(Tt.container.getProviders().map(je=>je.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function Fn(Tt,Ue,je){var Ae;let pt=null!==(Ae=ne[Tt])&&void 0!==Ae?Ae:Tt;je&&(pt+=`-${je}`);const Rt=pt.match(/\s|\//),ke=Ue.match(/\s|\//);if(Rt||ke){const He=[`Unable to register library "${pt}" with version "${Ue}":`];return Rt&&He.push(`library name "${pt}" contains illegal characters (whitespace or "/")`),Rt&&ke&&He.push("and"),ke&&He.push(`version name "${Ue}" contains illegal characters (whitespace or "/")`),void X.warn(He.join(" "))}st(new b.wA(`${pt}-version`,()=>({library:pt,version:Ue}),"VERSION"))}function ht(Tt,Ue){if(null!==Tt&&"function"!=typeof Tt)throw zt.create("invalid-log-argument");(0,E.Am)(Tt,Ue)}function j(Tt){(0,E.Ub)(Tt)}const We="firebase-heartbeat-store";let De=null;function z(){return De||(De=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(Tt,Ue)=>{0===Ue&&Tt.createObjectStore(We)}}).catch(Tt=>{throw zt.create("idb-open",{originalErrorMessage:Tt.message})})),De}function qe(){return(qe=(0,m.Z)(function*(Tt){var Ue;try{return(yield z()).transaction(We).objectStore(We).get(yn(Tt))}catch(je){if(je instanceof M.ZR)X.warn(je.message);else{const Ae=zt.create("idb-get",{originalErrorMessage:null===(Ue=je)||void 0===Ue?void 0:Ue.message});X.warn(Ae.message)}}})).apply(this,arguments)}function mt(Tt,Ue){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(Tt,Ue){var je;try{const pt=(yield z()).transaction(We,"readwrite");return yield pt.objectStore(We).put(Ue,yn(Tt)),pt.done}catch(Ae){if(Ae instanceof M.ZR)X.warn(Ae.message);else{const pt=zt.create("idb-set",{originalErrorMessage:null===(je=Ae)||void 0===je?void 0:je.message});X.warn(pt.message)}}})).apply(this,arguments)}function yn(Tt){return`${Tt.name}!${Tt.options.appId}`}class Wn{constructor(Ue){this.container=Ue,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new Nt(je),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var Ue=this;return(0,m.Z)(function*(){const Ae=Ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pt=Tn();if(null===Ue._heartbeatsCache&&(Ue._heartbeatsCache=yield Ue._heartbeatsCachePromise),Ue._heartbeatsCache.lastSentHeartbeatDate!==pt&&!Ue._heartbeatsCache.heartbeats.some(Rt=>Rt.date===pt))return Ue._heartbeatsCache.heartbeats.push({date:pt,agent:Ae}),Ue._heartbeatsCache.heartbeats=Ue._heartbeatsCache.heartbeats.filter(Rt=>{const ke=new Date(Rt.date).valueOf();return Date.now()-ke<=2592e6}),Ue._storage.overwrite(Ue._heartbeatsCache)})()}getHeartbeatsHeader(){var Ue=this;return(0,m.Z)(function*(){if(null===Ue._heartbeatsCache&&(yield Ue._heartbeatsCachePromise),null===Ue._heartbeatsCache||0===Ue._heartbeatsCache.heartbeats.length)return"";const je=Tn(),{heartbeatsToSend:Ae,unsentEntries:pt}=function ui(Tt,Ue=1024){const je=[];let Ae=Tt.slice();for(const pt of Tt){const Rt=je.find(ke=>ke.agent===pt.agent);if(Rt){if(Rt.dates.push(pt.date),_t(je)>Ue){Rt.dates.pop();break}}else if(je.push({agent:pt.agent,dates:[pt.date]}),_t(je)>Ue){je.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:je,unsentEntries:Ae}}(Ue._heartbeatsCache.heartbeats),Rt=(0,M.L)(JSON.stringify({version:2,heartbeats:Ae}));return Ue._heartbeatsCache.lastSentHeartbeatDate=je,pt.length>0?(Ue._heartbeatsCache.heartbeats=pt,yield Ue._storage.overwrite(Ue._heartbeatsCache)):(Ue._heartbeatsCache.heartbeats=[],Ue._storage.overwrite(Ue._heartbeatsCache)),Rt})()}}function Tn(){return(new Date).toISOString().substring(0,10)}class Nt{constructor(Ue){this.app=Ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,M.hl)()&&(0,M.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ue=this;return(0,m.Z)(function*(){return(yield Ue._canUseIndexedDBPromise)&&(yield function ee(Tt){return qe.apply(this,arguments)}(Ue.app))||{heartbeats:[]}})()}overwrite(Ue){var je=this;return(0,m.Z)(function*(){var Ae;if(yield je._canUseIndexedDBPromise){const Rt=yield je.read();return mt(je.app,{lastSentHeartbeatDate:null!==(Ae=Ue.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Rt.lastSentHeartbeatDate,heartbeats:Ue.heartbeats})}})()}add(Ue){var je=this;return(0,m.Z)(function*(){var Ae;if(yield je._canUseIndexedDBPromise){const Rt=yield je.read();return mt(je.app,{lastSentHeartbeatDate:null!==(Ae=Ue.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Rt.lastSentHeartbeatDate,heartbeats:[...Rt.heartbeats,...Ue.heartbeats]})}})()}}function _t(Tt){return(0,M.L)(JSON.stringify({version:2,heartbeats:Tt})).length}!function ot(Tt){st(new b.wA("platform-logger",Ue=>new be(Ue),"PRIVATE")),st(new b.wA("heartbeat",Ue=>new Wn(Ue),"PRIVATE")),Fn(re,"0.8.4",Tt),Fn(re,"0.8.4","esm2017"),Fn("fire-js","")}("")},4859:(hn,ft,D)=>{D.d(ft,{H0:()=>re,wA:()=>E,zt:()=>de});var m=D(5861),b=D(2090);class E{constructor(X,se,ue){this.name=X,this.instanceFactory=se,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const M="[DEFAULT]";class de{constructor(X,se){this.name=X,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const se=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(se)){const ue=new b.BH;if(this.instancesDeferred.set(se,ue),this.isInitialized(se)||this.shouldAutoInitialize())try{const Te=this.getOrInitializeService({instanceIdentifier:se});Te&&ue.resolve(Te)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(X){var se;const ue=this.normalizeInstanceIdentifier(X?.identifier),Te=null!==(se=X?.optional)&&void 0!==se&&se;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(ze){if(Te)return null;throw ze}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Fe(pe){return"EAGER"===pe.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:M})}catch{}for(const[se,ue]of this.instancesDeferred.entries()){const Te=this.normalizeInstanceIdentifier(se);try{const ze=this.getOrInitializeService({instanceIdentifier:Te});ue.resolve(ze)}catch{}}}}clearInstance(X=M){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,m.Z)(function*(){const se=Array.from(X.instances.values());yield Promise.all([...se.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...se.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=M){return this.instances.has(X)}getOptions(X=M){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:se={}}=X,ue=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Te=this.getOrInitializeService({instanceIdentifier:ue,options:se});for(const[ze,Re]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(ze)&&Re.resolve(Te);return Te}onInit(X,se){var ue;const Te=this.normalizeInstanceIdentifier(se),ze=null!==(ue=this.onInitCallbacks.get(Te))&&void 0!==ue?ue:new Set;ze.add(X),this.onInitCallbacks.set(Te,ze);const Re=this.instances.get(Te);return Re&&X(Re,Te),()=>{ze.delete(X)}}invokeOnInitCallbacks(X,se){const ue=this.onInitCallbacks.get(se);if(ue)for(const Te of ue)try{Te(X,se)}catch{}}getOrInitializeService({instanceIdentifier:X,options:se={}}){let ue=this.instances.get(X);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=X,pe===M?void 0:pe),options:se}),this.instances.set(X,ue),this.instancesOptions.set(X,se),this.invokeOnInitCallbacks(ue,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,ue)}catch{}var pe;return ue||null}normalizeInstanceIdentifier(X=M){return this.component?this.component.multipleInstances?X:M:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const se=this.getProvider(X.name);if(se.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);se.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const se=new de(X,this);return this.providers.set(X,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(hn,ft,D)=>{D.d(ft,{Am:()=>pe,Ub:()=>re,Yd:()=>Fe,in:()=>b});const m=[];var b=(()=>{return(X=b||(b={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",b;var X})();const E={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},M=b.INFO,de={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},be=(X,se,...ue)=>{if(se<X.logLevel)return;const Te=(new Date).toISOString(),ze=de[se];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[ze](`[${Te}]  ${X.name}:`,...ue)};class Fe{constructor(se){this.name=se,this._logLevel=M,this._logHandler=be,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in b))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?E[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...se),this._logHandler(this,b.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...se),this._logHandler(this,b.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,b.INFO,...se),this._logHandler(this,b.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,b.WARN,...se),this._logHandler(this,b.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...se),this._logHandler(this,b.ERROR,...se)}}function re(X){m.forEach(se=>{se.setLogLevel(X)})}function pe(X,se){for(const ue of m){let Te=null;se&&se.level&&(Te=E[se.level]),ue.userLogHandler=null===X?null:(ze,Re,...dt)=>{const Ye=dt.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch{return null}}).filter(Je=>Je).join(" ");Re>=(Te??ze.logLevel)&&X({level:b[Re].toLowerCase(),message:Ye,args:dt,type:ze.name})}}}},9653:(hn,ft,D)=>{D.d(ft,{Y$:()=>Ie,yh:()=>mt,CK:()=>Ws,Aw:()=>$r,cr:()=>hs,qC:()=>xn,PH:()=>ze,ZF:()=>Hn,Lq:()=>Rr,P1:()=>kt,on:()=>Ks,Ky:()=>Re});var m=D(4650),b=D(1135),E=D(9751),M=D(7579),de=D(233),be=D(5363),Fe=D(1365),re=D(5026),pe=D(4004),se=D(1884);const ue={};function ze(lt,en){if(ue[lt]=(ue[lt]||0)+1,"function"==typeof en)return Ye(lt,(...Yt)=>({...en(...Yt),type:lt}));switch(en?en._as:"empty"){case"empty":return Ye(lt,()=>({type:lt}));case"props":return Ye(lt,Yt=>({...Yt,type:lt}));default:throw new Error("Unexpected config.")}}function Re(){return{_as:"props",_p:void 0}}function Ye(lt,en){return Object.defineProperty(en,"type",{value:lt,writable:!1})}const ae="@ngrx/store/init";let Me=(()=>{class lt extends b.X{constructor(){super({type:ae})}next(jt){if("function"==typeof jt)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof jt>"u")throw new TypeError("Actions must be objects");if(typeof jt.type>"u")throw new TypeError("Actions must have a type property");super.next(jt)}complete(){}ngOnDestroy(){super.complete()}}return lt.\u0275fac=function(jt){return new(jt||lt)},lt.\u0275prov=m.Yz7({token:lt,factory:lt.\u0275fac}),lt})();const _e=[Me],fe=new m.OlP("@ngrx/store Internal Root Guard"),Ge=new m.OlP("@ngrx/store Internal Initial State"),Se=new m.OlP("@ngrx/store Initial State"),Ke=new m.OlP("@ngrx/store Reducer Factory"),St=new m.OlP("@ngrx/store Internal Reducer Factory Provider"),yt=new m.OlP("@ngrx/store Initial Reducers"),Qt=new m.OlP("@ngrx/store Internal Initial Reducers"),Jt=new m.OlP("@ngrx/store Store Features"),Sn=new m.OlP("@ngrx/store Internal Store Reducers"),xt=new m.OlP("@ngrx/store Internal Feature Reducers"),an=new m.OlP("@ngrx/store Internal Feature Configs"),ne=new m.OlP("@ngrx/store Internal Store Features"),at=new m.OlP("@ngrx/store Internal Feature Reducers Token"),it=new m.OlP("@ngrx/store Feature Reducers"),Bt=new m.OlP("@ngrx/store User Provided Meta Reducers"),Ce=new m.OlP("@ngrx/store Meta Reducers"),st=new m.OlP("@ngrx/store Internal Resolved Meta Reducers"),xe=new m.OlP("@ngrx/store User Runtime Checks Config"),ve=new m.OlP("@ngrx/store Internal User Runtime Checks Config"),Ct=new m.OlP("@ngrx/store Internal Runtime Checks"),Lt=new m.OlP("@ngrx/store Check if Action types are unique");function Pn(lt,en={}){const jt=Object.keys(lt),Yt={};for(let Mn=0;Mn<jt.length;Mn++){const It=jt[Mn];"function"==typeof lt[It]&&(Yt[It]=lt[It])}const Nn=Object.keys(Yt);return function(It,Dt){It=void 0===It?en:It;let Vt=!1;const ln={};for(let gn=0;gn<Nn.length;gn++){const Ln=Nn[gn],ir=It[Ln],Ui=(0,Yt[Ln])(ir,Dt);ln[Ln]=Ui,Vt=Vt||Ui!==ir}return Vt?ln:It}}function xn(...lt){return function(en){if(0===lt.length)return en;const jt=lt[lt.length-1];return lt.slice(0,-1).reduceRight((Nn,Mn)=>Mn(Nn),jt(en))}}function ii(lt,en){return Array.isArray(en)&&en.length>0&&(lt=xn.apply(null,[...en,lt])),(jt,Yt)=>{const Nn=lt(jt);return(Mn,It)=>Nn(Mn=void 0===Mn?Yt:Mn,It)}}new m.OlP("@ngrx/store Root Store Provider"),new m.OlP("@ngrx/store Feature State Provider");class Cn extends E.y{}class Fn extends Me{}let j=(()=>{class lt extends b.X{constructor(jt,Yt,Nn,Mn){super(Mn(Nn,Yt)),this.dispatcher=jt,this.initialState=Yt,this.reducers=Nn,this.reducerFactory=Mn}get currentReducers(){return this.reducers}addFeature(jt){this.addFeatures([jt])}addFeatures(jt){const Yt=jt.reduce((Nn,{reducers:Mn,reducerFactory:It,metaReducers:Dt,initialState:Vt,key:ln})=>{const gn="function"==typeof Mn?function ci(lt){const en=Array.isArray(lt)&&lt.length>0?xn(...lt):jt=>jt;return(jt,Yt)=>(jt=en(jt),(Nn,Mn)=>jt(Nn=void 0===Nn?Yt:Nn,Mn))}(Dt)(Mn,Vt):ii(It,Dt)(Mn,Vt);return Nn[ln]=gn,Nn},{});this.addReducers(Yt)}removeFeature(jt){this.removeFeatures([jt])}removeFeatures(jt){this.removeReducers(jt.map(Yt=>Yt.key))}addReducer(jt,Yt){this.addReducers({[jt]:Yt})}addReducers(jt){this.reducers={...this.reducers,...jt},this.updateReducers(Object.keys(jt))}removeReducer(jt){this.removeReducers([jt])}removeReducers(jt){jt.forEach(Yt=>{this.reducers=function Vn(lt,en){return Object.keys(lt).filter(jt=>jt!==en).reduce((jt,Yt)=>Object.assign(jt,{[Yt]:lt[Yt]}),{})}(this.reducers,Yt)}),this.updateReducers(jt)}updateReducers(jt){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:jt})}ngOnDestroy(){this.complete()}}return lt.\u0275fac=function(jt){return new(jt||lt)(m.LFG(Fn),m.LFG(Se),m.LFG(yt),m.LFG(Ke))},lt.\u0275prov=m.Yz7({token:lt,factory:lt.\u0275fac}),lt})();const Z=[j,{provide:Cn,useExisting:j},{provide:Fn,useExisting:Me}];let Ie=(()=>{class lt extends M.x{ngOnDestroy(){this.complete()}}return lt.\u0275fac=function(){let en;return function(Yt){return(en||(en=m.n5z(lt)))(Yt||lt)}}(),lt.\u0275prov=m.Yz7({token:lt,factory:lt.\u0275fac}),lt})();const We=[Ie];class De extends E.y{}let z=(()=>{class lt extends b.X{constructor(jt,Yt,Nn,Mn){super(Mn);const ln=jt.pipe((0,be.Q)(de.N)).pipe((0,Fe.M)(Yt)).pipe((0,re.R)(ee,{state:Mn}));this.stateSubscription=ln.subscribe(({state:gn,action:Ln})=>{this.next(gn),Nn.next(Ln)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return lt.INIT=ae,lt.\u0275fac=function(jt){return new(jt||lt)(m.LFG(Me),m.LFG(Cn),m.LFG(Ie),m.LFG(Se))},lt.\u0275prov=m.Yz7({token:lt,factory:lt.\u0275fac}),lt})();function ee(lt={state:void 0},[en,jt]){const{state:Yt}=lt;return{state:jt(Yt,en),action:en}}const qe=[z,{provide:De,useExisting:z}];let mt=(()=>{class lt extends E.y{constructor(jt,Yt,Nn){super(),this.actionsObserver=Yt,this.reducerManager=Nn,this.source=jt}select(jt,...Yt){return yn.call(null,jt,...Yt)(this)}lift(jt){const Yt=new lt(this,this.actionsObserver,this.reducerManager);return Yt.operator=jt,Yt}dispatch(jt){this.actionsObserver.next(jt)}next(jt){this.actionsObserver.next(jt)}error(jt){this.actionsObserver.error(jt)}complete(){this.actionsObserver.complete()}addReducer(jt,Yt){this.reducerManager.addReducer(jt,Yt)}removeReducer(jt){this.reducerManager.removeReducer(jt)}}return lt.\u0275fac=function(jt){return new(jt||lt)(m.LFG(De),m.LFG(Me),m.LFG(j))},lt.\u0275prov=m.Yz7({token:lt,factory:lt.\u0275fac}),lt})();const Pt=[mt];function yn(lt,en,...jt){return function(Nn){let Mn;if("string"==typeof lt){const It=[en,...jt].filter(Boolean);Mn=Nn.pipe(function X(...lt){const en=lt.length;if(0===en)throw new Error("list of properties cannot be empty.");return(0,pe.U)(jt=>{let Yt=jt;for(let Nn=0;Nn<en;Nn++){const Mn=Yt?.[lt[Nn]];if(!(typeof Mn<"u"))return;Yt=Mn}return Yt})}(lt,...It))}else{if("function"!=typeof lt)throw new TypeError(`Unexpected type '${typeof lt}' in select operator, expected 'string' or 'function'`);Mn=Nn.pipe((0,pe.U)(It=>lt(It,en)))}return Mn.pipe((0,se.x)())}}const qn="https://ngrx.io/guide/store/configuration/runtime-checks";function un(lt){return void 0===lt}function Wn(lt){return null===lt}function Tn(lt){return Array.isArray(lt)}function ot(lt){return"object"==typeof lt&&null!==lt}function je(lt){return"function"==typeof lt}function bt(lt,en){return lt===en}function Xe(lt,en,jt){for(let Yt=0;Yt<lt.length;Yt++)if(!jt(lt[Yt],en[Yt]))return!0;return!1}function Le(lt,en=bt,jt=bt){let Mn,Yt=null,Nn=null;return{memoized:function ln(){if(void 0!==Mn)return Mn.result;if(!Yt)return Nn=lt.apply(null,arguments),Yt=arguments,Nn;if(!Xe(arguments,Yt,en))return Nn;const gn=lt.apply(null,arguments);return Yt=arguments,jt(Nn,gn)?Nn:(Nn=gn,gn)},reset:function It(){Yt=null,Nn=null},setResult:function Dt(gn){Mn={result:gn}},clearResult:function Vt(){Mn=void 0}}}function kt(...lt){return function zn(lt,en={stateFn:pn}){return function(...jt){let Yt=jt;if(Array.isArray(Yt[0])){const[gn,...Ln]=Yt;Yt=[...gn,...Ln]}const Nn=Yt.slice(0,Yt.length-1),Mn=Yt[Yt.length-1],It=Nn.filter(gn=>gn.release&&"function"==typeof gn.release),Dt=lt(function(...gn){return Mn.apply(null,gn)}),Vt=Le(function(gn,Ln){return en.stateFn.apply(null,[gn,Nn,Ln,Dt])});return Object.assign(Vt.memoized,{release:function ln(){Vt.reset(),Dt.reset(),It.forEach(gn=>gn.release())},projector:Dt.memoized,setResult:Vt.setResult,clearResult:Vt.clearResult})}}(Le)(...lt)}function pn(lt,en,jt,Yt){if(void 0===jt){const Mn=en.map(It=>It(lt));return Yt.memoized.apply(null,Mn)}const Nn=en.map(Mn=>Mn(lt,jt));return Yt.memoized.apply(null,[...Nn,jt])}function Hn(lt){return kt(en=>{const jt=en[lt];return(0,m.X6Q)()&&!(lt in en)&&console.warn(`@ngrx/store: The feature name "${lt}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${lt}', ...) or StoreModule.forFeature('${lt}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),jt},en=>en)}function At(lt,en){return en instanceof m.OlP?lt.get(en):en}function Ut(lt,en,jt){return jt.map((Yt,Nn)=>{if(en[Nn]instanceof m.OlP){const Mn=lt.get(en[Nn]);return{key:Yt.key,reducerFactory:Mn.reducerFactory?Mn.reducerFactory:Pn,metaReducers:Mn.metaReducers?Mn.metaReducers:[],initialState:Mn.initialState}}return Yt})}function In(lt,en){return en.map(Yt=>Yt instanceof m.OlP?lt.get(Yt):Yt)}function li(lt){return"function"==typeof lt?lt():lt}function pi(lt,en){return lt.concat(en)}function Ri(lt){if(lt)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Zn(lt){Object.freeze(lt);const en=je(lt);return Object.getOwnPropertyNames(lt).forEach(jt=>{if(!jt.startsWith("\u0275")&&function pt(lt,en){return Object.prototype.hasOwnProperty.call(lt,en)}(lt,jt)&&(!en||"caller"!==jt&&"callee"!==jt&&"arguments"!==jt)){const Yt=lt[jt];(ot(Yt)||je(Yt))&&!Object.isFrozen(Yt)&&Zn(Yt)}}),lt}function ts(lt,en=[]){return(un(lt)||Wn(lt))&&0===en.length?{path:["root"],value:lt}:Object.keys(lt).reduce((Yt,Nn)=>{if(Yt)return Yt;const Mn=lt[Nn];return function Ae(lt){return je(lt)&&lt.hasOwnProperty("\u0275cmp")}(Mn)?Yt:!(un(Mn)||Wn(Mn)||function _t(lt){return"number"==typeof lt}(Mn)||function Nt(lt){return"boolean"==typeof lt}(Mn)||function ui(lt){return"string"==typeof lt}(Mn)||Tn(Mn))&&(function Ue(lt){if(!function Tt(lt){return ot(lt)&&!Tn(lt)}(lt))return!1;const en=Object.getPrototypeOf(lt);return en===Object.prototype||null===en}(Mn)?ts(Mn,[...en,Nn]):{path:[...en,Nn],value:Mn})},!1)}function As(lt,en){if(!1===lt)return;const jt=lt.path.join("."),Yt=new Error(`Detected unserializable ${en} at "${jt}". ${qn}#strict${en}serializability`);throw Yt.value=lt.value,Yt.unserializablePath=jt,Yt}function zi(lt){return(0,m.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...lt}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function us({strictActionSerializability:lt,strictStateSerializability:en}){return jt=>lt||en?function Tr(lt,en){return function(jt,Yt){en.action(Yt)&&As(ts(Yt),"action");const Nn=lt(jt,Yt);return en.state()&&As(ts(Nn),"state"),Nn}}(jt,{action:Yt=>lt&&!fr(Yt),state:()=>en}):jt}function Sr({strictActionImmutability:lt,strictStateImmutability:en}){return jt=>lt||en?function Hr(lt,en){return function(jt,Yt){const Nn=en.action(Yt)?Zn(Yt):Yt,Mn=lt(jt,Nn);return en.state()?Zn(Mn):Mn}}(jt,{action:Yt=>lt&&!fr(Yt),state:()=>en}):jt}function fr(lt){return lt.type.startsWith("@ngrx")}function tr({strictActionWithinNgZone:lt}){return en=>lt?function jr(lt,en){return function(jt,Yt){if(en.action(Yt)&&!m.R0b.isInAngularZone())throw new Error(`Action '${Yt.type}' running outside NgZone. ${qn}#strictactionwithinngzone`);return lt(jt,Yt)}}(en,{action:jt=>lt&&!fr(jt)}):en}function ns(lt){return[{provide:ve,useValue:lt},{provide:xe,useFactory:Js,deps:[ve]},{provide:Ct,deps:[xe],useFactory:zi},{provide:Ce,multi:!0,deps:[Ct],useFactory:Sr},{provide:Ce,multi:!0,deps:[Ct],useFactory:us},{provide:Ce,multi:!0,deps:[Ct],useFactory:tr}]}function Ti(){return[{provide:Lt,multi:!0,deps:[Ct],useFactory:zr}]}function Js(lt){return lt}function zr(lt){if(!lt.strictActionTypeUniqueness)return;const en=Object.entries(ue).filter(([,jt])=>jt>1).map(([jt])=>jt);if(en.length)throw new Error(`Action types are registered more than once, ${en.map(jt=>`"${jt}"`).join(", ")}. ${qn}#strictactiontypeuniqueness`)}function rs(lt,en){return[{provide:fe,useFactory:Ri,deps:[[mt,new m.FiY,new m.tp0]]},{provide:Ge,useValue:en.initialState},{provide:Se,useFactory:li,deps:[Ge]},{provide:Qt,useValue:lt},{provide:Sn,useExisting:lt instanceof m.OlP?lt:Qt},{provide:yt,deps:[m.zs3,Qt,[new m.tBr(Sn)]],useFactory:At},{provide:Bt,useValue:en.metaReducers?en.metaReducers:[]},{provide:st,deps:[Ce,Bt],useFactory:pi},{provide:St,useValue:en.reducerFactory?en.reducerFactory:Pn},{provide:Ke,deps:[St,st],useFactory:ii},_e,Z,We,qe,Pt,ns(en.runtimeChecks),Ti()]}function Ki(lt,en,jt={}){return[{provide:an,multi:!0,useValue:lt instanceof Object?{}:jt},{provide:Jt,multi:!0,useValue:{key:lt instanceof Object?lt.name:lt,reducerFactory:jt instanceof m.OlP||!jt.reducerFactory?Pn:jt.reducerFactory,metaReducers:jt instanceof m.OlP||!jt.metaReducers?[]:jt.metaReducers,initialState:jt instanceof m.OlP||!jt.initialState?void 0:jt.initialState}},{provide:ne,deps:[m.zs3,an,Jt],useFactory:Ut},{provide:xt,multi:!0,useValue:lt instanceof Object?lt.reducer:en},{provide:at,multi:!0,useExisting:en instanceof m.OlP?en:xt},{provide:it,multi:!0,deps:[m.zs3,xt,[new m.tBr(at)]],useFactory:In},Ti()]}let hs=(()=>{class lt{constructor(jt,Yt,Nn,Mn,It,Dt){}}return lt.\u0275fac=function(jt){return new(jt||lt)(m.LFG(Me),m.LFG(Cn),m.LFG(Ie),m.LFG(mt),m.LFG(fe,8),m.LFG(Lt,8))},lt.\u0275mod=m.oAB({type:lt}),lt.\u0275inj=m.cJS({}),lt})(),Ws=(()=>{class lt{constructor(jt,Yt,Nn,Mn,It){this.features=jt,this.featureReducers=Yt,this.reducerManager=Nn;const Dt=jt.map((Vt,ln)=>{const Ln=Yt.shift()[ln];return{...Vt,reducers:Ln,initialState:li(Vt.initialState)}});Nn.addFeatures(Dt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return lt.\u0275fac=function(jt){return new(jt||lt)(m.LFG(ne),m.LFG(it),m.LFG(j),m.LFG(hs),m.LFG(Lt,8))},lt.\u0275mod=m.oAB({type:lt}),lt.\u0275inj=m.cJS({}),lt})(),$r=(()=>{class lt{static forRoot(jt,Yt={}){return{ngModule:hs,providers:[...rs(jt,Yt)]}}static forFeature(jt,Yt,Nn={}){return{ngModule:Ws,providers:[...Ki(jt,Yt,Nn)]}}}return lt.\u0275fac=function(jt){return new(jt||lt)},lt.\u0275mod=m.oAB({type:lt}),lt.\u0275inj=m.cJS({}),lt})();function Ks(...lt){return{reducer:lt.pop(),types:lt.map(Yt=>Yt.type)}}function Rr(lt,...en){const jt=new Map;for(const Yt of en)for(const Nn of Yt.types){const Mn=jt.get(Nn);jt.set(Nn,Mn?(Dt,Vt)=>Yt.reducer(Mn(Dt,Vt),Vt):Yt.reducer)}return function(Yt=lt,Nn){const Mn=jt.get(Nn.type);return Mn?Mn(Yt,Nn):Yt}}},6188:(hn,ft,D)=>{D.d(ft,{Zw:()=>ze,aw:()=>Sn,X$:()=>Jt,sK:()=>yt});var m=D(4650),b=D(9646),E=D(9751),M=D(576);function de(xt){return!!xt&&(xt instanceof E.y||(0,M.m)(xt.lift)&&(0,M.m)(xt.subscribe))}var be=D(4128),Fe=D(7272),re=D(9770),pe=D(5698),X=D(3151),se=D(4004),ue=D(4351),Te=D(3900);class ze{}let Re=(()=>{class xt extends ze{getTranslation(ne){return(0,b.of)({})}}return xt.\u0275fac=function(){let an;return function(at){return(an||(an=m.n5z(xt)))(at||xt)}}(),xt.\u0275prov=m.Yz7({token:xt,factory:xt.\u0275fac}),xt})();class dt{}let Ye=(()=>{class xt{handle(ne){return ne.key}}return xt.\u0275fac=function(ne){return new(ne||xt)},xt.\u0275prov=m.Yz7({token:xt,factory:xt.\u0275fac}),xt})();function Je(xt,an){if(xt===an)return!0;if(null===xt||null===an)return!1;if(xt!=xt&&an!=an)return!0;let it,Bt,Ce,ne=typeof xt;if(ne==typeof an&&"object"==ne){if(!Array.isArray(xt)){if(Array.isArray(an))return!1;for(Bt in Ce=Object.create(null),xt){if(!Je(xt[Bt],an[Bt]))return!1;Ce[Bt]=!0}for(Bt in an)if(!(Bt in Ce)&&typeof an[Bt]<"u")return!1;return!0}if(!Array.isArray(an))return!1;if((it=xt.length)==an.length){for(Bt=0;Bt<it;Bt++)if(!Je(xt[Bt],an[Bt]))return!1;return!0}}return!1}function $e(xt){return typeof xt<"u"&&null!==xt}function Ft(xt){return xt&&"object"==typeof xt&&!Array.isArray(xt)}function rt(xt,an){let ne=Object.assign({},xt);return Ft(xt)&&Ft(an)&&Object.keys(an).forEach(at=>{Ft(an[at])?at in xt?ne[at]=rt(xt[at],an[at]):Object.assign(ne,{[at]:an[at]}):Object.assign(ne,{[at]:an[at]})}),ne}class Oe{}let ae=(()=>{class xt extends Oe{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(ne,at){let it;return it="string"==typeof ne?this.interpolateString(ne,at):"function"==typeof ne?this.interpolateFunction(ne,at):ne,it}getValue(ne,at){let it="string"==typeof at?at.split("."):[at];at="";do{at+=it.shift(),!$e(ne)||!$e(ne[at])||"object"!=typeof ne[at]&&it.length?it.length?at+=".":ne=void 0:(ne=ne[at],at="")}while(it.length);return ne}interpolateFunction(ne,at){return ne(at)}interpolateString(ne,at){return at?ne.replace(this.templateMatcher,(it,Bt)=>{let Ce=this.getValue(at,Bt);return $e(Ce)?Ce:it}):ne}}return xt.\u0275fac=function(){let an;return function(at){return(an||(an=m.n5z(xt)))(at||xt)}}(),xt.\u0275prov=m.Yz7({token:xt,factory:xt.\u0275fac}),xt})();class Me{}let _e=(()=>{class xt extends Me{compile(ne,at){return ne}compileTranslations(ne,at){return ne}}return xt.\u0275fac=function(){let an;return function(at){return(an||(an=m.n5z(xt)))(at||xt)}}(),xt.\u0275prov=m.Yz7({token:xt,factory:xt.\u0275fac}),xt})();class fe{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new m.vpe,this.onLangChange=new m.vpe,this.onDefaultLangChange=new m.vpe}}const Ge=new m.OlP("USE_STORE"),Se=new m.OlP("USE_DEFAULT_LANG"),Ke=new m.OlP("DEFAULT_LANGUAGE"),St=new m.OlP("USE_EXTEND");let yt=(()=>{class xt{constructor(ne,at,it,Bt,Ce,st=!0,xe=!1,ve=!1,Ct){this.store=ne,this.currentLoader=at,this.compiler=it,this.parser=Bt,this.missingTranslationHandler=Ce,this.useDefaultLang=st,this.isolate=xe,this.extend=ve,this.pending=!1,this._onTranslationChange=new m.vpe,this._onLangChange=new m.vpe,this._onDefaultLangChange=new m.vpe,this._langs=[],this._translations={},this._translationRequests={},Ct&&this.setDefaultLang(Ct)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(ne){this.isolate?this._defaultLang=ne:this.store.defaultLang=ne}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(ne){this.isolate?this._currentLang=ne:this.store.currentLang=ne}get langs(){return this.isolate?this._langs:this.store.langs}set langs(ne){this.isolate?this._langs=ne:this.store.langs=ne}get translations(){return this.isolate?this._translations:this.store.translations}set translations(ne){this.isolate?this._translations=ne:this.store.translations=ne}setDefaultLang(ne){if(ne===this.defaultLang)return;let at=this.retrieveTranslations(ne);typeof at<"u"?(null==this.defaultLang&&(this.defaultLang=ne),at.pipe((0,pe.q)(1)).subscribe(it=>{this.changeDefaultLang(ne)})):this.changeDefaultLang(ne)}getDefaultLang(){return this.defaultLang}use(ne){if(ne===this.currentLang)return(0,b.of)(this.translations[ne]);let at=this.retrieveTranslations(ne);return typeof at<"u"?(this.currentLang||(this.currentLang=ne),at.pipe((0,pe.q)(1)).subscribe(it=>{this.changeLang(ne)}),at):(this.changeLang(ne),(0,b.of)(this.translations[ne]))}retrieveTranslations(ne){let at;return(typeof this.translations[ne]>"u"||this.extend)&&(this._translationRequests[ne]=this._translationRequests[ne]||this.getTranslation(ne),at=this._translationRequests[ne]),at}getTranslation(ne){this.pending=!0;const at=this.currentLoader.getTranslation(ne).pipe((0,X.d)(1),(0,pe.q)(1));return this.loadingTranslations=at.pipe((0,se.U)(it=>this.compiler.compileTranslations(it,ne)),(0,X.d)(1),(0,pe.q)(1)),this.loadingTranslations.subscribe({next:it=>{this.translations[ne]=this.extend&&this.translations[ne]?{...it,...this.translations[ne]}:it,this.updateLangs(),this.pending=!1},error:it=>{this.pending=!1}}),at}setTranslation(ne,at,it=!1){at=this.compiler.compileTranslations(at,ne),this.translations[ne]=(it||this.extend)&&this.translations[ne]?rt(this.translations[ne],at):at,this.updateLangs(),this.onTranslationChange.emit({lang:ne,translations:this.translations[ne]})}getLangs(){return this.langs}addLangs(ne){ne.forEach(at=>{-1===this.langs.indexOf(at)&&this.langs.push(at)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(ne,at,it){let Bt;if(at instanceof Array){let Ce={},st=!1;for(let xe of at)Ce[xe]=this.getParsedResult(ne,xe,it),de(Ce[xe])&&(st=!0);if(st){const xe=at.map(ve=>de(Ce[ve])?Ce[ve]:(0,b.of)(Ce[ve]));return(0,be.D)(xe).pipe((0,se.U)(ve=>{let Ct={};return ve.forEach((Lt,zt)=>{Ct[at[zt]]=Lt}),Ct}))}return Ce}if(ne&&(Bt=this.parser.interpolate(this.parser.getValue(ne,at),it)),typeof Bt>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Bt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],at),it)),typeof Bt>"u"){let Ce={key:at,translateService:this};typeof it<"u"&&(Ce.interpolateParams=it),Bt=this.missingTranslationHandler.handle(Ce)}return typeof Bt<"u"?Bt:at}get(ne,at){if(!$e(ne)||!ne.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,ue.b)(it=>de(it=this.getParsedResult(it,ne,at))?it:(0,b.of)(it)));{let it=this.getParsedResult(this.translations[this.currentLang],ne,at);return de(it)?it:(0,b.of)(it)}}getStreamOnTranslationChange(ne,at){if(!$e(ne)||!ne.length)throw new Error('Parameter "key" required');return(0,Fe.z)((0,re.P)(()=>this.get(ne,at)),this.onTranslationChange.pipe((0,Te.w)(it=>{const Bt=this.getParsedResult(it.translations,ne,at);return"function"==typeof Bt.subscribe?Bt:(0,b.of)(Bt)})))}stream(ne,at){if(!$e(ne)||!ne.length)throw new Error('Parameter "key" required');return(0,Fe.z)((0,re.P)(()=>this.get(ne,at)),this.onLangChange.pipe((0,Te.w)(it=>{const Bt=this.getParsedResult(it.translations,ne,at);return de(Bt)?Bt:(0,b.of)(Bt)})))}instant(ne,at){if(!$e(ne)||!ne.length)throw new Error('Parameter "key" required');let it=this.getParsedResult(this.translations[this.currentLang],ne,at);if(de(it)){if(ne instanceof Array){let Bt={};return ne.forEach((Ce,st)=>{Bt[ne[st]]=ne[st]}),Bt}return ne}return it}set(ne,at,it=this.currentLang){this.translations[it][ne]=this.compiler.compile(at,it),this.updateLangs(),this.onTranslationChange.emit({lang:it,translations:this.translations[it]})}changeLang(ne){this.currentLang=ne,this.onLangChange.emit({lang:ne,translations:this.translations[ne]}),null==this.defaultLang&&this.changeDefaultLang(ne)}changeDefaultLang(ne){this.defaultLang=ne,this.onDefaultLangChange.emit({lang:ne,translations:this.translations[ne]})}reloadLang(ne){return this.resetLang(ne),this.getTranslation(ne)}resetLang(ne){this._translationRequests[ne]=void 0,this.translations[ne]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ne=window.navigator.languages?window.navigator.languages[0]:null;return ne=ne||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof ne>"u"?void 0:(-1!==ne.indexOf("-")&&(ne=ne.split("-")[0]),-1!==ne.indexOf("_")&&(ne=ne.split("_")[0]),ne)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ne=window.navigator.languages?window.navigator.languages[0]:null;return ne=ne||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,ne}}return xt.\u0275fac=function(ne){return new(ne||xt)(m.LFG(fe),m.LFG(ze),m.LFG(Me),m.LFG(Oe),m.LFG(dt),m.LFG(Se),m.LFG(Ge),m.LFG(St),m.LFG(Ke))},xt.\u0275prov=m.Yz7({token:xt,factory:xt.\u0275fac}),xt})(),Jt=(()=>{class xt{constructor(ne,at){this.translate=ne,this._ref=at,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(ne,at,it){let Bt=Ce=>{this.value=void 0!==Ce?Ce:ne,this.lastKey=ne,this._ref.markForCheck()};if(it){let Ce=this.translate.getParsedResult(it,ne,at);de(Ce.subscribe)?Ce.subscribe(Bt):Bt(Ce)}this.translate.get(ne,at).subscribe(Bt)}transform(ne,...at){if(!ne||!ne.length)return ne;if(Je(ne,this.lastKey)&&Je(at,this.lastParams))return this.value;let it;if($e(at[0])&&at.length)if("string"==typeof at[0]&&at[0].length){let Bt=at[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{it=JSON.parse(Bt)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${at[0]}`)}}else"object"==typeof at[0]&&!Array.isArray(at[0])&&(it=at[0]);return this.lastKey=ne,this.lastParams=at,this.updateValue(ne,it),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Bt=>{this.lastKey&&Bt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(ne,it,Bt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Bt=>{this.lastKey&&(this.lastKey=null,this.updateValue(ne,it,Bt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(ne,it))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return xt.\u0275fac=function(ne){return new(ne||xt)(m.Y36(yt,16),m.Y36(m.sBO,16))},xt.\u0275pipe=m.Yjl({name:"translate",type:xt,pure:!1}),xt.\u0275prov=m.Yz7({token:xt,factory:xt.\u0275fac}),xt})(),Sn=(()=>{class xt{static forRoot(ne={}){return{ngModule:xt,providers:[ne.loader||{provide:ze,useClass:Re},ne.compiler||{provide:Me,useClass:_e},ne.parser||{provide:Oe,useClass:ae},ne.missingTranslationHandler||{provide:dt,useClass:Ye},fe,{provide:Ge,useValue:ne.isolate},{provide:Se,useValue:ne.useDefaultLang},{provide:St,useValue:ne.extend},{provide:Ke,useValue:ne.defaultLanguage},yt]}}static forChild(ne={}){return{ngModule:xt,providers:[ne.loader||{provide:ze,useClass:Re},ne.compiler||{provide:Me,useClass:_e},ne.parser||{provide:Oe,useClass:ae},ne.missingTranslationHandler||{provide:dt,useClass:Ye},{provide:Ge,useValue:ne.isolate},{provide:Se,useValue:ne.useDefaultLang},{provide:St,useValue:ne.extend},{provide:Ke,useValue:ne.defaultLanguage},yt]}}}return xt.\u0275fac=function(ne){return new(ne||xt)},xt.\u0275mod=m.oAB({type:xt}),xt.\u0275inj=m.cJS({}),xt})()},8766:(hn,ft,D)=>{D.d(ft,{Lj:()=>rt,X3:()=>Ft});var m=D(5861);let E,M;const Fe=new WeakMap,re=new WeakMap,pe=new WeakMap,X=new WeakMap,se=new WeakMap;let ze={get(fe,Ge,Se){if(fe instanceof IDBTransaction){if("done"===Ge)return re.get(fe);if("objectStoreNames"===Ge)return fe.objectStoreNames||pe.get(fe);if("store"===Ge)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return Je(fe[Ge])},set:(fe,Ge,Se)=>(fe[Ge]=Se,!0),has:(fe,Ge)=>fe instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in fe};function Ye(fe){return"function"==typeof fe?function dt(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return M||(M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...Ge){return fe.apply($e(this),Ge),Je(Fe.get(this))}:function(...Ge){return Je(fe.apply($e(this),Ge))}:function(Ge,...Se){const Ke=fe.call($e(this),Ge,...Se);return pe.set(Ke,Ge.sort?Ge.sort():[Ge]),Je(Ke)}}(fe):(fe instanceof IDBTransaction&&function Te(fe){if(re.has(fe))return;const Ge=new Promise((Se,Ke)=>{const St=()=>{fe.removeEventListener("complete",yt),fe.removeEventListener("error",Qt),fe.removeEventListener("abort",Qt)},yt=()=>{Se(),St()},Qt=()=>{Ke(fe.error||new DOMException("AbortError","AbortError")),St()};fe.addEventListener("complete",yt),fe.addEventListener("error",Qt),fe.addEventListener("abort",Qt)});re.set(fe,Ge)}(fe),((fe,Ge)=>Ge.some(Se=>fe instanceof Se))(fe,function de(){return E||(E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,ze):fe)}function Je(fe){if(fe instanceof IDBRequest)return function ue(fe){const Ge=new Promise((Se,Ke)=>{const St=()=>{fe.removeEventListener("success",yt),fe.removeEventListener("error",Qt)},yt=()=>{Se(Je(fe.result)),St()},Qt=()=>{Ke(fe.error),St()};fe.addEventListener("success",yt),fe.addEventListener("error",Qt)});return Ge.then(Se=>{Se instanceof IDBCursor&&Fe.set(Se,fe)}).catch(()=>{}),se.set(Ge,fe),Ge}(fe);if(X.has(fe))return X.get(fe);const Ge=Ye(fe);return Ge!==fe&&(X.set(fe,Ge),se.set(Ge,fe)),Ge}const $e=fe=>se.get(fe);function Ft(fe,Ge,{blocked:Se,upgrade:Ke,blocking:St,terminated:yt}={}){const Qt=indexedDB.open(fe,Ge),Jt=Je(Qt);return Ke&&Qt.addEventListener("upgradeneeded",Sn=>{Ke(Je(Qt.result),Sn.oldVersion,Sn.newVersion,Je(Qt.transaction))}),Se&&Qt.addEventListener("blocked",()=>Se()),Jt.then(Sn=>{yt&&Sn.addEventListener("close",()=>yt()),St&&Sn.addEventListener("versionchange",()=>St())}).catch(()=>{}),Jt}function rt(fe,{blocked:Ge}={}){const Se=indexedDB.deleteDatabase(fe);return Ge&&Se.addEventListener("blocked",()=>Ge()),Je(Se).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],Me=new Map;function _e(fe,Ge){if(!(fe instanceof IDBDatabase)||Ge in fe||"string"!=typeof Ge)return;if(Me.get(Ge))return Me.get(Ge);const Se=Ge.replace(/FromIndex$/,""),Ke=Ge!==Se,St=ae.includes(Se);if(!(Se in(Ke?IDBIndex:IDBObjectStore).prototype)||!St&&!Oe.includes(Se))return;const yt=function(){var Qt=(0,m.Z)(function*(Jt,...Sn){const xt=this.transaction(Jt,St?"readwrite":"readonly");let an=xt.store;return Ke&&(an=an.index(Sn.shift())),(yield Promise.all([an[Se](...Sn),St&&xt.done]))[0]});return function(Sn){return Qt.apply(this,arguments)}}();return Me.set(Ge,yt),yt}!function Re(fe){ze=fe(ze)}(fe=>({...fe,get:(Ge,Se,Ke)=>_e(Ge,Se)||fe.get(Ge,Se,Ke),has:(Ge,Se)=>!!_e(Ge,Se)||fe.has(Ge,Se)}))},5861:(hn,ft,D)=>{function m(E,M,de,be,Fe,re,pe){try{var X=E[re](pe),se=X.value}catch(ue){return void de(ue)}X.done?M(se):Promise.resolve(se).then(be,Fe)}function b(E){return function(){var M=this,de=arguments;return new Promise(function(be,Fe){var re=E.apply(M,de);function pe(se){m(re,be,Fe,pe,X,"next",se)}function X(se){m(re,be,Fe,pe,X,"throw",se)}pe(void 0)})}}D.d(ft,{Z:()=>b})}},hn=>{hn(hn.s=590)}]);